"use strict";(self.webpackChunkringoffrire=self.webpackChunkringoffrire||[]).push([[179],{2011:(ot,Ie,P)=>{P.d(Ie,{Dh:()=>fe,GT:()=>me,cc:()=>Me,hO:()=>qe,on:()=>$,pX:()=>ne,xv:()=>ce});var d=P(5e3),Q=P(127),N=P(5813);ot=P.hmd(ot);const le=["ngOnDestroy"],ne=(we,Je,Ze,Se={})=>new Proxy(we,{get:(ve,Ee)=>Ze.runOutsideAngular(()=>{var $e;if(we[Ee])return(null===($e=null==Se?void 0:Se.spy)||void 0===$e?void 0:$e.get)&&Se.spy.get(Ee,we[Ee]),we[Ee];if(le.indexOf(Ee)>-1)return()=>{};const je=Je.toPromise().then(se=>{const We=se&&se[Ee];return"function"==typeof We?We.bind(se):We&&We.then?We.then(te=>Ze.run(()=>te)):Ze.run(()=>We)});return new Proxy(()=>{},{get:(se,We)=>je[We],apply:(se,We,te)=>je.then(ue=>{var ie;const Ce=ue&&ue(...te);return(null===(ie=null==Se?void 0:Se.spy)||void 0===ie?void 0:ie.apply)&&Se.spy.apply(Ee,te,Ce),Ce})})})}),me=(we,Je)=>{Je.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Se=>{Object.defineProperty(we.prototype,Se,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Se))})})};class ee{constructor(Je){return Je}}const fe=new d.OlP("angularfire2.app.options"),ce=new d.OlP("angularfire2.app.name");function $(we,Je,Ze){const ve="object"==typeof Ze&&Ze||{};ve.name=ve.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const $e=Q.Z.apps.filter(je=>je&&je.name===ve.name)[0]||Je.runOutsideAngular(()=>Q.Z.initializeApp(we,ve));try{JSON.stringify(we)!==JSON.stringify($e.options)&&G("error",`${$e.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ee($e)}const G=(we,...Je)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[we](...Je)},J={provide:ee,useFactory:$,deps:[fe,d.R0b,[new d.FiY,ce]]};let qe=(()=>{class we{constructor(Ze){Q.Z.registerVersion("angularfire",N.q4.full,"core"),Q.Z.registerVersion("angularfire",N.q4.full,"app-compat"),Q.Z.registerVersion("angular",d.q4F.full,Ze.toString())}static initializeApp(Ze,Se){return{ngModule:we,providers:[{provide:fe,useValue:Ze},{provide:ce,useValue:Se}]}}}return we.\u0275fac=function(Ze){return new(Ze||we)(d.LFG(d.Lbi))},we.\u0275mod=d.oAB({type:we}),we.\u0275inj=d.cJS({providers:[J]}),we})();function Me(we,Je,Ze,Se,ve){const[,Ee,$e]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===we)||[];if(Ee)return function Oe(we,Je){try{return we.toString()===Je.toString()}catch(Ze){return we===Je}}(ve,$e)||(pe("error",`${Je} was already initialized on the ${Ze} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ve,was:$e})),Ee;{const je=Se();return globalThis.\u0275AngularfireInstanceCache.push([we,je,ve]),je}}const Ve=!!ot.hot,pe=(we,...Je)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[we](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ot,Ie,P)=>{P.d(Ie,{q4:()=>bu,iC:()=>Jn,HU:()=>Ia,vb:()=>Dl,JM:()=>Co});var d=P(5e3),Q=P(5867),N=P(5861),le=P(9681),ne=P(2090),me=P(4859),ee=P(1877);const fe="@firebase/installations",G="w:0.5.8",J="FIS_v2",we=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(D){return D instanceof ne.ZR&&D.code.includes("request-failed")}function Ze({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Se(D){return{token:D.token,requestStatus:2,expiresIn:te(D.expiresIn),creationTime:Date.now()}}function ve(D,I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,N.Z)(function*(D,I){const V=(yield I.json()).error;return we.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function $e({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function je(D,{refreshToken:I}){const k=$e(D);return k.append("Authorization",function ue(D){return`${J} ${D}`}(I)),k}function se(D){return We.apply(this,arguments)}function We(){return(We=(0,N.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function te(D){return Number(D.replace("s","000"))}function ie(D,I){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:k}){const V=Ze(D),K=$e(D),re=I.getImmediate({optional:!0});if(re){const Dt=yield re.getHeartbeatsHeader();Dt&&K.append("x-firebase-client",Dt)}const Qe={method:"POST",headers:K,body:JSON.stringify({fid:k,authVersion:J,appId:D.appId,sdkVersion:G})},rt=yield se(()=>fetch(V,Qe));if(rt.ok){const Dt=yield rt.json();return{fid:Dt.fid||k,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:Se(Dt.authToken)}}throw yield ve("Create Installation",rt)})).apply(this,arguments)}function _e(D){return new Promise(I=>{setTimeout(I,D)})}const It=/^[cdef][\w-]{21}$/;function on(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function ze(D){return function Fe(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return It.test(k)?k:""}catch(D){return""}}function qt(D){return`${D.appName}!${D.appId}`}const Kn=new Map;function Dn(D,I){const k=qt(D);Xt(k,I),function Wt(D,I){const k=function Jr(){return!rr&&"BroadcastChannel"in self&&(rr=new BroadcastChannel("[Firebase] FID Change"),rr.onmessage=D=>{Xt(D.data.key,D.data.fid)}),rr}();k&&k.postMessage({key:D,fid:I}),function Os(){0===Kn.size&&rr&&(rr.close(),rr=null)}()}(k,I)}function Xt(D,I){const k=Kn.get(D);if(k)for(const V of k)V(I)}let rr=null;const Tr="firebase-installations-store";let rs=null;function is(){return rs||(rs=(0,ne.X3)("firebase-installations-database",1,(D,I)=>{0===I&&D.createObjectStore(Tr)})),rs}function ct(D,I){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,N.Z)(function*(D,I){const k=qt(D),K=(yield is()).transaction(Tr,"readwrite"),re=K.objectStore(Tr),Re=yield re.get(k);return yield re.put(I,k),yield K.complete,(!Re||Re.fid!==I.fid)&&Dn(D,I.fid),I})).apply(this,arguments)}function Zn(D){return $n.apply(this,arguments)}function $n(){return($n=(0,N.Z)(function*(D){const I=qt(D),V=(yield is()).transaction(Tr,"readwrite");yield V.objectStore(Tr).delete(I),yield V.complete})).apply(this,arguments)}function ei(D,I){return lo.apply(this,arguments)}function lo(){return(lo=(0,N.Z)(function*(D,I){const k=qt(D),K=(yield is()).transaction(Tr,"readwrite"),re=K.objectStore(Tr),Re=yield re.get(k),Qe=I(Re);return void 0===Qe?yield re.delete(k):yield re.put(Qe,k),yield K.complete,Qe&&(!Re||Re.fid!==Qe.fid)&&Dn(D,Qe.fid),Qe})).apply(this,arguments)}function vn(D){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,N.Z)(function*(D){let I;const k=yield ei(D.appConfig,V=>{const K=Ps(V),re=ua(D,K);return I=re.registrationPromise,re.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function Ps(D){return Gt(D||{fid:on(),registrationStatus:0})}function ua(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(we.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},V=function Kt(D,I){return it.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:V}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:wt(D)}:{installationEntry:I}}function it(){return(it=(0,N.Z)(function*(D,I){try{const k=yield ie(D,I);return ct(D.appConfig,k)}catch(k){throw Je(k)&&409===k.customData.serverCode?yield Zn(D.appConfig):yield ct(D.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function wt(D){return ir.apply(this,arguments)}function ir(){return(ir=(0,N.Z)(function*(D){let I=yield Gi(D.appConfig);for(;1===I.registrationStatus;)yield _e(100),I=yield Gi(D.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield vn(D);return V||k}return I})).apply(this,arguments)}function Gi(D){return ei(D,I=>{if(!I)throw we.create("installation-not-found");return Gt(I)})}function Gt(D){return function uo(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function hr(D,I){return sr.apply(this,arguments)}function sr(){return(sr=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},k){const V=ht(D,k),K=je(D,k),re=I.getImmediate({optional:!0});if(re){const Dt=yield re.getHeartbeatsHeader();Dt&&K.append("x-firebase-client",Dt)}const Qe={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:G,appId:D.appId}})},rt=yield se(()=>fetch(V,Qe));if(rt.ok)return Se(yield rt.json());throw yield ve("Generate Auth Token",rt)})).apply(this,arguments)}function ht(D,{fid:I}){return`${Ze(D)}/${I}/authTokens:generate`}function fr(D){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,N.Z)(function*(D,I=!1){let k;const V=yield ei(D.appConfig,re=>{if(!Lt(re))throw we.create("not-registered");const Re=re.authToken;if(!I&&H(Re))return re;if(1===Re.requestStatus)return k=Ye(D,I),re;{if(!navigator.onLine)throw we.create("app-offline");const Qe=q(re);return k=ft(D,Qe),Qe}});return k?yield k:V.authToken})).apply(this,arguments)}function Ye(D,I){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,N.Z)(function*(D,I){let k=yield Xe(D.appConfig);for(;1===k.authToken.requestStatus;)yield _e(100),k=yield Xe(D.appConfig);const V=k.authToken;return 0===V.requestStatus?fr(D,I):V})).apply(this,arguments)}function Xe(D){return ei(D,I=>{if(!Lt(I))throw we.create("not-registered");return function de(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ft(D,I){return jt.apply(this,arguments)}function jt(){return(jt=(0,N.Z)(function*(D,I){try{const k=yield hr(D,I),V=Object.assign(Object.assign({},I),{authToken:k});return yield ct(D.appConfig,V),k}catch(k){if(!Je(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield ct(D.appConfig,V)}else yield Zn(D.appConfig);throw k}})).apply(this,arguments)}function Lt(D){return void 0!==D&&2===D.registrationStatus}function H(D){return 2===D.requestStatus&&!function B(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function q(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Be(){return(Be=(0,N.Z)(function*(D){const I=D,{installationEntry:k,registrationPromise:V}=yield vn(I);return V?V.catch(console.error):fr(I).catch(console.error),k.fid})).apply(this,arguments)}function Jt(){return(Jt=(0,N.Z)(function*(D,I=!1){const k=D;return yield pr(k),(yield fr(k,I)).token})).apply(this,arguments)}function pr(D){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,N.Z)(function*(D){const{registrationPromise:I}=yield vn(D);I&&(yield I)})).apply(this,arguments)}function Gn(D){return we.create("missing-app-config-values",{valueName:D})}const da="installations",Pe=D=>{const I=D.getProvider("app").getImmediate(),k=function ss(D){if(!D||!D.options)throw Gn("App Configuration");if(!D.name)throw Gn("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!D.options[k])throw Gn(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ot=D=>{const I=D.getProvider("app").getImmediate(),k=(0,le._getProvider)(I,da).getImmediate();return{getId:()=>function X(D){return Be.apply(this,arguments)}(k),getToken:K=>function yt(D){return Jt.apply(this,arguments)}(k,K)}};(function pn(){(0,le._registerComponent)(new me.wA(da,Pe,"PUBLIC")),(0,le._registerComponent)(new me.wA("installations-internal",Ot,"PRIVATE"))})(),(0,le.registerVersion)(fe,"0.5.8"),(0,le.registerVersion)(fe,"0.5.8","esm2017");const or="@firebase/remote-config",Mn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mc{constructor(I,k,V,K){this.client=I,this.storage=k,this.storageCache=V,this.logger=K}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,K=V<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var k=this;return(0,N.Z)(function*(){const[V,K]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(K&&k.isCachedDataFresh(I.cacheMaxAgeMillis,V))return K;I.eTag=K&&K.eTag;const re=yield k.client.fetch(I),Re=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Re.push(k.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Re),re})()}}function _c(D=navigator){return D.languages&&D.languages[0]||D.language}class Ya{constructor(I,k,V,K,re,Re){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=V,this.projectId=K,this.apiKey=re,this.appId=Re}fetch(I){var k=this;return(0,N.Z)(function*(){const[V,K]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},rt={sdk_version:k.sdkVersion,app_instance_id:V,app_instance_id_token:K,app_id:k.appId,language_code:_c()},Dt={method:"POST",headers:Qe,body:JSON.stringify(rt)},Yt=fetch(Re,Dt),St=new Promise((Ti,Si)=>{I.signal.addEventListener(()=>{const Ai=new Error("The operation was aborted.");Ai.name="AbortError",Si(Ai)})});let er;try{yield Promise.race([Yt,St]),er=yield Yt}catch(Ti){let Si="fetch-client-network";throw"AbortError"===Ti.name&&(Si="fetch-timeout"),Mn.create(Si,{originalErrorMessage:Ti.message})}let Rn=er.status;const Do=er.headers.get("ETag")||void 0;let Tl,Zi;if(200===er.status){let Ti;try{Ti=yield er.json()}catch(Si){throw Mn.create("fetch-client-parse",{originalErrorMessage:Si.message})}Tl=Ti.entries,Zi=Ti.state}if("INSTANCE_STATE_UNSPECIFIED"===Zi?Rn=500:"NO_CHANGE"===Zi?Rn=304:("NO_TEMPLATE"===Zi||"EMPTY_CONFIG"===Zi)&&(Tl={}),304!==Rn&&200!==Rn)throw Mn.create("fetch-status",{httpStatus:Rn});return{status:Rn,eTag:Do,config:Tl}})()}}class Jf{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,N.Z)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,V)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:V}){var K=this;return(0,N.Z)(function*(){yield function Nn(D,I){return new Promise((k,V)=>{const K=Math.max(I-Date.now(),0),re=setTimeout(k,K);D.addEventListener(()=>{clearTimeout(re),V(Mn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const re=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),re}catch(re){if(!function yc(D){if(!(D instanceof ne.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(re))throw re;const Re={throttleEndTimeMillis:Date.now()+(0,ne.$s)(V),backoffCount:V+1};return yield K.storage.setThrottleMetadata(Re),K.attemptFetch(I,Re)}})()}}class vc{constructor(I,k,V,K,re){this.app=I,this._client=k,this._storageCache=V,this._storage=K,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xl(D,I){const k=D.target.error||void 0;return Mn.create(I,{originalErrorMessage:k&&k.message})}const Bs="app_namespace_store";class rp{constructor(I,k,V,K=function np(){return new Promise((D,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=V=>{I(Xl(V,"storage-open"))},k.onsuccess=V=>{D(V.target.result)},k.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Bs,{keyPath:"compositeKey"})}}catch(k){I(Mn.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=V,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,N.Z)(function*(){const V=yield k.openDbPromise;return new Promise((K,re)=>{const Qe=V.transaction([Bs],"readonly").objectStore(Bs),rt=k.createCompositeKey(I);try{const Dt=Qe.get(rt);Dt.onerror=Yt=>{re(Xl(Yt,"storage-get"))},Dt.onsuccess=Yt=>{const St=Yt.target.result;K(St?St.value:void 0)}}catch(Dt){re(Mn.create("storage-get",{originalErrorMessage:Dt&&Dt.message}))}})})()}set(I,k){var V=this;return(0,N.Z)(function*(){const K=yield V.openDbPromise;return new Promise((re,Re)=>{const rt=K.transaction([Bs],"readwrite").objectStore(Bs),Dt=V.createCompositeKey(I);try{const Yt=rt.put({compositeKey:Dt,value:k});Yt.onerror=St=>{Re(Xl(St,"storage-set"))},Yt.onsuccess=()=>{re()}}catch(Yt){Re(Mn.create("storage-set",{originalErrorMessage:Yt&&Yt.message}))}})})()}delete(I){var k=this;return(0,N.Z)(function*(){const V=yield k.openDbPromise;return new Promise((K,re)=>{const Qe=V.transaction([Bs],"readwrite").objectStore(Bs),rt=k.createCompositeKey(I);try{const Dt=Qe.delete(rt);Dt.onerror=Yt=>{re(Xl(Yt,"storage-delete"))},Dt.onsuccess=()=>{K()}}catch(Dt){re(Mn.create("storage-delete",{originalErrorMessage:Dt&&Dt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Ec{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const k=I.storage.getLastFetchStatus(),V=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),re=yield k;re&&(I.lastFetchStatus=re);const Re=yield V;Re&&(I.lastSuccessfulFetchTimestampMillis=Re);const Qe=yield K;Qe&&(I.activeConfig=Qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function fo(){return nh.apply(this,arguments)}function nh(){return(nh=(0,N.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Lo(){(0,le._registerComponent)(new me.wA("remote-config",function D(I,{instanceIdentifier:k}){const V=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Mn.create("registration-window");if(!(0,ne.hl)())throw Mn.create("indexed-db-unavailable");const{projectId:re,apiKey:Re,appId:Qe}=V.options;if(!re)throw Mn.create("registration-project-id");if(!Re)throw Mn.create("registration-api-key");if(!Qe)throw Mn.create("registration-app-id");const rt=new rp(Qe,V.name,k=k||"firebase"),Dt=new Ec(rt),Yt=new ee.Yd(or);Yt.logLevel=ee.in.ERROR;const St=new Ya(K,le.SDK_VERSION,k,re,Re,Qe),er=new Jf(St,rt),Rn=new mc(er,rt,Dt,Yt),Do=new vc(V,Rn,Dt,rt,Yt);return function Br(D){const I=(0,ne.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Do),Do},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(or,"0.3.7"),(0,le.registerVersion)(or,"0.3.7","esm2017")}();const Jl="/firebase-messaging-sw.js",Us="/firebase-cloud-messaging-push-scope",Hr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",po="google.c.a.c_id",fa="google.c.a.c_l",wc="google.c.a.ts",ip="google.c.a.e";var js=(()=>{return(D=js||(js={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",js;var D})();function ri(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xa(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),K=new Uint8Array(V.length);for(let re=0;re<V.length;++re)K[re]=V.charCodeAt(re);return K}const Ja="fcm_token_details_db",ar="fcm_token_object_Store";function rh(D){return el.apply(this,arguments)}function el(){return el=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Ja))return null;let I=null;return(yield(0,ne.X3)(Ja,5,function(){var V=(0,N.Z)(function*(K,re,Re,Qe){var rt;if(re<2||!K.objectStoreNames.contains(ar))return;const Dt=Qe.objectStore(ar),Yt=yield Dt.index("fcmSenderId").get(D);if(yield Dt.clear(),Yt)if(2===re){const St=Yt;if(!St.auth||!St.p256dh||!St.endpoint)return;I={token:St.fcmToken,createTime:null!==(rt=St.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:ri(St.vapidKey)}}}else if(3===re){const St=Yt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ri(St.auth),p256dh:ri(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ri(St.vapidKey)}}}else if(4===re){const St=Yt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ri(St.auth),p256dh:ri(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ri(St.vapidKey)}}}});return function(K,re,Re,Qe){return V.apply(this,arguments)}}())).close(),yield(0,ne.Lj)(Ja),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),Cc(I)?I:null}),el.apply(this,arguments)}function Cc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const us="firebase-messaging-store";let pa=null;function eu(){return pa||(pa=(0,ne.X3)("firebase-messaging-database",1,(D,I)=>{0===I&&D.createObjectStore(us)})),pa}function yn(D){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,N.Z)(function*(D){const I=_o(D),V=yield(yield eu()).transaction(us).objectStore(us).get(I);if(V)return V;{const K=yield rh(D.appConfig.senderId);if(K)return yield Hs(D,K),K}})).apply(this,arguments)}function Hs(D,I){return un.apply(this,arguments)}function un(){return(un=(0,N.Z)(function*(D,I){const k=_o(D),K=(yield eu()).transaction(us,"readwrite");return yield K.objectStore(us).put(I,k),yield K.complete,I})).apply(this,arguments)}function Dc(D){return mo.apply(this,arguments)}function mo(){return(mo=(0,N.Z)(function*(D){const I=_o(D),V=(yield eu()).transaction(us,"readwrite");yield V.objectStore(us).delete(I),yield V.complete})).apply(this,arguments)}function _o({appConfig:D}){return D.appId}const xn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ga(D,I){return wi.apply(this,arguments)}function wi(){return(wi=(0,N.Z)(function*(D,I){const k=yield Gs(D),V=pt(I),K={method:"POST",headers:k,body:JSON.stringify(V)};let re;try{re=yield(yield fetch($r(D.appConfig),K)).json()}catch(Re){throw xn.create("token-subscribe-failed",{errorInfo:Re})}if(re.error)throw xn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw xn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function mr(D,I){return $s.apply(this,arguments)}function $s(){return($s=(0,N.Z)(function*(D,I){const k=yield Gs(D),V=pt(I.subscriptionOptions),K={method:"PATCH",headers:k,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(`${$r(D.appConfig)}/${I.token}`,K)).json()}catch(Re){throw xn.create("token-update-failed",{errorInfo:Re})}if(re.error)throw xn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw xn.create("token-update-no-token");return re.token})).apply(this,arguments)}function cs(D,I){return rl.apply(this,arguments)}function rl(){return(rl=(0,N.Z)(function*(D,I){const V={method:"DELETE",headers:yield Gs(D)};try{const re=yield(yield fetch(`${$r(D.appConfig)}/${I}`,V)).json();if(re.error)throw xn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(K){throw xn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function $r({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Gs(D){return zs.apply(this,arguments)}function zs(){return(zs=(0,N.Z)(function*({appConfig:D,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function pt({p256dh:D,auth:I,endpoint:k,vapidKey:V}){const K={web:{endpoint:k,auth:I,p256dh:D}};return V!==Hr&&(K.web.applicationPubKey=V),K}const il=6048e5;function ma(D){return sl.apply(this,arguments)}function sl(){return(sl=(0,N.Z)(function*(D){const I=yield ru(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:ri(I.getKey("auth")),p256dh:ri(I.getKey("p256dh"))},V=yield yn(D.firebaseDependencies);if(V){if(Uo(V.subscriptionOptions,k))return Date.now()>=V.createTime+il?tu(D,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield cs(D.firebaseDependencies,V.token)}catch(K){console.warn(K)}return De(D.firebaseDependencies,k)}return De(D.firebaseDependencies,k)})).apply(this,arguments)}function ol(D){return al.apply(this,arguments)}function al(){return(al=(0,N.Z)(function*(D){const I=yield yn(D.firebaseDependencies);I&&(yield cs(D.firebaseDependencies,I.token),yield Dc(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function tu(D,I){return nu.apply(this,arguments)}function nu(){return(nu=(0,N.Z)(function*(D,I){try{const k=yield mr(D.firebaseDependencies,I),V=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Hs(D.firebaseDependencies,V),k}catch(k){throw yield ol(D),k}})).apply(this,arguments)}function De(D,I){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,N.Z)(function*(D,I){const V={token:yield ga(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Hs(D,V),V.token})).apply(this,arguments)}function ru(D,I){return bn.apply(this,arguments)}function bn(){return(bn=(0,N.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xa(I)})})).apply(this,arguments)}function Uo(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function jo(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Gr(D,I){if(!I.notification)return;D.notification={};const k=I.notification.title;k&&(D.notification.title=k);const V=I.notification.body;V&&(D.notification.body=V);const K=I.notification.image;K&&(D.notification.image=K)}(I,D),function iu(D,I){!I.data||(D.data=I.data)}(I,D),function su(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const k=I.fcmOptions.link;k&&(D.fcmOptions.link=k);const V=I.fcmOptions.analytics_label;V&&(D.fcmOptions.analyticsLabel=V)}(I,D),I}function Ic(D){return"object"==typeof D&&!!D&&po in D}function ou(D,I){const k=[];for(let V=0;V<D.length;V++)k.push(D.charAt(V)),V<I.length&&k.push(I.charAt(V));return k.join("")}function qs(D){return xn.create("missing-app-config-values",{valueName:D})}ou("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ou("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lr{constructor(I,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function ll(D){if(!D||!D.options)throw qs("App Configuration Object");if(!D.name)throw qs("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const V of I)if(!k[V])throw qs(V);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function ii(D){return ul.apply(this,arguments)}function ul(){return(ul=(0,N.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Jl,{scope:Us}),D.swRegistration.update().catch(()=>{})}catch(I){throw xn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Ws(D,I){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,N.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield ii(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function au(D,I){return cl.apply(this,arguments)}function cl(){return(cl=(0,N.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Hr)})).apply(this,arguments)}function lu(){return(lu=(0,N.Z)(function*(D,I){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield au(D,null==I?void 0:I.vapidKey),yield Ws(D,null==I?void 0:I.serviceWorkerRegistration),ma(D)})).apply(this,arguments)}function _a(D,I,k){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,N.Z)(function*(D,I,k){const V=uu(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[po],message_name:k[fa],message_time:k[wc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function uu(D){switch(D){case js.NOTIFICATION_CLICKED:return"notification_open";case js.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Tc(){return(Tc=(0,N.Z)(function*(D,I){const k=I.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===js.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(jo(k)):D.onMessageHandler.next(jo(k)));const V=k.data;Ic(V)&&"1"===V[ip]&&(yield _a(D,k.messageType,V))})).apply(this,arguments)}const du="@firebase/messaging",Sc=D=>{const I=new lr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function cu(D,I){return Tc.apply(this,arguments)}(I,k)),I},vo=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:V=>function dl(D,I){return lu.apply(this,arguments)}(I,V)}};function Mc(){return bo.apply(this,arguments)}function bo(){return(bo=(0,N.Z)(function*(){try{yield(0,ne.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ac(){(0,le._registerComponent)(new me.wA("messaging",Sc,"PUBLIC")),(0,le._registerComponent)(new me.wA("messaging-internal",vo,"PRIVATE")),(0,le.registerVersion)(du,"0.9.12"),(0,le.registerVersion)(du,"0.9.12","esm2017")}();const fu="analytics",Sm="firebase_id",ya="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hl="https://www.googletagmanager.com/gtag/js",Fn=new ee.Yd("@firebase/analytics");function xc(D){return Promise.all(D.map(I=>I.catch(k=>k)))}function sp(D,I){const k=document.createElement("script");k.src=`${hl}?l=${D}&id=${I}`,k.async=!0,document.head.appendChild(k)}function $o(D,I,k,V,K,re){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,N.Z)(function*(D,I,k,V,K,re){const Re=V[K];try{if(Re)yield I[Re];else{const rt=(yield xc(k)).find(Dt=>Dt.measurementId===K);rt&&(yield I[rt.appId])}}catch(Qe){Fn.error(Qe)}D("config",K,re)})).apply(this,arguments)}function gu(D,I,k,V,K){return qi.apply(this,arguments)}function qi(){return(qi=(0,N.Z)(function*(D,I,k,V,K){try{let re=[];if(K&&K.send_to){let Re=K.send_to;Array.isArray(Re)||(Re=[Re]);const Qe=yield xc(k);for(const rt of Re){const Dt=Qe.find(St=>St.measurementId===rt),Yt=Dt&&I[Dt.appId];if(!Yt){re=[];break}re.push(Yt)}}0===re.length&&(re=Object.values(I)),yield Promise.all(re),D("event",V,K||{})}catch(re){Fn.error(re)}})).apply(this,arguments)}function op(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(hl))return I;return null}const yr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),zr=new class wn{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function va(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function fl(D){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,N.Z)(function*(D){var I;const{appId:k,apiKey:V}=D,K={method:"GET",headers:va(V)},re=ya.replace("{app-id}",k),Re=yield fetch(re,K);if(200!==Re.status&&304!==Re.status){let Qe="";try{const rt=yield Re.json();(null===(I=rt.error)||void 0===I?void 0:I.message)&&(Qe=rt.error.message)}catch(rt){}throw yr.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:Qe})}return Re.json()})).apply(this,arguments)}function ap(D){return vr.apply(this,arguments)}function vr(){return(vr=(0,N.Z)(function*(D,I=zr,k){const{appId:V,apiKey:K,measurementId:re}=D.options;if(!V)throw yr.create("no-app-id");if(!K){if(re)return{measurementId:re,appId:V};throw yr.create("no-api-key")}const Re=I.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new zo;return setTimeout((0,N.Z)(function*(){Qe.abort()}),void 0!==k?k:6e4),ba({appId:V,apiKey:K,measurementId:re},Re,Qe,I)})).apply(this,arguments)}function ba(D,I,k){return fs.apply(this,arguments)}function fs(){return(fs=(0,N.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:k},V,K=zr){const{appId:re,measurementId:Re}=D;try{yield pl(V,I)}catch(Qe){if(Re)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:re,measurementId:Re};throw Qe}try{const Qe=yield fl(D);return K.deleteThrottleMetadata(re),Qe}catch(Qe){if(!Oc(Qe)){if(K.deleteThrottleMetadata(re),Re)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:re,measurementId:Re};throw Qe}const rt=503===Number(Qe.customData.httpStatus)?(0,ne.$s)(k,K.intervalMillis,30):(0,ne.$s)(k,K.intervalMillis),Dt={throttleEndTimeMillis:Date.now()+rt,backoffCount:k+1};return K.setThrottleMetadata(re,Dt),Fn.debug(`Calling attemptFetch again in ${rt} millis`),ba(D,Dt,V,K)}})).apply(this,arguments)}function pl(D,I){return new Promise((k,V)=>{const K=Math.max(I-Date.now(),0),re=setTimeout(k,K);D.addEventListener(()=>{clearTimeout(re),V(yr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Oc(D){if(!(D instanceof ne.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class zo{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function gl(){return si.apply(this,arguments)}function si(){return(si=(0,N.Z)(function*(){if(!(0,ne.hl)())return Fn.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(D){return Fn.warn(yr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Ys(){return(Ys=(0,N.Z)(function*(D,I,k,V,K,re,Re){var Qe;const rt=ap(D);rt.then(Rn=>{k[Rn.measurementId]=Rn.appId,D.options.measurementId&&Rn.measurementId!==D.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Rn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Rn=>Fn.error(Rn)),I.push(rt);const Dt=gl().then(Rn=>{if(Rn)return V.getId()}),[Yt,St]=yield Promise.all([rt,Dt]);op()||sp(re,Yt.measurementId),K("js",new Date);const er=null!==(Qe=null==Re?void 0:Re.config)&&void 0!==Qe?Qe:{};return er.origin="firebase",er.update=!0,null!=St&&(er[Sm]=St),K("config",Yt.measurementId,er),Yt.measurementId})).apply(this,arguments)}class Qs{constructor(I){this.app=I}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},Eo=[];const Ea={};let gn,Ln,qr="dataLayer",yu=!1;function Ki(D,I,k){!function vu(){const D=[];if((0,ne.ru)()&&D.push("This is a browser extension environment."),(0,ne.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((V,K)=>`(${K+1}) ${V}`).join(" "),k=yr.create("invalid-analytics-context",{errorInfo:I});Fn.warn(k.message)}}();const V=D.options.appId;if(!V)throw yr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw yr.create("no-api-key");Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[V])throw yr.create("already-exists",{id:V});if(!yu){!function hs(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(qr);const{wrappedGtag:re,gtagCore:Re}=function kc(D,I,k,V,K){let re=function(...Re){window[V].push(arguments)};return window[K]&&"function"==typeof window[K]&&(re=window[K]),window[K]=function mu(D,I,k,V){function re(){return(re=(0,N.Z)(function*(Re,Qe,rt){try{"event"===Re?yield gu(D,I,k,Qe,rt):"config"===Re?yield $o(D,I,k,V,Qe,rt):D("set",Qe)}catch(Dt){Fn.error(Dt)}})).apply(this,arguments)}return function K(Re,Qe,rt){return re.apply(this,arguments)}}(re,D,I,k),{gtagCore:re,wrappedGtag:window[K]}}(oi,Eo,Ea,qr,"gtag");Ln=re,gn=Re,yu=!0}return oi[V]=function qo(D,I,k,V,K,re,Re){return Ys.apply(this,arguments)}(D,Eo,Ea,I,gn,qr,k),new Qs(D)}function ml(){return(ml=(0,N.Z)(function*(D,I,k,V,K){if(K&&K.global)D("event",k,V);else{const re=yield I;D("event",k,Object.assign(Object.assign({},V),{send_to:re}))}})).apply(this,arguments)}function li(){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,N.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(D){return!1}})).apply(this,arguments)}const Ca="@firebase/analytics";!function sh(){(0,le._registerComponent)(new me.wA(fu,(I,{options:k})=>Ki(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new me.wA("analytics-internal",function D(I){try{const k=I.getProvider(fu).getImmediate();return{logEvent:(V,K,re)=>function dp(D,I,k,V){D=(0,ne.m9)(D),function Pc(D,I,k,V,K){return ml.apply(this,arguments)}(Ln,oi[D.app.options.appId],I,k,V).catch(K=>Fn.error(K))}(k,V,K,re)}}catch(k){throw yr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(Ca,"0.7.8"),(0,le.registerVersion)(Ca,"0.7.8","esm2017")}();var Er=P(4408),hp=P(7565);const vl=new class Sn extends hp.v{}(class Ar extends Er.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(I,k,V):I.flush(this)}});var oh=P(4986),bl=P(8505),ur=P(9468),Kr=P(5363);const bu=new d.GfV("7.3.0"),ps="__angularfire_symbol__analyticsIsSupportedValue",Mr="__angularfire_symbol__analyticsIsSupported",Di="__angularfire_symbol__remoteConfigIsSupportedValue",Wo="__angularfire_symbol__remoteConfigIsSupported",El="__angularfire_symbol__messagingIsSupportedValue",Eu="__angularfire_symbol__messagingIsSupported";function Co(D,I,k){if(I){if(1===I.length)return I[0];const re=I.filter(Re=>Re.app===k);if(1===re.length)return re[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Mr]||(globalThis[Mr]=li().then(D=>globalThis[ps]=D).catch(()=>globalThis[ps]=!1)),globalThis[Eu]||(globalThis[Eu]=Mc().then(D=>globalThis[El]=D).catch(()=>globalThis[El]=!1)),globalThis[Wo]||(globalThis[Wo]=fo().then(D=>globalThis[Di]=D).catch(()=>globalThis[Di]=!1));const Dl=(D,I)=>{const k=I?[I]:(0,Q.C6)(),V=[];return k.forEach(K=>{K.container.getProvider(D).instances.forEach(Re=>{V.includes(Re)||V.push(Re)})}),V};function no(){}class Da{constructor(I,k=vl){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,V){const K=this.zone;return this.delegate.schedule(function(Re){K.runGuarded(()=>{I.apply(this,[Re])})},k,V)}}class Lc{constructor(I){this.zone=I,this.task=null}call(I,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",no,{},no,no)),k.pipe((0,bl.b)({next:V,complete:V,error:V})).subscribe(I).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ia=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Da(Zone.current)),this.insideAngular=k.run(()=>new Da(Zone.current,oh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ui(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Jn(D){return ui(),function ro(D){return function(k){return(k=k.lift(new Lc(D.ngZone))).pipe((0,ur.R)(D.outsideAngular),(0,Kr.Q)(D.insideAngular))}}(ui())(D)}},2090:(ot,Ie,P)=>{P.d(Ie,{$s:()=>uo,BH:()=>Me,G6:()=>se,L:()=>ce,LL:()=>Fe,Lj:()=>jt,Mn:()=>$e,Sg:()=>Oe,UG:()=>we,US:()=>ee,X3:()=>ft,ZB:()=>J,ZR:()=>_e,b$:()=>Se,d:()=>ve,eu:()=>te,hl:()=>We,jU:()=>Je,m9:()=>ht,ne:()=>ct,pd:()=>rs,r3:()=>Xt,ru:()=>Ze,tV:()=>$,uI:()=>pe,vZ:()=>Os,w1:()=>Ee,xO:()=>$i,xb:()=>rr,z$:()=>Ve,zI:()=>ue,zd:()=>Tr});var d=P(5861);const ne=function(H){const B=[];let q=0;for(let de=0;de<H.length;de++){let X=H.charCodeAt(de);X<128?B[q++]=X:X<2048?(B[q++]=X>>6|192,B[q++]=63&X|128):55296==(64512&X)&&de+1<H.length&&56320==(64512&H.charCodeAt(de+1))?(X=65536+((1023&X)<<10)+(1023&H.charCodeAt(++de)),B[q++]=X>>18|240,B[q++]=X>>12&63|128,B[q++]=X>>6&63|128,B[q++]=63&X|128):(B[q++]=X>>12|224,B[q++]=X>>6&63|128,B[q++]=63&X|128)}return B},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,B){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let X=0;X<H.length;X+=3){const Be=H[X],yt=X+1<H.length,Jt=yt?H[X+1]:0,pr=X+2<H.length,Zt=pr?H[X+2]:0;let fn=(15&Jt)<<2|Zt>>6,Qn=63&Zt;pr||(Qn=64,yt||(fn=64)),de.push(q[Be>>2],q[(3&Be)<<4|Jt>>4],q[fn],q[Qn])}return de.join("")},encodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(H):this.encodeByteArray(ne(H),B)},decodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(H):function(H){const B=[];let q=0,de=0;for(;q<H.length;){const X=H[q++];if(X<128)B[de++]=String.fromCharCode(X);else if(X>191&&X<224){const Be=H[q++];B[de++]=String.fromCharCode((31&X)<<6|63&Be)}else if(X>239&&X<365){const pr=((7&X)<<18|(63&H[q++])<<12|(63&H[q++])<<6|63&H[q++])-65536;B[de++]=String.fromCharCode(55296+(pr>>10)),B[de++]=String.fromCharCode(56320+(1023&pr))}else{const Be=H[q++],yt=H[q++];B[de++]=String.fromCharCode((15&X)<<12|(63&Be)<<6|63&yt)}}return B.join("")}(this.decodeStringToByteArray(H,B))},decodeStringToByteArray(H,B){this.init_();const q=B?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let X=0;X<H.length;){const Be=q[H.charAt(X++)],Jt=X<H.length?q[H.charAt(X)]:0;++X;const Zt=X<H.length?q[H.charAt(X)]:64;++X;const Rt=X<H.length?q[H.charAt(X)]:64;if(++X,null==Be||null==Jt||null==Zt||null==Rt)throw Error();de.push(Be<<2|Jt>>4),64!==Zt&&(de.push(Jt<<4&240|Zt>>2),64!==Rt&&de.push(Zt<<6&192|Rt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ce=function(H){return function(H){const B=ne(H);return ee.encodeByteArray(B,!0)}(H).replace(/\./g,"")},$=function(H){try{return ee.decodeString(H,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function J(H,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return B}for(const q in B)!B.hasOwnProperty(q)||!qe(q)||(H[q]=J(H[q],B[q]));return H}function qe(H){return"__proto__"!==H}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,q)=>{this.resolve=B,this.reject=q})}wrapCallback(B){return(q,de)=>{q?this.reject(q):this.resolve(de),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(q):B(q,de))}}}function Oe(H,B){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=B||"demo-project",X=H.iat||0,Be=H.sub||H.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:X,exp:X+3600,auth_time:X,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(yt)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Je(){return"object"==typeof self&&self.self===self}function Ze(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Ve().indexOf("Electron/")>=0}function Ee(){const H=Ve();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function $e(){return Ve().indexOf("MSAppHost/")>=0}function se(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){return"object"==typeof indexedDB}function te(){return new Promise((H,B)=>{try{let q=!0;const de="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(de);X.onsuccess=()=>{X.result.close(),q||self.indexedDB.deleteDatabase(de),H(!0)},X.onupgradeneeded=()=>{q=!1},X.onerror=()=>{var Be;B((null===(Be=X.error)||void 0===Be?void 0:Be.message)||"")}}catch(q){B(q)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(B,q,de){super(q),this.code=B,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(B,q,de){this.service=B,this.serviceName=q,this.errors=de}create(B,...q){const de=q[0]||{},X=`${this.service}/${B}`,Be=this.errors[B],yt=Be?function It(H,B){return H.replace(Qt,(q,de)=>{const X=B[de];return null!=X?String(X):`<${de}?>`})}(Be,de):"Error";return new _e(X,`${this.serviceName}: ${yt} (${X}).`,de)}}const Qt=/\{\$([^}]+)}/g;function Xt(H,B){return Object.prototype.hasOwnProperty.call(H,B)}function rr(H){for(const B in H)if(Object.prototype.hasOwnProperty.call(H,B))return!1;return!0}function Os(H,B){if(H===B)return!0;const q=Object.keys(H),de=Object.keys(B);for(const X of q){if(!de.includes(X))return!1;const Be=H[X],yt=B[X];if(Ir(Be)&&Ir(yt)){if(!Os(Be,yt))return!1}else if(Be!==yt)return!1}for(const X of de)if(!q.includes(X))return!1;return!0}function Ir(H){return null!==H&&"object"==typeof H}function $i(H){const B=[];for(const[q,de]of Object.entries(H))Array.isArray(de)?de.forEach(X=>{B.push(encodeURIComponent(q)+"="+encodeURIComponent(X))}):B.push(encodeURIComponent(q)+"="+encodeURIComponent(de));return B.length?"&"+B.join("&"):""}function Tr(H){const B={};return H.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[X,Be]=de.split("=");B[decodeURIComponent(X)]=decodeURIComponent(Be)}}),B}function rs(H){const B=H.indexOf("?");if(!B)return"";const q=H.indexOf("#",B);return H.substring(B,q>0?q:void 0)}function ct(H,B){const q=new Vr(H,B);return q.subscribe.bind(q)}class Vr{constructor(B,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{B(this)}).catch(de=>{this.error(de)})}next(B){this.forEachObserver(q=>{q.next(B)})}error(B){this.forEachObserver(q=>{q.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,q,de){let X;if(void 0===B&&void 0===q&&void 0===de)throw new Error("Missing Observer.");X=function $n(H,B){if("object"!=typeof H||null===H)return!1;for(const q of B)if(q in H&&"function"==typeof H[q])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:q,complete:de},void 0===X.next&&(X.next=ei),void 0===X.error&&(X.error=ei),void 0===X.complete&&(X.complete=ei);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(yt){}}),this.observers.push(X),Be}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,B)}sendOne(B,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{q(this.observers[B])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}function uo(H,B=1e3,q=2){const de=B*Math.pow(q,H),X=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+X)}function ht(H){return H&&H._delegate?H._delegate:H}function fr(H,B){return new Promise((q,de)=>{H.onsuccess=X=>{q(X.target.result)},H.onerror=X=>{var Be;de(`${B}: ${null===(Be=X.target.error)||void 0===Be?void 0:Be.message}`)}})}class Ut{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,q="readonly"){return new Ye(this._db.transaction.call(this._db,B,q))}createObjectStore(B,q){return new Ae(this._db.createObjectStore(B,q))}close(){this._db.close()}}class Ye{constructor(B){this._transaction=B,this.complete=new Promise((q,de)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(B){return new Ae(this._transaction.objectStore(B))}}class Ae{constructor(B){this._store=B}index(B){return new Xe(this._store.index(B))}createIndex(B,q,de){return new Xe(this._store.createIndex(B,q,de))}get(B){return fr(this._store.get(B),"Error reading from IndexedDB")}put(B,q){return fr(this._store.put(B,q),"Error writing to IndexedDB")}delete(B){return fr(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return fr(this._store.clear(),"Error clearing IndexedDB object store")}}class Xe{constructor(B){this._index=B}get(B){return fr(this._index.get(B),"Error reading from IndexedDB")}}function ft(H,B,q){return new Promise((de,X)=>{try{const Be=indexedDB.open(H,B);Be.onsuccess=yt=>{de(new Ut(yt.target.result))},Be.onerror=yt=>{var Jt;X(`Error opening indexedDB: ${null===(Jt=yt.target.error)||void 0===Jt?void 0:Jt.message}`)},Be.onupgradeneeded=yt=>{q(new Ut(Be.result),yt.oldVersion,yt.newVersion,new Ye(Be.transaction))}}catch(Be){X(`Error opening indexedDB: ${Be.message}`)}})}function jt(H){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(H){return new Promise((B,q)=>{try{const de=indexedDB.deleteDatabase(H);de.onsuccess=()=>{B()},de.onerror=X=>{var Be;q(`Error deleting indexedDB database "${H}": ${null===(Be=X.target.error)||void 0===Be?void 0:Be.message}`)}}catch(de){q(`Error deleting indexedDB database "${H}": ${de.message}`)}})})).apply(this,arguments)}},6498:(ot,Ie,P)=>{var d=P(5e3);let Q=null;function N(){return Q}const ee=new d.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ce(){return(0,d.LFG)(G)}()},providedIn:"platform"}),n})();const $=new d.OlP("Location Initialized");let G=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function qe(){return new G((0,d.LFG)(ee))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function we(n){const e=(0,d.LFG)(ee).location;return new Ze((0,d.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const Je=new d.OlP("appBaseHref");let Ze=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Ve(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Ve(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(Je,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Ve(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Ve(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(Je,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe(je(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Me,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(d.LFG(pe),d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ee(){return new ve((0,d.LFG)(pe),(0,d.LFG)(fe))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}class Ls{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ls(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),os(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{os(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function os(n,e){n.context.$implicit=e.item}let Br=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Wa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Wa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ln{constructor(){this.$implicit=null,this.ngIf=null}}function Wa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Ka{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ni=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Ur=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Ka(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(ni,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),mc=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split(".");null!=(r=null!=r&&a?`${r}${a}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const js="browser";function ar(n){return"server"===n}let tl=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new nl((0,d.LFG)(ee),window)}),n})();class nl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function pa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=us(this.window.history)||us(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function us(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Hs extends class Bo extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){Q||(Q=n)}(new Hs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Dc(){return un=un||document.querySelector("base"),un?un.getAttribute("href"):null}();return null==t?null:function _o(n){mo=mo||document.createElement("a"),mo.setAttribute("href",n);const e=mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){un=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Fo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let mo,un=null;const gr=new d.OlP("TRANSITION_ID"),ga=[{provide:d.ip1,useFactory:function xn(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[gr,ee,d.zs3],multi:!0}];class wi{static init(){(0,d.VLi)(new wi)}addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let mr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const $s=new d.OlP("EventManagerPlugins");let cs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($s),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class rl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let $r=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Gs=(()=>{class n extends $r{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(zs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(zs))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function zs(n){N().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},il=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(il,n),t.push(i))}return t}function Vt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Uo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new iu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new su(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cs),d.LFG(Gs),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=pt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=pt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Vt(r)):this.eventManager.addEventListener(e,t,Vt(r))}}class iu extends Uo{constructor(e,t,r,i){super(e),this.component=r;const a=De(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function tu(n){return"_ngcontent-%COMP%".replace(il,n)}(i+"-"+r.id),this.hostAttr=function nu(n){return"_nghost-%COMP%".replace(il,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class su extends Uo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=De(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ic=(()=>{class n extends rl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ou=["alt","control","meta","shift"],qs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ii={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends rl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(ou.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),c+=_+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function Ws(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&lr.hasOwnProperty(e)&&(e=lr[e]))}return qs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ou.forEach(a=>{a!=i&&ii[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const lu=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:js},{provide:d.g9A,useValue:function Ci(){Hs.makeCurrent(),wi.init()},multi:!0},{provide:ee,useFactory:function cl(){return(0,d.RDi)(document),document},deps:[]}]),_a=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function au(){return new d.qLn},deps:[]},{provide:$s,useClass:Ic,multi:!0,deps:[ee,d.R0b,d.Lbi]},{provide:$s,useClass:ul,multi:!0,deps:[ee]},{provide:bn,useClass:bn,deps:[cs,Gs,d.AFp]},{provide:d.FYo,useExisting:bn},{provide:$r,useExisting:Gs},{provide:Gs,useClass:Gs,deps:[ee]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:cs,useClass:cs,deps:[$s,d.R0b]},{provide:class yn{},useClass:mr,deps:[]}];let Ho=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:gr,useExisting:d.AFp},ga]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:_a,imports:[go,d.hGG]}),n})();"undefined"!=typeof window&&window;let fl,qi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(kc),r},providedIn:"root"}),n})(),kc=(()=>{class n extends qi{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(r),(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function mu(n){return new kc(n.get(ee))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();function Go(n){return null!=n&&"false"!=`${n}`}function Wi(n){return Array.isArray(n)?n:[n]}function wn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function zr(n){return n instanceof d.SBq?n.nativeElement:n}try{fl="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){fl=!1}let vr,Bt=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Sr(n){return n===js}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fl)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ba=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fs(){if(vr)return vr;if("object"!=typeof document||!document)return vr=new Set(ba),vr;let n=document.createElement("input");return vr=new Set(ba.filter(e=>(n.setAttribute("type",e),n.type===e))),vr}let pl,si,Qs;function zo(n){return function Oc(){if(null==pl&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pl=!0}))}finally{pl=pl||!1}return pl}()?n:!!n.capture}function qo(){if(null==si){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return si=!1,si;if("scrollBehavior"in document.documentElement.style)si=!0;else{const n=Element.prototype.scrollTo;si=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return si}function Ea(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function qr(n){return n.composedPath?n.composedPath()[0]:n.target}function wa(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var gn=P(8996),Ln=P(8306);const{isArray:yu}=Array,{getPrototypeOf:lp,prototype:vu,keys:Ki}=Object;function Pc(n){if(1===n.length){const e=n[0];if(yu(e))return{args:e,keys:null};if(function ml(n){return n&&"object"==typeof n&&lp(n)===vu}(e)){const t=Ki(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Xs=P(8421),br=P(3269),Vn=P(5403),gt=P(4004);const{isArray:_l}=Array;function eo(n){return(0,gt.U)(e=>function Js(n,e){return _l(e)?n(...e):n(e)}(n,e))}function ai(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Nc(...n){const e=(0,br.jO)(n),{args:t,keys:r}=Pc(n),i=new Ln.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,w=c;for(let S=0;S<c;S++){let x=!1;(0,Xs.Xf)(t[S]).subscribe((0,Vn.x)(a,L=>{x||(x=!0,w--),f[S]=L},()=>_--,void 0,()=>{(!_||!x)&&(w||a.next(r?ai(r,f):f),a.complete())}))}});return e?i.pipe(eo(e)):i}let yl=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),li=(()=>{class n extends yl{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Wr=new d.OlP("NgValueAccessor"),cp={provide:Wr,useExisting:(0,d.Gpc)(()=>Ca),multi:!0},dp=new d.OlP("CompositionEventMode");let Ca=(()=>{class n extends yl{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Am(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(dp,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([cp]),d.qOj]}),n})();function to(n){return null==n||0===n.length}function sh(n){return null!=n&&"number"==typeof n.length}const Er=new d.OlP("NgValidators"),Ar=new d.OlP("NgAsyncValidators"),hp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Sn{static min(e){return function vl(n){return e=>{if(to(e.value)||to(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function wo(n){return e=>{if(to(e.value)||to(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function oh(n){return to(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function bl(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ur(n){return to(n.value)||hp.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Kr(n){return e=>to(e.value)||!sh(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function bu(n){return e=>sh(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function ps(n){if(!n)return Mr;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(to(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return xr(e)}static composeAsync(e){return Co(e)}}function Mr(n){return null}function Di(n){return null!=n}function Wo(n){const e=(0,d.QGY)(n)?(0,gn.D)(n):n;return(0,d.CqO)(e),e}function El(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Eu(n,e){return e.map(t=>t(n))}function wl(n){return n.map(e=>function Fc(n){return!n.validate}(e)?e:t=>e.validate(t))}function xr(n){if(!n)return null;const e=n.filter(Di);return 0==e.length?null:function(t){return El(Eu(t,e))}}function Cl(n){return null!=n?xr(wl(n)):null}function Co(n){if(!n)return null;const e=n.filter(Di);return 0==e.length?null:function(t){return Nc(Eu(t,e).map(Wo)).pipe((0,gt.U)(El))}}function Dl(n){return null!=n?Co(wl(n)):null}function no(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Da(n){return n._rawValidators}function Lc(n){return n._rawAsyncValidators}function Ia(n){return n?Array.isArray(n)?n:[n]:[]}function ui(n,e){return Array.isArray(n)?n.includes(e):n===e}function Vc(n,e){const t=Ia(e);return Ia(n).forEach(i=>{ui(t,i)||t.push(i)}),t}function ci(n,e){return Ia(e).filter(t=>!ui(n,t))}class wu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Dl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ii extends wu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jn extends wu{get formDirective(){return null}get path(){return null}}let D=(()=>{class n extends class ro{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ii,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})();function Ai(n,e){Ko(n,e),e.valueAccessor.writeValue(n.value),function Mm(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Io(n,e)})}(n,e),function Tu(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function xm(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Io(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Uc(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Cu(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Iu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Du(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ko(n,e){const t=Da(n);null!==e.validator?n.setValidators(no(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Lc(n);null!==e.asyncValidator?n.setAsyncValidators(no(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Du(e._rawValidators,i),Du(e._rawAsyncValidators,i)}function Iu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Da(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=Lc(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Du(e._rawValidators,r),Du(e._rawAsyncValidators,r),t}function Io(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fp(n,e){Ko(n,e)}function Su(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Zo(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Hc="VALID",Ta="INVALID",Yo="PENDING",Sl="DISABLED";function xu(n){return($c(n)?n.validators:n)||null}function Qo(n){return Array.isArray(n)?Cl(n):n||null}function lh(n,e){return($c(e)?e.asyncValidators:n)||null}function gp(n){return Array.isArray(n)?Dl(n):n||null}function $c(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Gc=n=>n instanceof _p,uh=n=>n instanceof qc;function Sa(n){return Gc(n)?n.value:n.getRawValue()}function zc(n,e){const t=uh(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[e])throw new d.vHH(1001,"")}function mp(n,e){uh(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new d.vHH(1002,"")})}class Ru{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Qo(this._rawValidators),this._composedAsyncValidatorFn=gp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hc}get invalid(){return this.status===Ta}get pending(){return this.status==Yo}get disabled(){return this.status===Sl}get enabled(){return this.status!==Sl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Qo(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=gp(e)}addValidators(e){this.setValidators(Vc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Vc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ci(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ci(e,this._rawAsyncValidators))}hasValidator(e){return ui(this._rawValidators,e)}hasAsyncValidator(e){return ui(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Yo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hc||this.status===Yo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sl:Hc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Yo,this._hasOwnPendingAsyncValidator=!0;const t=Wo(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function pp(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=uh(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof yp)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Sl:this.errors?Ta:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yo)?Yo:this._anyControlsHaveStatus(Ta)?Ta:Hc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$c(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _p extends Ru{constructor(e=null,t,r){super(xu(t),lh(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$c(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zo(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zo(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class qc extends Ru{constructor(e,t,r){super(xu(t),lh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){mp(this,e),Object.keys(e).forEach(r=>{zc(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Sa(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yp extends Ru{constructor(e,t,r){super(xu(t),lh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){mp(this,e),e.forEach((r,i)=>{zc(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Sa(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const vp={provide:Jn,useExisting:(0,d.Gpc)(()=>Wc)},ku=(()=>Promise.resolve(null))();let Wc=(()=>{class n extends Jn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new qc({},Cl(t),Dl(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ku.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ai(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ku.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ku.then(()=>{const r=this._findContainer(t.path),i=new qc({});fp(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ku.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ku.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Su(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Er,10),d.Y36(Ar,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([vp]),d.qOj]}),n})();const Ou={provide:Ii,useExisting:(0,d.Gpc)(()=>xl)},ch=(()=>Promise.resolve(null))();let xl=(()=>{class n extends Ii{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new _p,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Au(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Ca?t=a:function Pm(n){return Object.getPrototypeOf(n.constructor)===li}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ah(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ai(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ch.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;ch.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function Si(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Jn,9),d.Y36(Er,10),d.Y36(Ar,10),d.Y36(Wr,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Ou]),d.qOj,d.TTD]}),n})(),Kc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const fh={provide:Jn,useExisting:(0,d.Gpc)(()=>Nu)};let Nu=(()=>{class n extends Jn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Iu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ai(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Cu(t.control||null,t,!1),Zo(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Su(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Cu(r||null,t),Gc(i)&&(Ai(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);fp(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Rm(n,e){return Iu(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ko(this.form,this),this._oldForm&&Iu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Er,10),d.Y36(Ar,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([fh]),d.qOj,d.TTD]}),n})(),Eh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Kc]]}),n})(),Gm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Eh]}),n})();const qm=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function wh(){return(0,d.f3M)(ee)}}),Wm=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let nd=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Km(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Wm.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();var g=P(7579);class b extends g.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function T(...n){const e=(0,br.yG)(n);return(0,gn.D)(n,e)}var io=P(5698),di=P(4482);function Zr(n,e){return(0,di.e)((t,r)=>{let i=0;t.subscribe((0,Vn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var ad=P(4671);function Bp(n,e=ad.y){return n=null!=n?n:VD,(0,di.e)((t,r)=>{let i,a=!0;t.subscribe((0,Vn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}function VD(n,e){return n===e}var Ll=P(5032);function ld(n){return(0,di.e)((e,t)=>{(0,Xs.Xf)(n).subscribe((0,Vn.x)(t,()=>t.complete(),Ll.Z)),!t.closed&&e.subscribe(t)})}let Hp=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Ub(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function r_(n){try{return n.frameElement}catch(e){return null}}(function GD(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===$b(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=$b(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Gb(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function $D(n){return!function HD(n){return function pk(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function $p(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function jb(n){return function Hb(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||i_(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bt))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function i_(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function $b(n){if(!i_(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ys{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,io.q)(1)).subscribe(e)}}let zD=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new ys(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Hp),d.LFG(d.R0b),d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gp(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function s_(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const WD=new d.OlP("cdk-input-modality-detector-options"),KD={ignoreKeys:[18,17,224,91,16]},Fu=zo({passive:!0,capture:!0});let ZD=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new b(null),this._lastTouchMs=0,this._onKeydown=c=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(w=>w===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=qr(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Gp(c)?"keyboard":"mouse"),this._mostRecentTarget=qr(c))},this._onTouchstart=c=>{s_(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=qr(c))},this._options=Object.assign(Object.assign({},KD),a),this.modalityDetected=this._modality.pipe(function t_(n){return Zr((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Bp()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Fu),i.addEventListener("mousedown",this._onMousedown,Fu),i.addEventListener("touchstart",this._onTouchstart,Fu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fu),document.removeEventListener("mousedown",this._onMousedown,Fu),document.removeEventListener("touchstart",this._onTouchstart,Fu))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bt),d.LFG(d.R0b),d.LFG(ee),d.LFG(WD,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eI=new d.OlP("cdk-focus-monitor-default-options"),vs=zo({passive:!0,capture:!0});let zp=(()=>{class n{constructor(t,r,i,a,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new g.x,this._rootNodeFocusAndBlurListener=f=>{const _=qr(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let S=_;S;S=S.parentElement)w.call(this,f,S)},this._document=a,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,r=!1){const i=zr(t);if(!this._platform.isBrowser||1!==i.nodeType)return T(null);const a=function Eo(n){if(function oi(){if(null==Qs){const n="undefined"!=typeof document?document.head:null;Qs=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Qs}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const f={checkChildren:r,subject:new g.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=zr(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=zr(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=qr(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,vs),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,vs)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ld(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vs),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vs),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Bt),d.LFG(ZD),d.LFG(ee,8),d.LFG(eI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qb="cdk-high-contrast-black-on-white",tI="cdk-high-contrast-white-on-black",qp="cdk-high-contrast-active";let nI=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(qp),t.remove(qb),t.remove(tI),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(qp),t.add(qb)):2===r&&(t.add(qp),t.add(tI))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bt),d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Wb{}const ka="*";function Kb(n,e){return{type:7,name:n,definitions:e,options:{}}}function cd(n,e=null){return{type:4,styles:e,timings:n}}function Wp(n,e=null){return{type:3,steps:n,options:e}}function Zb(n,e=null){return{type:2,steps:n,options:e}}function ea(n){return{type:6,styles:n,offset:null}}function Sh(n,e,t){return{type:0,name:n,styles:e,options:t}}function a_(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Kp(n=null){return{type:9,options:n}}function Yb(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function l_(n){Promise.resolve(null).then(n)}class dd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){l_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class u_{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?l_(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const kt=!1;function Qb(n){return new d.vHH(3e3,kt)}function l0(){return"undefined"!=typeof window&&void 0!==window.document}function u0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Oa(n){switch(n.length){case 0:return new dd;case 1:return n[0];default:return new u_(n)}}function c0(n,e,t,r,i={},a={}){const c=[],f=[];let _=-1,w=null;if(r.forEach(S=>{const x=S.offset,L=x==_,U=L&&w||{};Object.keys(S).forEach(z=>{let oe=z,ke=S[z];if("offset"!==z)switch(oe=e.normalizePropertyName(oe,c),ke){case"!":ke=i[z];break;case ka:ke=a[z];break;default:ke=e.normalizeStyleValue(z,oe,ke,c)}U[oe]=ke}),L||f.push(U),w=U,_=x}),c.length)throw function gI(n){return new d.vHH(3502,kt)}();return f}function g_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&d0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&d0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&d0(t,"destroy",n)))}}function d0(n,e,t){const r=t.totalTime,a=h0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function h0(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function Ri(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function f0(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Yp=(n,e)=>!1,m_=(n,e,t)=>[],bI=null;function bs(n){const e=n.parentNode||n.host;return e===bI?null:e}(u0()||"undefined"!=typeof Element)&&(l0()?(bI=(()=>document.documentElement)(),Yp=(n,e)=>{for(;e;){if(e===n)return!0;e=bs(e)}return!1}):Yp=(n,e)=>n.contains(e),m_=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Vl=null,__=!1;function y_(n){Vl||(Vl=function EI(){return"undefined"!=typeof document?document.body:null}()||{},__=!!Vl.style&&"WebkitAppearance"in Vl.style);let e=!0;return Vl.style&&!function Ck(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vl.style,!e&&__&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Vl.style)),e}const wI=Yp,v_=m_;let g0=(()=>{class n{validateStyleProperty(t){return y_(t)}matchesElement(t,r){return!1}containsElement(t,r){return wI(t,r)}getParentElement(t){return bs(t)}query(t,r,i){return v_(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],_){return new dd(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Mh=(()=>{class n{}return n.NOOP=new g0,n})();const b_="ng-enter",Qp="ng-leave",Xp="ng-trigger",Vu=".ng-trigger",Bu="ng-animating",E_=".ng-animating";function So(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:w_(parseFloat(e[1]),e[2])}function w_(n,e){return"s"===e?1e3*n:n}function Jp(n,e,t){return n.hasOwnProperty("duration")?n:function C_(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Qb()),{duration:0,delay:0,easing:""};i=w_(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=w_(parseFloat(_),f[4]));const w=f[5];w&&(c=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function sI(){return new d.vHH(3100,kt)}()),f=!0),a<0&&(e.push(function Ek(){return new d.vHH(3101,kt)}()),f=!0),f&&e.splice(_,0,Qb())}return{duration:i,delay:a,easing:c}}(n,e,t)}function ki(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Bn(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else ki(n,t);return t}function Bl(n,e,t){return t?e+":"+t+";":""}function xh(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Bl(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Bl(0,_d(t),n.style[t]));n.setAttribute("style",e)}function tr(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=jl(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),u0()&&xh(n))}function Pa(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=jl(t);n.style[r]=""}),u0()&&xh(n))}function na(n){return Array.isArray(n)?1==n.length?n[0]:Zb(n):n}const Ul=new RegExp("{{\\s*(.+?)\\s*}}","g");function Uu(n){let e=[];if("string"==typeof n){let t;for(;t=Ul.exec(n);)e.push(t[1]);Ul.lastIndex=0}return e}function Na(n,e,t){const r=n.toString(),i=r.replace(Ul,(a,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function Xb(n){return new d.vHH(3003,kt)}()),f=""),f.toString()});return i==r?n:i}function Fa(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const md=/-+([a-z0-9])/g;function jl(n){return n.replace(md,(...e)=>e[1].toUpperCase())}function _d(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function d_(n){return new d.vHH(3004,kt)}()}}function D_(n,e){return window.getComputedStyle(n)[e]}function TI(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function w0(n,e,t){if(":"==n[0]){const _=function SI(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function hI(n){return new d.vHH(3016,kt)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function dI(n){return new d.vHH(3015,kt)}()),e;const i=r[1],a=r[2],c=r[3];e.push(C0(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(C0(c,i))}(r,t,e)):t.push(n),t}const tg=new Set(["true","1"]),Oh=new Set(["false","0"]);function C0(n,e){const t=tg.has(n)||Oh.has(n),r=tg.has(e)||Oh.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?tg.has(n):Oh.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?tg.has(e):Oh.has(e)),c&&f}}const AI=new RegExp("s*:selfs*,?","g");function T_(n,e,t,r){return new xI(n).build(e,t,r)}class xI{constructor(e){this._driver=e}build(e,t,r){const i=new RI(t);this._resetContextStyleTimingState(i);const a=Yi(this,na(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function oI(){return new d.vHH(3006,kt)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function h_(){return new d.vHH(3007,kt)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{if(M_(f)){const _=f;Object.keys(_).forEach(w=>{Uu(_[w]).forEach(S=>{c.hasOwnProperty(S)||a.add(S)})})}}),a.size&&(Fa(a.values()),t.errors.push(function Jb(n,e){return new d.vHH(3008,kt)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Yi(this,na(e.animation),t);return{type:1,matchers:TI(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ju(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Yi(this,r,t)),options:ju(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=Yi(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:ju(e.options)}}visitAnimate(e,t){const r=function Tk(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ng(Jp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=ng(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=Jp(t,e);return ng(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:ea({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const w={};r.easing&&(w.easing=r.easing),c=ea(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==ka?r.push(c):t.errors.push(function e0(n){return new d.vHH(3002,kt)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(M_(c)){const f=c,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let w in f)if(f[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let S=!0;w&&(a!=i&&a>=w.startTime&&i<=w.endTime&&(t.errors.push(function lI(n,e,t,r,i){return new d.vHH(3010,kt)}()),S=!1),a=w.startTime),S&&(_[f]={startTime:a,endTime:i}),t.options&&function gd(n,e,t){const r=e.params||{},i=Uu(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function c_(n){return new d.vHH(3001,kt)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function f_(){return new d.vHH(3011,kt)}()),r;let a=0;const c=[];let f=!1,_=!1,w=0;const S=e.steps.map(dt=>{const mt=this._makeStyleAst(dt,t);let Et=null!=mt.offset?mt.offset:function Ik(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(M_(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(M_(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(mt.styles),at=0;return null!=Et&&(a++,at=mt.offset=Et),_=_||at<0||at>1,f=f||at<w,w=at,c.push(at),mt});_&&t.errors.push(function uI(){return new d.vHH(3012,kt)}()),f&&t.errors.push(function cI(){return new d.vHH(3200,kt)}());const x=e.steps.length;let L=0;a>0&&a<x?t.errors.push(function t0(){return new d.vHH(3202,kt)}()):0==a&&(L=1/(x-1));const U=x-1,z=t.currentTime,oe=t.currentAnimateTimings,ke=oe.duration;return S.forEach((dt,mt)=>{const Et=L>0?mt==U?1:L*mt:c[mt],at=Et*ke;t.currentTime=z+oe.delay+at,oe.duration=at,this._validateStyleAst(dt,t),dt.offset=Et,r.styles.push(dt)}),r}visitReference(e,t){return{type:8,animation:Yi(this,na(e.animation),t),options:ju(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ju(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ju(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function S_(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(AI,"")),n=n.replace(/@\*/g,Vu).replace(/@\w+/g,t=>Vu+"-"+t.substr(1)).replace(/:animating/g,E_),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Ri(t.collectedStyles,t.currentQuerySelector,{});const f=Yi(this,na(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:ju(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function hd(){return new d.vHH(3013,kt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Jp(e.timings,t.errors,!0);return{type:12,animation:Yi(this,na(e.animation),t),timings:r,options:null}}}class RI{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function M_(n){return!Array.isArray(n)&&"object"==typeof n}function ju(n){return n?(n=ki(n)).params&&(n.params=function A_(n){return n?ki(n):null}(n.params)):n={},n}function ng(n,e,t){return{duration:n,delay:e,easing:t}}function D0(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class rg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const I0=new RegExp(":enter","g"),T0=new RegExp(":leave","g");function vd(n,e,t,r,i,a={},c={},f,_,w=[]){return(new PI).buildKeyframes(n,e,t,r,i,a,c,f,_,w)}class PI{buildKeyframes(e,t,r,i,a,c,f,_,w,S=[]){w=w||new rg;const x=new x_(e,t,w,i,a,S,[]);x.options=_,x.currentTimeline.setStyles([c],null,x.errors,_),Yi(this,r,x);const L=x.timelines.filter(U=>U.containsAnimation());if(Object.keys(f).length){let U;for(let z=L.length-1;z>=0;z--){const oe=L[z];if(oe.element===t){U=oe;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([f],null,x.errors,_)}return L.length?L.map(U=>U.buildKeyframes()):[D0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?So(r.duration):null,f=null!=r.delay?So(r.delay):null;return 0!==c&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Yi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ph);const c=So(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Yi(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?So(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Yi(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Jp(t.params?Na(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?So(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ph);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,S)=>{t.currentQueryIndex=S;const x=t.createSubContext(e.options,w);a&&x.delayNextStep(a),w===t.element&&(_=x.currentTimeline),Yi(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const x=S.currentTime;Yi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const Ph={};class x_{constructor(e,t,r,i,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ph,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new ig(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=So(r.duration)),null!=r.delay&&(i.delay=So(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=Na(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new x_(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Ph,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new NI(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(I0,"."+this._enterClassName)).replace(T0,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&c.push(function n0(n){return new d.vHH(3014,kt)}()),f}}class ig{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ig(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ka,this._currentKeyframe[t]=ka}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function FI(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=ka})):Bn(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const _=Na(c[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:ka),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=Bn(f,!0);Object.keys(w).forEach(S=>{const x=w[S];"!"==x?e.add(S):x==ka&&t.add(S)}),r||(w.offset=_/this.duration),i.push(w)});const a=e.size?Fa(e.values()):[],c=t.size?Fa(t.values()):[];if(r){const f=i[0],_=ki(f);f.offset=0,_.offset=1,i=[f,_]}return D0(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class NI extends ig{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,_=Bn(e[0],!1);_.offset=0,a.push(_);const w=Bn(e[0],!1);w.offset=S0(f),a.push(w);const S=e.length-1;for(let x=1;x<=S;x++){let L=Bn(e[x],!1);L.offset=S0((t+L.offset*r)/c),a.push(L)}r=c,t=0,i="",e=a}return D0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function S0(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class R_{}class A0 extends R_{normalizePropertyName(e,t){return jl(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(k_[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function Ah(n,e){return new d.vHH(3005,kt)}())}return c+a}}const k_=(()=>function Sk(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function sg(n,e,t,r,i,a,c,f,_,w,S,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:S,totalTime:x,errors:L}}const O_={};class BI{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Nh(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,f,_,w,S){const x=[],L=this.ast.options&&this.ast.options.params||O_,z=this.buildStyles(r,f&&f.params||O_,x),oe=_&&_.params||O_,ke=this.buildStyles(i,oe,x),dt=new Set,mt=new Map,Et=new Map,at="void"===i,Ft={params:Object.assign(Object.assign({},L),oe)},$t=S?[]:vd(e,t,this.ast.animation,a,c,z,ke,Ft,w,x);let _n=0;if($t.forEach(fc=>{_n=Math.max(fc.duration+fc.delay,_n)}),x.length)return sg(t,this._triggerName,r,i,at,z,ke,[],[],mt,Et,_n,x);$t.forEach(fc=>{const pc=fc.element,nV=Ri(mt,pc,{});fc.preStyleProps.forEach(Yf=>nV[Yf]=!0);const db=Ri(Et,pc,{});fc.postStyleProps.forEach(Yf=>db[Yf]=!0),pc!==t&&dt.add(pc)});const Hi=Fa(dt.values());return sg(t,this._triggerName,r,i,at,z,ke,$t,Hi,mt,Et,_n)}}class M0{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=ki(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(f=>{let _=c[f];_.length>1&&(_=Na(_,i,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),r[w]=_})}}),r}}class N_{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new M0(i.style,i.options&&i.options.params||{},r)}),Fh(this.states,"true","1"),Fh(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new BI(e,i,this.states))}),this.fallbackTransition=function UI(n,e,t){return new BI(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Fh(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const og=new rg;class F_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=T_(this._driver,t,r,[]);if(r.length)throw function mI(n){return new d.vHH(3503,kt)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=c0(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const f=new Map;if(a?(c=vd(this._driver,t,a,b_,Qp,{},{},r,og,i),c.forEach(S=>{const x=Ri(f,S.element,{});S.postStyleProps.forEach(L=>x[L]=null)})):(i.push(function ta(){return new d.vHH(3300,kt)}()),c=[]),i.length)throw function p_(n){return new d.vHH(3504,kt)}();f.forEach((S,x)=>{Object.keys(S).forEach(L=>{S[L]=this._driver.computeStyle(x,L,ka)})});const w=Oa(c.map(S=>{const x=f.get(S.element);return this._buildPlayer(S,{},x)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function r0(n){return new d.vHH(3301,kt)}();return t}listen(e,t,r,i){const a=h0(t,"","","");return g_(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const jI="ng-animate-queued",bd="ng-animate-disabled",L_=[],V_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},k0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qi="__ng_removed";class Lh{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function P0(n){return null!=n?n:null}(r?e.value:e),r){const a=ki(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Vh="void",lg=new Lh(Vh);class O0{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Es(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function s0(n,e){return new d.vHH(3302,kt)}();if(null==r||0==r.length)throw function o0(n){return new d.vHH(3303,kt)}();if(!function U_(n){return"start"==n||"done"==n}(r))throw function a0(n,e){return new d.vHH(3400,kt)}();const a=Ri(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=Ri(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Es(e,Xp),Es(e,Xp+"-"+t),f[t]=lg),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function _I(n){return new d.vHH(3401,kt)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new ug(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Es(e,Xp),Es(e,Xp+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new Lh(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=lg),w.value!==Vh&&_.value===w.value){if(!function L0(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const oe=[],ke=a.matchStyles(_.value,_.params,oe),dt=a.matchStyles(w.value,w.params,oe);oe.length?this._engine.reportError(oe):this._engine.afterFlush(()=>{Pa(e,ke),tr(e,dt)})}return}const L=Ri(this._engine.playersByElement,e,[]);L.forEach(oe=>{oe.namespaceId==this.id&&oe.triggerName==t&&oe.queued&&oe.destroy()});let U=a.matchTransition(_.value,w.value,e,w.params),z=!1;if(!U){if(!i)return;U=a.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:_,toState:w,player:c,isFallbackTransition:z}),z||(Es(e,jI),c.onStart(()=>{Hu(e,jI)})),c.onDone(()=>{let oe=this.players.indexOf(c);oe>=0&&this.players.splice(oe,1);const ke=this._engine.playersByElement.get(e);if(ke){let dt=ke.indexOf(c);dt>=0&&ke.splice(dt,1)}}),this.players.push(c),L.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Vu,!0);r.forEach(i=>{if(i[Qi])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(c.set(_,a[_].value),this._triggers[_]){const w=this.trigger(e,_,Vh,i);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Oa(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers[c].fallbackTransition,w=r[c]||lg,S=new Lh(Vh),x=new ug(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:w,toState:S,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Qi];(!a||a===V_)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Es(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=h0(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,g_(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class B_{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new O0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(Bh(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Bh(t))return;const a=t[Qi];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Es(e,bd)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hu(e,bd))}removeNode(e,t,r,i){if(Bh(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Qi]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Bh(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Vu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,E_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Oa(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Qi];if(r&&r.setForRemoval){if(e[Qi]=V_,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(bd))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Es(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Oa(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function yI(n){return new d.vHH(3402,kt)}()}_flushAnimations(e,t){const r=new rg,i=[],a=new Map,c=[],f=new Map,_=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(lt=>{S.add(lt);const Ct=this.driver.query(lt,".ng-animate-queued",!0);for(let At=0;At<Ct.length;At++)S.add(Ct[At])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),U=H_(L,this.collectedEnterElements),z=new Map;let oe=0;U.forEach((lt,Ct)=>{const At=b_+oe++;z.set(Ct,At),lt.forEach(hn=>Es(hn,At))});const ke=[],dt=new Set,mt=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const Ct=this.collectedLeaveElements[lt],At=Ct[Qi];At&&At.setForRemoval&&(ke.push(Ct),dt.add(Ct),At.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(hn=>dt.add(hn)):mt.add(Ct))}const Et=new Map,at=H_(L,Array.from(dt));at.forEach((lt,Ct)=>{const At=Qp+oe++;Et.set(Ct,At),lt.forEach(hn=>Es(hn,At))}),e.push(()=>{U.forEach((lt,Ct)=>{const At=z.get(Ct);lt.forEach(hn=>Hu(hn,At))}),at.forEach((lt,Ct)=>{const At=Et.get(Ct);lt.forEach(hn=>Hu(hn,At))}),ke.forEach(lt=>{this.processLeaveNode(lt)})});const Ft=[],$t=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(t).forEach(At=>{const hn=At.player,bi=At.element;if(Ft.push(hn),this.collectedEnterElements.length){const ks=bi[Qi];if(ks&&ks.setForMove){if(ks.previousTriggersValues&&ks.previousTriggersValues.has(At.triggerName)){const Qf=ks.previousTriggersValues.get(At.triggerName),th=this.statesByElement.get(At.element);th&&th[At.triggerName]&&(th[At.triggerName].value=Qf)}return void hn.destroy()}}const Ql=!x||!this.driver.containsElement(x,bi),No=Et.get(bi),eh=z.get(bi),nr=this._buildInstruction(At,r,eh,No,Ql);if(nr.errors&&nr.errors.length)return void $t.push(nr);if(Ql)return hn.onStart(()=>Pa(bi,nr.fromStyles)),hn.onDestroy(()=>tr(bi,nr.toStyles)),void i.push(hn);if(At.isFallbackTransition)return hn.onStart(()=>Pa(bi,nr.fromStyles)),hn.onDestroy(()=>tr(bi,nr.toStyles)),void i.push(hn);const sV=[];nr.timelines.forEach(ks=>{ks.stretchStartingKeyframe=!0,this.disabledNodes.has(ks.element)||sV.push(ks)}),nr.timelines=sV,r.append(bi,nr.timelines),c.push({instruction:nr,player:hn,element:bi}),nr.queriedElements.forEach(ks=>Ri(f,ks,[]).push(hn)),nr.preStyleProps.forEach((ks,Qf)=>{const th=Object.keys(ks);if(th.length){let Xf=_.get(Qf);Xf||_.set(Qf,Xf=new Set),th.forEach(NR=>Xf.add(NR))}}),nr.postStyleProps.forEach((ks,Qf)=>{const th=Object.keys(ks);let Xf=w.get(Qf);Xf||w.set(Qf,Xf=new Set),th.forEach(NR=>Xf.add(NR))})});if($t.length){const lt=[];$t.forEach(Ct=>{lt.push(function vI(n,e){return new d.vHH(3505,kt)}())}),Ft.forEach(Ct=>Ct.destroy()),this.reportError(lt)}const _n=new Map,Hi=new Map;c.forEach(lt=>{const Ct=lt.element;r.has(Ct)&&(Hi.set(Ct,Ct),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,_n))}),i.forEach(lt=>{const Ct=lt.element;this._getPreviousPlayers(Ct,!1,lt.namespaceId,lt.triggerName,null).forEach(hn=>{Ri(_n,Ct,[]).push(hn),hn.destroy()})});const fc=ke.filter(lt=>GI(lt,_,w)),pc=new Map;j_(pc,this.driver,mt,w,ka).forEach(lt=>{GI(lt,_,w)&&fc.push(lt)});const db=new Map;U.forEach((lt,Ct)=>{j_(db,this.driver,new Set(lt),_,"!")}),fc.forEach(lt=>{const Ct=pc.get(lt),At=db.get(lt);pc.set(lt,Object.assign(Object.assign({},Ct),At))});const Yf=[],rV=[],iV={};c.forEach(lt=>{const{element:Ct,player:At,instruction:hn}=lt;if(r.has(Ct)){if(S.has(Ct))return At.onDestroy(()=>tr(Ct,hn.toStyles)),At.disabled=!0,At.overrideTotalTime(hn.totalTime),void i.push(At);let bi=iV;if(Hi.size>1){let No=Ct;const eh=[];for(;No=No.parentNode;){const nr=Hi.get(No);if(nr){bi=nr;break}eh.push(No)}eh.forEach(nr=>Hi.set(nr,bi))}const Ql=this._buildAnimation(At.namespaceId,hn,_n,a,db,pc);if(At.setRealPlayer(Ql),bi===iV)Yf.push(At);else{const No=this.playersByElement.get(bi);No&&No.length&&(At.parentPlayer=Oa(No)),i.push(At)}}else Pa(Ct,hn.fromStyles),At.onDestroy(()=>tr(Ct,hn.toStyles)),rV.push(At),S.has(Ct)&&i.push(At)}),rV.forEach(lt=>{const Ct=a.get(lt.element);if(Ct&&Ct.length){const At=Oa(Ct);lt.setRealPlayer(At)}}),i.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<ke.length;lt++){const Ct=ke[lt],At=Ct[Qi];if(Hu(Ct,Qp),At&&At.hasAnimation)continue;let hn=[];if(f.size){let Ql=f.get(Ct);Ql&&Ql.length&&hn.push(...Ql);let No=this.driver.query(Ct,E_,!0);for(let eh=0;eh<No.length;eh++){let nr=f.get(No[eh]);nr&&nr.length&&hn.push(...nr)}}const bi=hn.filter(Ql=>!Ql.destroyed);bi.length?N0(this,Ct,bi):this.processLeaveNode(Ct)}return ke.length=0,Yf.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const Ct=this.players.indexOf(lt);this.players.splice(Ct,1)}),lt.play()}),Yf}elementContainsData(e,t){let r=!1;const i=t[Qi];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==Vh;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||c.push(w)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,S=w!==a,x=Ri(r,w,[]);this._getPreviousPlayers(w,S,c,f,t.toState).forEach(U=>{const z=U.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),U.destroy(),x.push(U)})}Pa(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,_=t.element,w=[],S=new Set,x=new Set,L=t.timelines.map(z=>{const oe=z.element;S.add(oe);const ke=oe[Qi];if(ke&&ke.removedBeforeQueried)return new dd(z.duration,z.delay);const dt=oe!==_,mt=function F0(n){const e=[];return $_(n,e),e}((r.get(oe)||L_).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===oe),Et=a.get(oe),at=c.get(oe),Ft=c0(0,this._normalizer,0,z.keyframes,Et,at),$t=this._buildPlayer(z,Ft,mt);if(z.subTimeline&&i&&x.add(oe),dt){const _n=new ug(e,f,oe);_n.setRealPlayer($t),w.push(_n)}return $t});w.forEach(z=>{Ri(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function $I(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,z.element,z))}),S.forEach(z=>Es(z,Bu));const U=Oa(L);return U.onDestroy(()=>{S.forEach(z=>Hu(z,Bu)),tr(_,t.toStyles)}),x.forEach(z=>{Ri(i,z,[]).push(U)}),U}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new dd(e.duration,e.delay)}}class ug{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new dd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>g_(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ri(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Bh(n){return n&&1===n.nodeType}function Uh(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function j_(n,e,t,r,i){const a=[];t.forEach(_=>a.push(Uh(_)));const c=[];r.forEach((_,w)=>{const S={};_.forEach(x=>{const L=S[x]=e.computeStyle(w,x,i);(!L||0==L.length)&&(w[Qi]=k0,c.push(w))}),n.set(w,S)});let f=0;return t.forEach(_=>Uh(_,a[f++])),c}function H_(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:c(w),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function Es(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Hu(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function N0(n,e,t){Oa(t).onDone(()=>n.processLeaveNode(e))}function $_(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof u_?$_(r.players,e):e.push(r)}}function GI(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class cg{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new B_(e,t,r),this._timelineEngine=new F_(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],S=T_(this._driver,a,_,[]);if(_.length)throw function pI(n,e){return new d.vHH(3404,kt)}();f=function P_(n,e,t){return new N_(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=f0(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=f0(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let V0=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&tr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tr(this._element,this._initialStyles),this._endStyles&&(tr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pa(this._element,this._endStyles),this._endStyles=null),tr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function G_(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];wr(i)&&(e=e||{},e[i]=n[i])}return e}function wr(n){return"display"===n||"position"===n}class z_{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:D_(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class qI{validateStyleProperty(e){return y_(e)}matchesElement(e,t){return!1}containsElement(e,t){return wI(e,t)}getParentElement(e){return bs(e)}query(e,t,r){return v_(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const w={},S=c.filter(L=>L instanceof z_);(function _0(n,e){return 0===n||0===e})(r,i)&&S.forEach(L=>{let U=L.currentSnapshot;Object.keys(U).forEach(z=>w[z]=U[z])}),t=function y0(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(f=>{a.hasOwnProperty(f)||c.push(f),a[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(_){f[_]=D_(n,_)})}}return e}(e,t=t.map(L=>Bn(L,!1)),w);const x=function zI(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=G_(e[0]),e.length>1&&(r=G_(e[e.length-1]))):e&&(t=G_(e)),t||r?new V0(n,t,r):null}(e,t);return new z_(e,t,_,x)}}let WI=(()=>{class n extends Wb{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Zb(t):t;return q_(this._renderer,null,r,"register",[i]),new B0(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class B0 extends class o_{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new KI(this._id,e,t||{},this._renderer)}}class KI{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return q_(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function q_(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const $u="@.disabled";let ZI=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=null==c?void 0:c.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(a);return S||(S=new U0("",a,this.engine),this._rendererCache.set(a,S)),S}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(c,f,t,S.name,S)};return r.data.animation.forEach(_),new j0(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(cg),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class U0{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==$u?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class j0 extends U0{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$u?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function YI(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function H0(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let Ak=(()=>{class n extends cg{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(Mh),d.LFG(R_))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const hi=new d.OlP("AnimationModuleType"),G0=[{provide:Wb,useClass:WI},{provide:R_,useFactory:function $0(){return new A0}},{provide:cg,useClass:Ak},{provide:d.FYo,useFactory:function W_(n,e,t){return new ZI(n,e,t)},deps:[bn,cg,d.R0b]}],z0=[{provide:Mh,useFactory:()=>new qI},{provide:hi,useValue:"BrowserAnimations"},...G0],ra=[{provide:Mh,useClass:g0},{provide:hi,useValue:"NoopAnimations"},...G0];let Ao=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ra:z0}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:z0,imports:[Ho]}),n})();const K0=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function JI(){return!0}});let ws=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!wa()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(nI),d.LFG(K0,8),d.LFG(ee))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[y],y]}),n})();function nT(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Go(e)}}}function hg(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Z0(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Go(e)}}}function fg(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new g.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let X0=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cT{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const J0={enterDuration:225,exitDuration:150},Z_=zo({passive:!0}),eE=["mousedown","touchstart"],tE=["mouseup","mouseleave","touchend","touchcancel"];class hT{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=zr(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},J0),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function pT(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=a.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=f-c+"px",S.style.top=_-c+"px",S.style.height=2*c+"px",S.style.width=2*c+"px",null!=r.color&&(S.style.backgroundColor=r.color),S.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(S),function fT(n){window.getComputedStyle(n).getPropertyValue("opacity")}(S),S.style.transform="scale(1)";const x=new cT(this,S,r);return x.state=0,this._activeRipples.add(x),r.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const L=x===this._mostRecentTransientRipple;x.state=1,!r.persistent&&(!L||!this._isPointerDown)&&x.fadeOut()},w),x}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},J0),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=zr(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(eE))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(tE),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Gp(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!s_(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Z_)})})}_removeTriggerEvents(){this._triggerElement&&(eE.forEach(e=>{this._triggerElement.removeEventListener(e,this,Z_)}),this._pointerUpEventsRegistered&&tE.forEach(e=>{this._triggerElement.removeEventListener(e,this,Z_)}))}}const nE=new d.OlP("mat-ripple-global-options");let Y_=(()=>{class n{constructor(t,r,i,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new hT(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Bt),d.Y36(nE,8),d.Y36(hi,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),rE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ws],ws]}),n})();var Gh=P(4986);let ET=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bt=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=zr(t);return new Ln.y(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new g.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ET))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wT=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Go(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function yr(n,e=0){return function _u(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function aE(n,e=Gh.z){return(0,di.e)((t,r)=>{let i=null,a=null,c=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function _(){const w=c+n,S=e.now();if(S<w)return i=this.schedule(void 0,w-S),void r.add(i);f()}t.subscribe((0,Vn.x)(r,w=>{a=w,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bt),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),CT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[ET]}),n})();var Q_=P(6451),cr=P(5577),DT=P(1144),Cs=P(576);const pg=["addListener","removeListener"],zn=["addEventListener","removeEventListener"],jk=["on","off"];function zh(n,e,t,r){if((0,Cs.m)(t)&&(r=t,t=void 0),r)return zh(n,e,t).pipe(eo(r));const[i,a]=function cE(n){return(0,Cs.m)(n.addEventListener)&&(0,Cs.m)(n.removeEventListener)}(n)?zn.map(c=>f=>n[c](e,f,t)):function IT(n){return(0,Cs.m)(n.addListener)&&(0,Cs.m)(n.removeListener)}(n)?pg.map(lE(n,e)):function uE(n){return(0,Cs.m)(n.on)&&(0,Cs.m)(n.off)}(n)?jk.map(lE(n,e)):[];if(!i&&(0,DT.z)(n))return(0,cr.z)(c=>zh(c,e,t))((0,Xs.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Ln.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function lE(n,e){return t=>r=>n[t](e,r)}var qh=P(8189);function X_(...n){return function dE(){return(0,qh.J)(1)}()((0,gn.D)(n,(0,br.yG)(n)))}function Hl(...n){const e=(0,br.yG)(n);return(0,di.e)((t,r)=>{(e?X_(n,t,e):X_(n,t)).subscribe(r)})}const TT=["connectionContainer"],Wh=["inputContainer"],ST=["label"];function AT(n,e){1&n&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15)(3,"div",16)(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15)(7,"div",16)(8,"div",17),d.qZA(),d.BQk())}function MT(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",19),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.Hsn(1,1),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function gg(n,e){if(1&n&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&n){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function hE(n,e){1&n&&d.Hsn(0,3,["*ngSwitchCase","true"])}function fE(n,e){1&n&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function pE(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.YNc(2,gg,4,1,"ng-container",12),d.YNc(3,hE,1,0,"ng-content",12),d.YNc(4,fE,2,0,"span",22),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function xT(n,e){1&n&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function Kh(n,e){if(1&n&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Zh(n,e){if(1&n&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function RT(n,e){if(1&n&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function kT(n,e){if(1&n&&(d.TgZ(0,"div",27),d.YNc(1,RT,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const OT=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],gE=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],mE=new d.OlP("MatError"),_E={transitionMessages:Kb("transitionMessages",[Sh("enter",ea({opacity:1,transform:"translateY(0%)"})),a_("void => enter",[ea({opacity:0,transform:"translateY(-5px)"}),cd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let J_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const Gk=new d.OlP("MatHint");let wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),FT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const LT=new d.OlP("MatPrefix"),Yh=new d.OlP("MatSuffix");let yE=0;const UT=hg(class{constructor(n){this._elementRef=n}},"primary"),bE=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),EE=new d.OlP("MatFormField");let jT=(()=>{class n extends UT{constructor(t,r,i,a,c,f,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=c,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new g.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+yE++,this._labelId="mat-form-field-label-"+yE++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Go(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Hl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ld(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ld(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Q_.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Hl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Hl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ld(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,zh(this._label.nativeElement,"transitionend").pipe((0,io.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const S=r.querySelectorAll(`${i}, ${a}`);for(let x=0;x<S.length;x++)S[x].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,f=0;const _=r.querySelectorAll(i),w=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const S=r.getBoundingClientRect();if(0===S.width&&0===S.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(S),L=t.children,U=this._getStartEnd(L[0].getBoundingClientRect());let z=0;for(let oe=0;oe<L.length;oe++)z+=L[oe].offsetWidth;c=Math.abs(U-x)-5,f=z>0?.75*z+10:0}for(let S=0;S<_.length;S++)_[S].style.width=`${c}px`;for(let S=0;S<w.length;S++)w[S].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(nd,8),d.Y36(bE,8),d.Y36(Bt),d.Y36(d.R0b),d.Y36(hi,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,J_,5),d.Suo(i,J_,7),d.Suo(i,wd,5),d.Suo(i,wd,7),d.Suo(i,FT,5),d.Suo(i,mE,5),d.Suo(i,Gk,5),d.Suo(i,LT,5),d.Suo(i,Yh,5)),2&t){let a;d.iGM(a=d.CRH())&&(r._controlNonStatic=a.first),d.iGM(a=d.CRH())&&(r._controlStatic=a.first),d.iGM(a=d.CRH())&&(r._labelChildNonStatic=a.first),d.iGM(a=d.CRH())&&(r._labelChildStatic=a.first),d.iGM(a=d.CRH())&&(r._placeholderChild=a.first),d.iGM(a=d.CRH())&&(r._errorChildren=a),d.iGM(a=d.CRH())&&(r._hintChildren=a),d.iGM(a=d.CRH())&&(r._prefixChildren=a),d.iGM(a=d.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(d.Gf(TT,7),d.Gf(Wh,5),d.Gf(ST,5)),2&t){let i;d.iGM(i=d.CRH())&&(r._connectionContainerRef=i.first),d.iGM(i=d.CRH())&&(r._inputContainerRef=i.first),d.iGM(i=d.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:EE,useExisting:n}]),d.qOj],ngContentSelectors:gE,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(d.F$t(OT),d.TgZ(0,"div",0)(1,"div",1,2),d.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),d.YNc(3,AT,9,0,"ng-container",3),d.YNc(4,MT,2,1,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,pE,5,16,"label",8),d.qZA()(),d.YNc(10,xT,2,0,"div",9),d.qZA(),d.YNc(11,Kh,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,Zh,2,1,"div",12),d.YNc(14,kT,5,2,"div",13),d.qZA()()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==r.appearance),d.xp6(1),d.Q6J("ngIf",r._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",r._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",r._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=r.appearance),d.xp6(1),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},directives:[Br,wT,ni,Ur],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[_E.transitionMessages]},changeDetection:0}),n})(),Gu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[go,ws,CT],ws]}),n})();var zu=P(515);const ey=zo({passive:!0});let HT=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return zu.E;const r=zr(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new g.x,c="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(c)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,ey),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,ey)}}),a}stopMonitoring(t){const r=zr(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bt),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ny=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),GT=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let wE=0;const CE=fg(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let zT=(()=>{class n extends CE{constructor(t,r,i,a,c,f,_,w,S,x){super(f,a,c,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=x,this._uid="mat-input-"+wE++,this.focused=!1,this.stateChanges=new g.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>fs().has(z)),this._iOSKeyupListener=z=>{const oe=z.target;!oe.value&&0===oe.selectionStart&&0===oe.selectionEnd&&(oe.setSelectionRange(1,1),oe.setSelectionRange(0,0))};const L=this._elementRef.nativeElement,U=L.nodeName.toLowerCase();this._inputValueAccessor=_||L,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&S.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Go(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(Sn.required))&&void 0!==a&&a}set required(t){this._required=Go(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&fs().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Go(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){GT.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Bt),d.Y36(Ii,10),d.Y36(Wc,8),d.Y36(Nu,8),d.Y36(X0),d.Y36(ny,10),d.Y36(HT),d.Y36(d.R0b),d.Y36(EE,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(d.Ikx("disabled",r.disabled)("required",r.required),d.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),d.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:J_,useExisting:n}]),d.qOj,d.TTD]}),n})(),qT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[X0],imports:[[ty,Gu,ws],ty,Gu]}),n})();var WT=P(9672);function iy(n,e,t){n?(0,WT.f)(t,n,e):e()}function Qh(n,e){const t=(0,Cs.m)(n)?n:()=>n,r=i=>i.error(t());return new Ln.y(e?i=>e.schedule(r,0,i):r)}const mg=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sy(n){return new Ln.y(e=>{(0,Xs.Xf)(n()).subscribe(e)})}var Cd=P(727);function DE(){return(0,di.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Vn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class YT extends Ln.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,di.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Cd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Vn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Cd.w0.EMPTY)}return e}refCount(){return DE()(this)}}function Oi(n,e){return(0,di.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,Vn.x)(r,_=>{null==i||i.unsubscribe();let w=0;const S=a++;(0,Xs.Xf)(n(_,S)).subscribe(i=(0,Vn.x)(r,x=>r.next(e?e(_,x,S,w++):x),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function IE(n,e,t,r,i){return(a,c)=>{let f=t,_=e,w=0;a.subscribe((0,Vn.x)(c,S=>{const x=w++;_=f?n(_,S,x):(f=!0,S),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}function Dd(n,e){return(0,di.e)(IE(n,e,arguments.length>=2,!0))}function La(n){return(0,di.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Vn.x)(t,void 0,void 0,c=>{a=(0,Xs.Xf)(n(c,La(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Id(n,e){return(0,Cs.m)(e)?(0,cr.z)(n,e,1):(0,cr.z)(n,1)}function _g(n){return n<=0?()=>zu.E:(0,di.e)((e,t)=>{let r=[];e.subscribe((0,Vn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function TE(n=QT){return(0,di.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function QT(){return new mg}function SE(n){return(0,di.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Va(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,a)=>n(i,a,r)):ad.y,(0,io.q)(1),t?SE(e):TE(()=>new mg))}var Yr=P(8505);function yg(n){return(0,di.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Ba{constructor(e,t){this.id=e,this.url=t}}class ay extends Ba{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qu extends Ba{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class AE extends Ba{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ME extends Ba{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XT extends Ba{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xE extends Ba{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JT extends Ba{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class RE extends Ba{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kk extends Ba{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kE{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xh{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eS{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Td{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jh{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tS{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nS{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const zt="primary";class rS{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Sd(n){return new rS(n)}const OE="ngNavigationCancelingError";function ly(n){const e=Error("NavigationCancelingError: "+n);return e[OE]=!0,e}function NE(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ds(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Ad(n[i],e[i]))return!1;return!0}function Ad(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function FE(n){return Array.prototype.concat.apply([],n)}function cy(n){return n.length>0?n[n.length-1]:null}function Qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function sa(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,gn.D)(Promise.resolve(n)):T(n)}const sS={exact:function Wu(n,e,t){if(!$l(n.segments,e.segments)||!ef(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Wu(n.children[r],e.children[r],t))return!1;return!0},subset:Ku},oS={exact:function aS(n,e){return Ds(n,e)},subset:function VE(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ad(n[t],e[t]))},ignored:()=>!0};function LE(n,e,t){return sS[t.paths](n.root,e.root,t.matrixParams)&&oS[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ku(n,e,t){return lS(n,e,e.segments,t)}function lS(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!$l(i,t)||e.hasChildren()||!ef(i,t,r))}if(n.segments.length===t.length){if(!$l(n.segments,t)||!ef(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ku(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!($l(n.segments,i)&&ef(n.segments,i,r)&&n.children[zt])&&lS(n.children[zt],e,a,r)}}function ef(n,e,t){return e.every((r,i)=>oS[t](n[i].parameters,r.parameters))}class Zu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sd(this.queryParams)),this._queryParamMap}toString(){return uS.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Qr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vg(this)}}class Md{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Sd(this.parameters)),this._parameterMap}toString(){return my(this)}}function $l(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class fy{}class py{parse(e){const t=new gS(e);return new Zu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${tf(e.root,!0)}`,r=function jE(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${bg(t)}=${bg(i)}`).join("&"):`${bg(t)}=${bg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function cS(n){return encodeURI(n)}(e.fragment)}`:""}`}}const uS=new py;function vg(n){return n.segments.map(e=>my(e)).join("/")}function tf(n,e){if(!n.hasChildren())return vg(n);if(e){const t=n.children[zt]?tf(n.children[zt],!1):"",r=[];return Qr(n.children,(i,a)=>{a!==zt&&r.push(`${a}:${tf(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function hy(n,e){let t=[];return Qr(n.children,(r,i)=>{i===zt&&(t=t.concat(e(r,i)))}),Qr(n.children,(r,i)=>{i!==zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===zt?[tf(n.children[zt],!1)]:[`${i}:${tf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${vg(n)}/${t[0]}`:`${vg(n)}/(${t.join("//")})`}}function BE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bg(n){return BE(n).replace(/%3B/gi,";")}function gy(n){return BE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eg(n){return decodeURIComponent(n)}function xd(n){return Eg(n.replace(/\+/g,"%20"))}function my(n){return`${gy(n.path)}${function UE(n){return Object.keys(n).map(e=>`;${gy(e)}=${gy(n[e])}`).join("")}(n.parameters)}`}const HE=/^[^\/()?;=#]+/;function nf(n){const e=n.match(HE);return e?e[0]:""}const dS=/^[^=?&#]+/,fS=/^[^&#]+/;class gS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new rn(e,t)),r}parseSegment(){const e=nf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Md(Eg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=nf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=nf(this.remaining);i&&(r=i,this.capture(r))}e[Eg(t)]=Eg(r)}parseQueryParam(e){const t=function hS(n){const e=n.match(dS);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function pS(n){const e=n.match(fS);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=xd(t),a=xd(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=nf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=zt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[zt]:new rn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $E{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_y(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_y(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Yu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yu(e,this._root).map(t=>t.value)}}function _y(n,e){if(n===e.value)return e;for(const t of e.children){const r=_y(n,t);if(r)return r}return null}function Yu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Yu(n,t);if(r.length)return r.unshift(e),r}return[]}class Ua{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Mo extends $E{constructor(e,t){super(e),this.snapshot=t,Rd(this,e)}toString(){return this.snapshot.toString()}}function GE(n,e){const t=function yy(n,e){const c=new wg([],{},{},"",{},zt,e,null,n.root,-1,{});return new rf("",new Ua(c,[]))}(n,e),r=new b([new Md("",{})]),i=new b({}),a=new b({}),c=new b({}),f=new b(""),_=new xo(r,i,c,f,a,zt,e,t.root);return _.snapshot=t.root,new Mo(new Ua(_,[]),t)}class xo{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Sd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Sd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function mS(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wg{constructor(e,t,r,i,a,c,f,_,w,S,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rf extends $E{constructor(e,t){super(t),this.url=e,Rd(this,t)}toString(){return qE(this._root)}}function Rd(n,e){e.value._routerState=n,e.children.forEach(t=>Rd(n,t))}function qE(n){const e=n.children.length>0?` { ${n.children.map(qE).join(", ")} } `:"";return`${n.value}${e}`}function vy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ds(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ds(e.params,t.params)||n.params.next(t.params),function uy(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ds(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ds(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Cg(n,e){const t=Ds(n.params,e.params)&&function Zk(n,e){return $l(n,e)&&n.every((t,r)=>Ds(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Cg(n.parent,e.parent))}function Qu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function KE(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qu(n,r,i);return Qu(n,r)})}(n,e,t);return new Ua(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Qu(n,f)),c}}const r=function _S(n){return new xo(new b(n.url),new b(n.params),new b(n.queryParams),new b(n.fragment),new b(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Qu(n,a));return new Ua(r,i)}}function by(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xu(n){return"object"==typeof n&&null!=n&&n.outlets}function sf(n,e,t,r,i){let a={};if(r&&Qr(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===e)return new Zu(t,a,i);const c=Ey(n,e,t);return new Zu(c,a,i)}function Ey(n,e,t){const r={};return Qr(n.children,(i,a)=>{r[a]=i===e?t:Ey(i,e,t)}),new rn(n.segments,r)}class Dg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&by(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Xu);if(i&&i!==cy(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Dy(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return kd(n,e,t);const r=function ZE(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(Xu(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!QE(_,w,c))return a;r+=2}else{if(!QE(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new rn(n.segments.slice(0,r.pathIndex),{});return a.children[zt]=new rn(n.segments.slice(r.pathIndex),n.children),kd(a,0,i)}return r.match&&0===i.length?new rn(n.segments,{}):r.match&&!n.hasChildren()?Ig(n,e,t):r.match?kd(n,0,i):Ig(n,e,t)}function kd(n,e,t){if(0===t.length)return new rn(n.segments,{});{const r=function ES(n){return Xu(n[0])?n[0].outlets:{[zt]:n}}(t),i={};return Qr(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=Dy(n.children[c],e,a))}),Qr(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new rn(n.segments,i)}}function Ig(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Xu(a)){const _=YE(a.outlets);return new rn(r,_)}if(0===i&&by(t[0])){r.push(new Md(n.segments[e].path,Iy(t[0]))),i++;continue}const c=Xu(a)?a.outlets[zt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&by(f)?(r.push(new Md(c,Iy(f))),i+=2):(r.push(new Md(c,{})),i++)}return new rn(r,{})}function YE(n){const e={};return Qr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ig(new rn([],{}),0,t))}),e}function Iy(n){const e={};return Qr(n,(t,r)=>e[r]=`${t}`),e}function QE(n,e,t){return n==t.path&&Ds(e,t.parameters)}class JE{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Gl(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Qr(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Gl(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Gl(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Gl(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new tS(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Td(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(vy(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),vy(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function wS(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=_,c.outlet&&c.outlet.activateWith(i,_),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Tg{constructor(e,t){this.routes=e,this.module=t}}function zl(n){return"function"==typeof n}function so(n){return n instanceof Zu}const lf=Symbol("INITIAL_VALUE");function Ju(){return Oi(n=>function ry(...n){const e=(0,br.yG)(n),t=(0,br.jO)(n),{args:r,keys:i}=Pc(n);if(0===r.length)return(0,gn.D)([],e);const a=new Ln.y(function KT(n,e,t=ad.y){return r=>{iy(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)iy(e,()=>{const w=(0,gn.D)(n[_],e);let S=!1;w.subscribe((0,Vn.x)(r,x=>{a[_]=x,S||(S=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ai(i,c):ad.y));return t?a.pipe(eo(t)):a}(n.map(e=>e.pipe((0,io.q)(1),Hl(lf)))).pipe(Dd((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==lf?i:(a===lf&&(r=!0),r||!1!==a&&c!==t.length-1&&!so(a)?i:a),e)},lf),Zr(e=>e!==lf),(0,gt.U)(e=>so(e)?e:!0===e),(0,io.q)(1)))}class IS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Od,this.attachRef=null}}class Od{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new IS,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ty=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=a||zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new TS(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Od),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class TS{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===xo?this.route:e===Od?this.childContexts:this.parent.get(e,t)}}let Sg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Ty],encapsulation:2}),n})();function Sy(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ew(r,Ag(e,r))}}function ew(n,e){n.children&&Sy(n.children,e)}function Ag(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function uf(n){const e=n.children&&n.children.map(uf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=Sg),t}function Ro(n){return n.outlet||zt}function Ay(n,e){const t=n.filter(r=>Ro(r)===e);return t.push(...n.filter(r=>Ro(r)!==e)),t}const tw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cf(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},tw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||NE)(t,n,e);if(!a)return Object.assign({},tw);const c={};Qr(a.posParams,(_,w)=>{c[w]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function ec(n,e,t,r,i="corrected"){if(t.length>0&&function My(n,e,t){return t.some(r=>Ry(n,e,r)&&Ro(r)!==zt)}(n,t,r)){const c=new rn(e,function SS(n,e,t,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ro(a)!==zt){const c=new rn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ro(a)]=c}return i}(n,e,r,new rn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function xy(n,e,t){return t.some(r=>Ry(n,e,r))}(n,t,r)){const c=new rn(n.segments,function nw(n,e,t,r,i,a){const c={};for(const f of r)if(Ry(n,t,f)&&!i[Ro(f)]){const _=new rn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Ro(f)]=_}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new rn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Ry(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function rw(n,e,t,r){return!!(Ro(n)===r||r!==zt&&Ry(e,t,n))&&("**"===n.path||cf(e,n,t).matched)}function iw(n,e,t){return 0===e.length&&!n.children[t]}class df{constructor(e){this.segmentGroup=e||null}}class ky{constructor(e){this.urlTree=e}}function hf(n){return Qh(new df(n))}function Oy(n){return Qh(new ky(n))}class ow{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=ec(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,zt).pipe((0,gt.U)(a=>this.createUrlTree(Mg(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(La(a=>{if(a instanceof ky)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof df?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,zt).pipe((0,gt.U)(i=>this.createUrlTree(Mg(i),e.queryParams,e.fragment))).pipe(La(i=>{throw i instanceof df?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new rn([],{[zt]:e}):e;return new Zu(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gt.U)(a=>new rn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,gn.D)(i).pipe(Id(a=>{const c=r.children[a],f=Ay(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,gt.U)(_=>({segment:_,outlet:a})))}),Dd((a,c)=>(a[c.outlet]=c.segment,a),{}),function oy(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,a)=>n(i,a,r)):ad.y,_g(1),t?SE(e):TE(()=>new mg))}())}expandSegment(e,t,r,i,a,c){return(0,gn.D)(r).pipe(Id(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(La(w=>{if(w instanceof df)return T(null);throw w}))),Va(f=>!!f),La((f,_)=>{if(f instanceof mg||"EmptyError"===f.name)return iw(t,i,a)?T(new rn([],{})):hf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return rw(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):hf(t):hf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Oy(a):this.lineralizeSegments(r,a).pipe((0,cr.z)(c=>{const f=new rn(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:S}=cf(t,i,a);if(!f)return hf(t);const x=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?Oy(x):this.lineralizeSegments(i,x).pipe((0,cr.z)(L=>this.expandSegment(e,t,r,L.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?T(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,gt.U)(x=>(r._loadedConfig=x,new rn(i,{})))):T(new rn(i,{}));const{matched:c,consumedSegments:f,remainingSegments:_}=cf(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,cr.z)(S=>{const x=S.module,L=S.routes,{segmentGroup:U,slicedSegments:z}=ec(t,f,_,L),oe=new rn(U.segments,U.children);if(0===z.length&&oe.hasChildren())return this.expandChildren(x,L,oe).pipe((0,gt.U)(Et=>new rn(f,Et)));if(0===L.length&&0===z.length)return T(new rn(f,{}));const ke=Ro(r)===a;return this.expandSegment(x,oe,L,z,ke?zt:a,!0).pipe((0,gt.U)(mt=>new rn(f.concat(mt.segments),mt.children)))})):hf(t)}getChildConfig(e,t,r){return t.children?T(new Tg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?T(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,cr.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,gt.U)(a=>(t._loadedConfig=a,a))):function AS(n){return Qh(ly(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):T(new Tg([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?T(i.map(c=>{const f=e.get(c);let _;if(function CS(n){return n&&zl(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!zl(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return sa(_)})).pipe(Ju(),(0,Yr.b)(c=>{if(!so(c))return;const f=ly(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,gt.U)(c=>!0===c)):T(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return T(r);if(i.numberOfChildren>1||!i.children[zt])return Qh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Zu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Qr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Qr(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new rn(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Mg(n){const e={};for(const r of Object.keys(n.children)){const a=Mg(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function xS(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}class Py{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ff{constructor(e,t){this.component=e,this.route=t}}function RS(n,e,t){const r=n._root;return xg(r,e?e._root:null,t,[r.value])}function Ny(n,e,t){const r=function lw(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function xg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Gl(e);return n.children.forEach(c=>{(function Qk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function Xk(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!$l(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$l(n.url,e.url)||!Ds(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cg(n,e)||!Ds(n.queryParams,e.queryParams);default:return!Cg(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Py(r)):(a.data=c.data,a._resolvedData=c._resolvedData),xg(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new ff(f.outlet.component,c))}else c&&Rg(e,f,i),i.canActivateChecks.push(new Py(r)),xg(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Qr(a,(c,f)=>Rg(c,t.getContext(f),i)),i}function Rg(n,e,t){const r=Gl(n),i=n.value;Qr(r,(a,c)=>{Rg(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new ff(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class cw{}function Ly(n){return new Ln.y(e=>e.error(n))}class Vy{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=ec(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,zt);if(null===t)return null;const r=new wg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ua(r,t),a=new rf(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=zE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=Ay(e,a),_=this.processSegmentGroup(f,c,a);if(null===_)return null;r.push(..._)}const i=PS(r);return function dw(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return iw(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!rw(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const U=r.length>0?cy(r).parameters:{};a=new wg(r,U,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pw(e),Ro(e),e.component,e,fw(t),Og(t)+r.length,NS(e))}else{const U=cf(t,e,r);if(!U.matched)return null;c=U.consumedSegments,f=U.remainingSegments,a=new wg(c,U.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pw(e),Ro(e),e.component,e,fw(t),Og(t)+c.length,NS(e))}const _=function OS(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:S}=ec(t,c,f,_.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution);if(0===S.length&&w.hasChildren()){const U=this.processChildren(_,w);return null===U?null:[new Ua(a,U)]}if(0===_.length&&0===S.length)return[new Ua(a,[])];const x=Ro(e)===i,L=this.processSegment(_,w,S,x?zt:i);return null===L?null:[new Ua(a,L)]}}function hw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function PS(n){const e=[],t=new Set;for(const r of n){if(!hw(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=PS(r.children);e.push(new Ua(r.value,i))}return e.filter(r=>!t.has(r))}function fw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Og(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function pw(n){return n.data||{}}function NS(n){return n.resolve||{}}function gw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function By(n){return Oi(e=>{const t=n(e);return t?(0,gn.D)(t).pipe((0,gt.U)(()=>e)):T(e)})}class ko extends class VS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const jy=new d.OlP("ROUTES");class Pg{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,gt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new Tg(FE(c.injector.get(jy,void 0,d.XFs.Self|d.XFs.Optional)).map(uf),c)}),La(a=>{throw t._loader$=void 0,a}));return t._loader$=new YT(i,()=>new g.x).pipe(DE()),t._loader$}loadModuleFactory(e){return sa(e()).pipe((0,cr.z)(t=>t instanceof d.YKP?T(t):(0,gn.D)(this.compiler.compileModuleAsync(t))))}}class US{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Hy(n){throw n}function mw(n,e,t){return e.parse("/")}function $y(n,e){return T(null)}const jS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_w={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xi=(()=>{class n{constructor(t,r,i,a,c,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new g.x,this.errorHandler=Hy,this.malformedUriErrorHandler=mw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$y,afterPreactivation:$y},this.urlHandlingStrategy=new US,this.routeReuseStrategy=new ko,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(d.h0i),this.console=c.get(d.c2e);const x=c.get(d.R0b);this.isNgZoneEnabled=x instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function dy(){return new Zu(new rn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pg(c,f,L=>this.triggerEvent(new kE(L)),L=>this.triggerEvent(new Xh(L))),this.routerState=GE(this.currentUrlTree,this.rootComponentType),this.transitions=new b({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Zr(i=>0!==i.id),(0,gt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Oi(i=>{let a=!1,c=!1;return T(i).pipe((0,Yr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Oi(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return yw(f.source)&&(this.browserUrlTree=f.extractedUrl),T(f).pipe(Oi(x=>{const L=this.transitions.getValue();return r.next(new ay(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?zu.E:Promise.resolve(x)}),function aw(n,e,t,r){return Oi(i=>function MS(n,e,t,r,i){return new ow(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,gt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function oO(n,e,t,r,i){return(0,cr.z)(a=>function iO(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new Vy(n,e,t,r,i,a).recognize();return null===c?Ly(new cw):T(c)}catch(c){return Ly(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,gt.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yr.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(U,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new XT(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(L)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:U,source:z,restoredState:oe,extras:ke}=f,dt=new ay(L,this.serializeUrl(U),z,oe);r.next(dt);const mt=GE(U,this.rootComponentType).snapshot;return T(Object.assign(Object.assign({},f),{targetSnapshot:mt,urlAfterRedirects:U,extras:Object.assign(Object.assign({},ke),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),zu.E}),By(f=>{const{targetSnapshot:_,id:w,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:U}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!U})}),(0,Yr.b)(f=>{const _=new xE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,gt.U)(f=>Object.assign(Object.assign({},f),{guards:RS(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Jk(n,e){return(0,cr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?T(Object.assign(Object.assign({},t),{guardsResult:!0})):function eO(n,e,t,r){return(0,gn.D)(n).pipe((0,cr.z)(i=>function Fy(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?T(a.map(f=>{const _=Ny(f,e,i);let w;if(function af(n){return n&&zl(n.canDeactivate)}(_))w=sa(_.canDeactivate(n,e,t,r));else{if(!zl(_))throw new Error("Invalid CanDeactivate guard");w=sa(_(n,e,t,r))}return w.pipe(Va())})).pipe(Ju()):T(!0)}(i.component,i.route,t,e,r)),Va(i=>!0!==i,!0))}(c,r,i,n).pipe((0,cr.z)(f=>f&&function Pi(n){return"boolean"==typeof n}(f)?function tO(n,e,t,r){return(0,gn.D)(e).pipe(Id(i=>X_(function kg(n,e){return null!==n&&e&&e(new eS(n)),T(!0)}(i.route.parent,r),function nO(n,e){return null!==n&&e&&e(new Jh(n)),T(!0)}(i.route,r),function uw(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function kS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>sy(()=>T(c.guards.map(_=>{const w=Ny(_,c.node,t);let S;if(function Yk(n){return n&&zl(n.canActivateChild)}(w))S=sa(w.canActivateChild(r,n));else{if(!zl(w))throw new Error("Invalid CanActivateChild guard");S=sa(w(r,n))}return S.pipe(Va())})).pipe(Ju())));return T(a).pipe(Ju())}(n,i.path,t),function rO(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return T(!0);const i=r.map(a=>sy(()=>{const c=Ny(a,e,t);let f;if(function DS(n){return n&&zl(n.canActivate)}(c))f=sa(c.canActivate(e,n));else{if(!zl(c))throw new Error("Invalid CanActivate guard");f=sa(c(e,n))}return f.pipe(Va())}));return T(i).pipe(Ju())}(n,i.route,t))),Va(i=>!0!==i,!0))}(r,a,n,e):T(f)),(0,gt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Yr.b)(f=>{if(so(f.guardsResult)){const w=ly(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new JT(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Zr(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),By(f=>{if(f.guards.canActivateChecks.length)return T(f).pipe((0,Yr.b)(_=>{const w=new RE(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Oi(_=>{let w=!1;return T(_).pipe(function aO(n,e){return(0,cr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return T(t);let a=0;return(0,gn.D)(i).pipe(Id(c=>function FS(n,e,t,r){return function LS(n,e,t,r){const i=gw(n);if(0===i.length)return T({});const a={};return(0,gn.D)(i).pipe((0,cr.z)(c=>function lO(n,e,t,r){const i=Ny(n,e,r);return sa(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Yr.b)(f=>{a[c]=f}))),_g(1),(0,cr.z)(()=>gw(a).length===i.length?T(a):zu.E))}(n._resolve,n,e,r).pipe((0,gt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),zE(n,t).resolve),null)))}(c.route,r,n,e)),(0,Yr.b)(()=>a++),_g(1),(0,cr.z)(c=>a===i.length?T(t):zu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Yr.b)(_=>{const w=new Kk(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),By(f=>{const{targetSnapshot:_,id:w,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:U}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!U})}),(0,gt.U)(f=>{const _=function WE(n,e,t){const r=Qu(n,e._root,t?t._root:void 0);return new Mo(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Yr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(r=>(new JE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Yr.b)({next(){a=!0},complete(){a=!0}}),yg(()=>{var f;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),La(f=>{if(c=!0,function PE(n){return n&&n[OE]}(f)){const _=so(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new AE(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yw(i.source)};this.scheduleNavigation(S,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new ME(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return zu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Sy(t),this.config=t.map(uf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,S=_?this.currentUrlTree.fragment:c;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),function yS(n,e,t,r,i){if(0===t.length)return sf(e.root,e.root,e.root,r,i);const a=function wy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Dg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Qr(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Dg(t,e,r)}(t);if(a.toRoot())return sf(e.root,e.root,new rn([],{}),r,i);const c=function vS(n,e,t){if(n.isAbsolute)return new Cy(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Cy(a,a===e.root,0)}const r=by(n.commands[0])?0:1;return function bS(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Cy(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=c.processChildren?kd(c.segmentGroup,c.index,a.commands):Dy(c.segmentGroup,c.index,a.commands);return sf(e.root,c.segmentGroup,f,r,i)}(w,this.currentUrlTree,t,x,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=so(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function HS(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},jS):!1===r?Object.assign({},_w):r,so(t))return LE(this.currentUrlTree,t,i);const a=this.parseUrl(t);return LE(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new qu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var f,_;if(this.disposed)return Promise.resolve(!1);let w,S,x;c?(w=c.resolve,S=c.reject,x=c.promise):x=new Promise((z,oe)=>{w=z,S=oe});const L=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),U=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):U=0,this.setTransition({id:L,targetPageId:U,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:S,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(z=>Promise.reject(z))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new AE(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function yw(n){return"imperative"!==n}class GS{}class bw{preload(e,t){return T(null)}}let Ew=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Pg(i,r,_=>t.triggerEvent(new kE(_)),_=>t.triggerEvent(new Xh(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(t=>t instanceof qu),Id(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,gn.D)(i).pipe((0,qh.J)(),(0,gt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?T(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,cr.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xi),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(GS))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ng=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ay?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new nS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const nc=new d.OlP("ROUTER_CONFIGURATION"),qS=new d.OlP("ROUTER_FORROOT_GUARD"),Gy=[ve,{provide:fy,useClass:py},{provide:Xi,useFactory:function Iw(n,e,t,r,i,a,c={},f,_){const w=new Xi(null,n,e,t,r,i,FE(a));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function KS(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,w),c.enableTracing&&w.events.subscribe(S=>{var x,L;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(L=console.groupEnd)||void 0===L||L.call(console)}),w},deps:[fy,Od,ve,d.zs3,d.Sil,jy,nc,[class BS{},new d.FiY],[class Uy{},new d.FiY]]},Od,{provide:xo,useFactory:function Tw(n){return n.routerState.root},deps:[Xi]},Ew,bw,class zS{preload(e,t){return t().pipe(La(()=>T(null)))}},{provide:nc,useValue:{enableTracing:!1}}];function ww(){return new d.PXZ("Router",Xi)}let Cw=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Gy,Fg(t),{provide:qS,useFactory:zy,deps:[[Xi,new d.FiY,new d.tp0]]},{provide:nc,useValue:r||{}},{provide:pe,useFactory:Dw,deps:[fe,[new d.tBr(Je),new d.FiY],nc]},{provide:Ng,useFactory:WS,deps:[Xi,tl,nc]},{provide:GS,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:bw},{provide:d.PXZ,multi:!0,useFactory:ww},[Lg,{provide:d.ip1,multi:!0,useFactory:ZS,deps:[Lg]},{provide:QS,useFactory:YS,deps:[Lg]},{provide:d.tb,multi:!0,useExisting:QS}]]}}static forChild(t){return{ngModule:n,providers:[Fg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qS,8),d.LFG(Xi,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function WS(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ng(n,e,t)}function Dw(n,e,t={}){return t.useHash?new Se(n,e):new Ze(n,e)}function zy(n){return"guarded"}function Fg(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:jy,multi:!0,useValue:n}]}let Lg=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new g.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Xi),c=this.injector.get(nc);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?T(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(nc),i=this.injector.get(Ew),a=this.injector.get(Ng),c=this.injector.get(Xi),f=this.injector.get(d.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function ZS(n){return n.appInitializer.bind(n)}function YS(n){return n.bootstrapListener.bind(n)}const QS=new d.OlP("Router Initializer");class Sw{constructor(){this.players=[],this.player_images=[],this.stack=[],this.playedCards=[],this.currentPlayer=0,this.pickCardAnimation=!1,this.currentCard="";for(let e=1;e<14;e++)this.stack.push("ace_"+e),this.stack.push("hearts_"+e),this.stack.push("clubs_"+e),this.stack.push("diamonds_"+e);!function JS(n){for(var t,r,e=n.length;0!==e;)r=Math.floor(Math.random()*e),t=n[e-=1],n[e]=n[r],n[r]=t}(this.stack)}toJson(){return{players:this.players,player_images:this.player_images,stack:this.stack,playedCards:this.playedCards,currentPlayer:this.currentPlayer,pickCardAnimation:this.pickCardAnimation,currentCard:this.currentCard}}}var Aw=P(4408);const Vg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Vg;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new Cd.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Vg;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Vg;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var eA=P(7565);new class hO extends eA.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class dO extends Aw.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Vg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Vg.cancelAnimationFrame(t),e._scheduled=void 0)}});let qy,Bg=1;const Ug={};function Wy(n){return n in Ug&&(delete Ug[n],!0)}const rc={setImmediate(n){const e=Bg++;return Ug[e]=!0,qy||(qy=Promise.resolve()),qy.then(()=>Wy(e)&&n()),e},clearImmediate(n){Wy(n)}},{setImmediate:Ky,clearImmediate:Zy}=rc,jg={setImmediate(...n){const{delegate:e}=jg;return((null==e?void 0:e.setImmediate)||Ky)(...n)},clearImmediate(n){const{delegate:e}=jg;return((null==e?void 0:e.clearImmediate)||Zy)(n)},delegate:void 0};new class Qy extends eA.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Yy extends Aw.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=jg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(jg.clearImmediate(t),e._scheduled=void 0)}});var mO=P(3532);function xw(n,e=Gh.z){return function gO(n){return(0,di.e)((e,t)=>{let r=!1,i=null,a=null,c=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const w=i;i=null,t.next(w)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,Vn.x)(t,w=>{r=!0,i=w,a||(0,Xs.Xf)(n(w)).subscribe(a=(0,Vn.x)(t,f,_))},()=>{c=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function Mw(n=0,e,t=Gh.P){let r=-1;return null!=e&&((0,mO.K)(e)?t=e:r=e),new Ln.y(i=>{let a=function _O(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let oA=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new g.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ln.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(xw(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):T()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Zr(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=zr(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Bt),d.LFG(ee,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lA=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new g.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xw(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bt),d.LFG(d.R0b),d.LFG(ee,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),kw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[y,cA],y,cA]}),n})();class Jy{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Ow extends Jy{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class dA extends Jy{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class DO extends Jy{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class Pw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Ow?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof dA?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof DO?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class o extends Pw{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let m=(()=>{class n extends Pw{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=a=>{const c=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),c.parentNode.insertBefore(f,c),this._getRootNode().appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(c,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(ee))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const M=qo();class R{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=wn(-this._previousScrollPosition.left),e.style.top=wn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),M&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),M&&(r.scrollBehavior=a,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class j{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Y{enable(){}disable(){}attach(){}}function ye(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Ne(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class He{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();ye(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tt=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Y,this.close=c=>new j(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new R(this._viewportRuler,this._document),this.reposition=c=>new He(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oA),d.LFG(lA),d.LFG(d.R0b),d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Te{constructor(e){if(this.scrollStrategy=new Y,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class mn{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class ev{constructor(e,t,r,i,a,c,f,_,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new g.x,this._attachments=new g.x,this._detachments=new g.x,this._locationChanges=Cd.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new g.x,this._outsidePointerEvents=new g.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,io.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=wn(this._config.width),e.height=wn(this._config.height),e.minWidth=wn(this._config.minWidth),e.minHeight=wn(this._config.minHeight),e.maxWidth=wn(this._config.maxWidth),e.maxHeight=wn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=Wi(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ld((0,Q_.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let gf=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||wa()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),wa()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(Bt))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $g="cdk-overlay-connected-position-bounding-box",tv=/([A-Za-z%]+)$/;class nv{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new g.x,this._resizeSubscription=Cd.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add($g),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,i,f),w=this._getOverlayPoint(_,t,f),S=this._getOverlayFit(w,t,r,f);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(S,w,r)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<S.visibleArea)&&(c={overlayFit:S,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const S=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);S>_&&(_=S,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ha(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($g),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?c:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=zg(t);let{x:c,y:f}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(c+=_),w&&(f+=w);let L=0-f,U=f+a.height-r.height,z=this._subtractOverflows(a.width,0-c,c+a.width-r.width),oe=this._subtractOverflows(a.height,L,U),ke=z*oe;return{visibleArea:ke,isCompletelyWithinViewport:a.width*a.height===ke,fitsInViewportVertically:oe===a.height,fitsInViewportHorizontally:z==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,c=Gg(this._overlayRef.getConfig().minHeight),f=Gg(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=c&&c<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=zg(t),a=this._viewportRect,c=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),_=Math.max(a.top-r.top-e.y,0),w=Math.max(a.left-r.left-e.x,0);let S=0,x=0;return S=i.width<=a.width?w||-c:e.x<this._viewportMargin?a.left-r.left-e.x:0,x=i.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:S,y:x},{x:e.x+S,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new mn(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,c,f,S,x,L;if("top"===t.overlayY)c=e.y,a=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const U=Math.min(r.bottom-e.y+r.top,e.y),z=this._lastBoundingBoxSize.height;a=2*U,c=e.y-U,a>z&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-z/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)L=r.width-e.x+this._viewportMargin,S=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,S=r.right-e.x;else{const U=Math.min(r.right-e.x+r.left,e.x),z=this._lastBoundingBoxSize.width;S=2*U,x=e.x-U,S>z&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-z/2)}return{top:c,left:x,bottom:f,right:L,width:S,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=wn(r.height),i.top=wn(r.top),i.bottom=wn(r.bottom),i.width=wn(r.width),i.left=wn(r.left),i.right=wn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=wn(a)),c&&(i.maxWidth=wn(c))}this._lastBoundingBoxSize=r,Ha(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ha(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ha(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const S=this._viewportRuler.getViewportScrollPosition();Ha(r,this._getExactOverlayY(t,e,S)),Ha(r,this._getExactOverlayX(t,e,S))}else r.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),c.maxHeight&&(i?r.maxHeight=wn(c.maxHeight):a&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=wn(c.maxWidth):a&&(r.maxWidth="")),Ha(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=wn(a.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=wn(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ne(e,r),isOriginOutsideView:ye(e,r),isOverlayClipped:Ne(t,r),isOverlayOutsideView:ye(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Wi(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Ha(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Gg(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(tv);return t&&"px"!==t?null:parseFloat(e)}return n||null}function zg(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const qg="cdk-global-overlay-wrapper";class VV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(qg),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:c,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(qg),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let BV=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new VV}flexibleConnectedTo(t){return new nv(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(lA),d.LFG(ee),d.LFG(Bt),d.LFG(gf))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IO=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UV=(()=>{class n extends IO{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const f=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jV=(()=>{class n extends IO{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=qr(a)},this._clickListener=a=>{const c=qr(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const S=_[w];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(c)||S.overlayElement.contains(f))break;const x=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(Bt),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HV=0,Nw=(()=>{class n{constructor(t,r,i,a,c,f,_,w,S,x,L){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=_,this._document=w,this._directionality=S,this._location=x,this._outsideClickDispatcher=L}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),c=new Te(t);return c.direction=c.direction||this._directionality.value,new ev(a,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+HV++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new o(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tt),d.LFG(gf),d.LFG(d._Vd),d.LFG(BV),d.LFG(UV),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ee),d.LFG(nd),d.LFG(ve),d.LFG(jV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const zV={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Nw],useFactory:function GV(n){return()=>n.scrollStrategies.reposition()}};let qV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Nw,zV],imports:[[y,E,kw],kw]}),n})();function WV(n,e){}class hA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const KV={dialogContainer:Kb("dialogContainer",[Sh("void, exit",ea({opacity:0,transform:"scale(0.7)"})),Sh("enter",ea({transform:"none"})),a_("* => enter",Wp([cd("150ms cubic-bezier(0, 0, 0.2, 1)",ea({transform:"none",opacity:1})),Yb("@*",Kp(),{optional:!0})])),a_("* => void, * => exit",Wp([cd("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ea({opacity:0})),Yb("@*",Kp(),{optional:!0})]))])};let ZV=(()=>{class n extends Pw{constructor(t,r,i,a,c,f,_,w){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=c,this._interactivityChecker=f,this._ngZone=_,this._focusMonitor=w,this._animationStateChanged=new d.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=S=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(S)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ea())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=Ea(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Ea();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(zD),d.Y36(d.sBO),d.Y36(ee,8),d.Y36(hA),d.Y36(Hp),d.Y36(d.R0b),d.Y36(zp))},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,r){if(1&t&&d.Gf(m,7),2&t){let i;d.iGM(i=d.CRH())&&(r._portalOutlet=i.first)}},features:[d.qOj]}),n})(),YV=(()=>{class n extends ZV{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&d.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(d.Ikx("id",r._id),d.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),d.d8E("@dialogContainer",r._state))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&d.YNc(0,WV,0,0,"ng-template",0)},directives:[m],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[KV.dialogContainer]}}),n})(),QV=0;class rv{constructor(e,t,r="mat-dialog-"+QV++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new g.x,this._afterClosed=new g.x,this._beforeClosed=new g.x,this._state=0,t._id=r,t._animationStateChanged.pipe(Zr(i=>"opened"===i.state),(0,io.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Zr(i=>"closed"===i.state),(0,io.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Zr(i=>27===i.keyCode&&!this.disableClose&&!function Fl(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),fA(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():fA(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Zr(t=>"closing"===t.state),(0,io.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function fA(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const XV=new d.OlP("MatDialogData"),JV=new d.OlP("mat-dialog-default-options"),TO=new d.OlP("mat-dialog-scroll-strategy"),tB={provide:TO,deps:[Nw],useFactory:function eB(n){return()=>n.scrollStrategies.block()}};let nB=(()=>{class n{constructor(t,r,i,a,c,f,_,w,S,x){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=c,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new g.x,this._afterOpenedAtThisLevel=new g.x,this._ariaHiddenElements=new Map,this.afterAllClosed=sy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Hl(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function rB(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new hA),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),a=this._attachDialogContainer(i,r),c=this._attachDialogContent(t,a,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),a._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new Te({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const a=d.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:hA,useValue:r}]}),c=new Ow(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,a){const c=new this._dialogRefConstructor(i,r,a.id);if(t instanceof d.Rgc)r.attachTemplatePortal(new dA(t,null,{$implicit:a.data,dialogRef:c}));else{const f=this._createInjector(a,c,r),_=r.attachComponentPortal(new Ow(t,a.viewContainerRef,f,a.componentFactoryResolver));c.componentInstance=_.instance}return c.updateSize(a.width,a.height).updatePosition(a.position),c}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!a||!a.get(nd,null,d.XFs.Optional))&&c.push({provide:nd,useValue:{value:t.direction,change:T()}}),d.zs3.create({parent:a||this._injector,providers:c})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n}),n})(),Fw=(()=>{class n extends nB{constructor(t,r,i,a,c,f,_,w){super(t,r,a,f,_,c,rv,YV,XV,w)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Nw),d.LFG(d.zs3),d.LFG(ve,8),d.LFG(JV,8),d.LFG(TO),d.LFG(n,12),d.LFG(gf),d.LFG(hi,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),iB=0,SO=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=xO(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){fA(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rv,8),d.Y36(d.SBq),d.Y36(Fw))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r._onButtonClick(a)}),2&t&&d.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[d.TTD]}),n})(),AO=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+iB++}ngOnInit(){this._dialogRef||(this._dialogRef=xO(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rv,8),d.Y36(d.SBq),d.Y36(Fw))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&d.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),sB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function xO(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Fw,tB],imports:[[qV,E,ws],ws]}),n})();const aB=["mat-button",""],lB=["*"],cB=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],dB=hg(nT(Z0(class{constructor(n){this._elementRef=n}})));let pA=(()=>{class n extends dB{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of cB)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(zp),d.Y36(hi,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&d.Gf(Y_,5),2&t){let i;d.iGM(i=d.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:aB,ngContentSelectors:lB,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Y_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),hB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[rE,ws],ws]}),n})(),fB=(()=>{class n{constructor(t){this.dialogRef=t,this.name=""}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rv))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dialog-add-player"]],decls:14,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(t,r){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Add new player"),d.qZA(),d.TgZ(2,"div",1)(3,"p"),d._uU(4,"Please enter the name of player."),d.qZA(),d.TgZ(5,"mat-form-field",2)(6,"mat-label"),d._uU(7,"Name"),d.qZA(),d.TgZ(8,"input",3),d.NdJ("ngModelChange",function(a){return r.name=a}),d.qZA()()(),d.TgZ(9,"div",4)(10,"button",5),d.NdJ("click",function(){return r.onNoClick()}),d._uU(11,"No Thanks"),d.qZA(),d.TgZ(12,"button",6),d._uU(13," Ok "),d.qZA()()),2&t&&(d.xp6(8),d.Q6J("ngModel",r.name),d.xp6(4),d.Q6J("disabled",0==r.name.length)("mat-dialog-close",r.name))},directives:[AO,sB,jT,wd,zT,Ca,D,xl,MO,pA,SO],styles:[""]}),n})();function pB(n,e){if(1&n&&d._UZ(0,"img",5),2&n){const t=e.$implicit;d.s9C("src",t,d.LSH),d.Q6J("mat-dialog-close",t)}}let gB=(()=>{class n{constructor(t){this.dialogRef=t,this.allProfilePictures=["../assets/images.jpg","../assets/profile_pic_1.webp","../assets/ape_1.png","../assets/dog.png","../assets/pig.png"]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rv))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-edit-player"]],decls:8,vars:2,consts:[["mat-dialog-title",""],["class","profile-picture",3,"mat-dialog-close","src",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["color","warn","mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],[1,"profile-picture",3,"mat-dialog-close","src"]],template:function(t,r){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Edit player"),d.qZA(),d.YNc(2,pB,1,2,"img",1),d.TgZ(3,"div",2)(4,"button",3),d.NdJ("click",function(){return r.dialogRef.close()}),d._uU(5,"Close"),d.qZA(),d.TgZ(6,"button",4),d._uU(7," Delete player "),d.qZA()()),2&t&&(d.xp6(2),d.Q6J("ngForOf",r.allProfilePictures),d.xp6(4),d.Q6J("mat-dialog-close","DELETE"))},directives:[AO,Xn,SO,MO,pA],styles:[".profile-picture[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:100%;cursor:pointer}.profile-picture[_ngcontent-%COMP%]:hover{filter:brightness(1.15)}"]}),n})();var Ji=P(5813);function gA(){return(0,di.e)((n,e)=>{let t,r=!1;n.subscribe((0,Vn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var nt,$a=P(2011),mB=(P(820),P(3942)),be=P(5861),mf=P(9681),Lw=P(4859),Nd=P(1877),tn=P(2090),_B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ic={},mA=mA||{},Nt=_B||self;function Vw(){}function _A(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function iv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yA="closure_uid_"+(1e9*Math.random()>>>0),vB=0;function bB(n,e,t){return n.call.apply(n.bind,arguments)}function EB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ni(n,e,t){return(Ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bB:EB).apply(null,arguments)}function Bw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Fd(){this.s=this.s,this.o=this.o}var CB={};Fd.prototype.s=!1,Fd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function yB(n){return Object.prototype.hasOwnProperty.call(n,yA)&&n[yA]||(n[yA]=++vB)}(this);delete CB[n]}},Fd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const RO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},kO=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function OO(n){return Array.prototype.concat.apply([],arguments)}function vA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Uw(n){return/^[\s\xa0]*$/.test(n)}var Ts,PO=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Is(n,e){return-1!=n.indexOf(e)}function bA(n,e){return n<e?-1:n>e?1:0}e:{var NO=Nt.navigator;if(NO){var FO=NO.userAgent;if(FO){Ts=FO;break e}}Ts=""}function EA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function LO(n){const e={};for(const t in n)e[t]=n[t];return e}var VO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<VO.length;a++)t=VO[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wA(n){return wA[" "](n),n}wA[" "]=Vw;var jw,n,TB=Is(Ts,"Opera"),Wg=Is(Ts,"Trident")||Is(Ts,"MSIE"),UO=Is(Ts,"Edge"),CA=UO||Wg,jO=Is(Ts,"Gecko")&&!(Is(Ts.toLowerCase(),"webkit")&&!Is(Ts,"Edge"))&&!(Is(Ts,"Trident")||Is(Ts,"MSIE"))&&!Is(Ts,"Edge"),SB=Is(Ts.toLowerCase(),"webkit")&&!Is(Ts,"Edge");function HO(){var n=Nt.document;return n?n.documentMode:void 0}e:{var DA="",IA=(n=Ts,jO?/rv:([^\);]+)(\)|;)/.exec(n):UO?/Edge\/([\d\.]+)/.exec(n):Wg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):SB?/WebKit\/(\S+)/.exec(n):TB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(IA&&(DA=IA?IA[1]:""),Wg){var TA=HO();if(null!=TA&&TA>parseFloat(DA)){jw=String(TA);break e}}jw=DA}var AB={};var xB=Nt.document&&Wg&&(HO()||parseInt(jw,10))||void 0,RB=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",Vw,e),Nt.removeEventListener("test",Vw,e)}catch(t){}return n}();function es(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function sv(n,e){if(es.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(jO){e:{try{wA(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:kB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sv.Z.h.call(this)}}es.prototype.h=function(){this.defaultPrevented=!0},Fi(sv,es);var kB={2:"touch",3:"pen",4:"mouse"};sv.prototype.h=function(){sv.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ov="closure_listenable_"+(1e6*Math.random()|0),OB=0;function PB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++OB,this.ca=this.fa=!1}function Hw(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function $w(n){this.src=n,this.g={},this.h=0}function AA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=RO(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Hw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function MA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}$w.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=MA(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new PB(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var xA="closure_lm_"+(1e6*Math.random()|0),RA={};function GO(n,e,t,r,i){if(r&&r.once)return qO(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)GO(n,e[a],t,r,i);return null}return t=NA(t),n&&n[ov]?n.N(e,t,iv(r)?!!r.capture:!!r,i):zO(n,e,t,!1,r,i)}function zO(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=iv(i)?!!i.capture:!!i,f=OA(n);if(f||(n[xA]=f=new $w(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function NB(){var e=FB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)RB||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(KO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qO(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)qO(n,e[a],t,r,i);return null}return t=NA(t),n&&n[ov]?n.O(e,t,iv(r)?!!r.capture:!!r,i):zO(n,e,t,!0,r,i)}function WO(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)WO(n,e[a],t,r,i);else r=iv(r)?!!r.capture:!!r,t=NA(t),n&&n[ov]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=MA(a=n.g[e],t,r,i))&&(Hw(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=OA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=MA(e,t,r,i)),(t=-1<n?e[n]:null)&&kA(t))}function kA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ov])AA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=OA(e))?(AA(t,n),0==t.h&&(t.src=null,e[xA]=null)):Hw(n)}}}function KO(n){return n in RA?RA[n]:RA[n]="on"+n}function FB(n,e){if(n.ca)n=!0;else{e=new sv(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&kA(n),n=t.call(r,e)}return n}function OA(n){return(n=n[xA])instanceof $w?n:null}var PA="__closure_events_fn_"+(1e9*Math.random()>>>0);function NA(n){return"function"==typeof n?n:(n[PA]||(n[PA]=function(e){return n.handleEvent(e)}),n[PA])}function fi(){Fd.call(this),this.i=new $w(this),this.P=this,this.I=null}function Li(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new es(e,n);else if(e instanceof es)e.target=e.target||n;else{var i=e;BO(e=new es(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Gw(c,r,!0,e)&&i}if(i=Gw(c=e.g=n,r,!0,e)&&i,i=Gw(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Gw(c=e.g=t[a],r,!1,e)&&i}function Gw(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,_=c.ia||c.src;c.fa&&AA(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Fi(fi,Fd),fi.prototype[ov]=!0,fi.prototype.removeEventListener=function(n,e,t,r){WO(this,n,e,t,r)},fi.prototype.M=function(){if(fi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Hw(t[r]);delete n.g[e],n.h--}}this.I=null},fi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var FA=Nt.JSON.stringify;function LB(){var n=YO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var VA,ZO=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new BB,n=>n.reset());class BB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function UB(n){Nt.setTimeout(()=>{throw n},0)}function LA(n,e){VA||function jB(){var n=Nt.Promise.resolve(void 0);VA=function(){n.then(HB)}}(),BA||(VA(),BA=!0),YO.add(n,e)}var BA=!1,YO=new class VB{constructor(){this.h=this.g=null}add(e,t){const r=ZO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function HB(){for(var n;n=LB();){try{n.h.call(n.g)}catch(t){UB(t)}var e=ZO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}BA=!1}function zw(n,e){fi.call(this),this.h=n||1,this.g=e||Nt,this.j=Ni(this.kb,this),this.l=Date.now()}function UA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function jA(n,e,t){if("function"==typeof n)t&&(n=Ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function QO(n){n.g=jA(()=>{n.g=null,n.i&&(n.i=!1,QO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fi(zw,fi),(nt=zw.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Li(this,"tick"),this.da&&(UA(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){zw.Z.M.call(this),UA(this),delete this.g};class $B extends Fd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QO(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function av(n){Fd.call(this),this.h=n,this.g={}}Fi(av,Fd);var XO=[];function JO(n,e,t,r){Array.isArray(t)||(t&&(XO[0]=t.toString()),t=XO);for(var i=0;i<t.length;i++){var a=GO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function eP(n){EA(n.g,function(e,t){this.g.hasOwnProperty(t)&&kA(e)},n),n.g={}}function qw(){this.g=!0}function Kg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function WB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return FA(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}av.prototype.M=function(){av.Z.M.call(this),eP(this)},av.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qw.prototype.Aa=function(){this.g=!1},qw.prototype.info=function(){};var _f={},tP=null;function Ww(){return tP=tP||new fi}function nP(n){es.call(this,_f.Ma,n)}function lv(n){const e=Ww();Li(e,new nP(e,n))}function rP(n,e){es.call(this,_f.STAT_EVENT,n),this.stat=e}function Ss(n){const e=Ww();Li(e,new rP(e,n))}function iP(n,e){es.call(this,_f.Na,n),this.size=e}function uv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}_f.Ma="serverreachability",Fi(nP,es),_f.STAT_EVENT="statevent",Fi(rP,es),_f.Na="timingevent",Fi(iP,es);var Kw={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function HA(){}function aP(){}HA.prototype.h=null;var zA,cv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $A(){es.call(this,"d")}function GA(){es.call(this,"c")}function Zw(){}function dv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new av(this),this.P=KB,this.W=new zw(n=CA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lP}function lP(){this.i=null,this.g="",this.h=!1}Fi($A,es),Fi(GA,es),Fi(Zw,HA),Zw.prototype.g=function(){return new XMLHttpRequest},Zw.prototype.i=function(){return{}},zA=new Zw;var KB=45e3,qA={},Yw={};function WA(n,e,t){n.K=1,n.v=tC(sc(e)),n.s=t,n.U=!0,uP(n,null)}function uP(n,e){n.F=Date.now(),hv(n),n.A=sc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),yP(t.h,"t",r),n.C=0,t=n.l.H,n.h=new lP,n.g=jP(n.l,t?e:null,!n.s),0<n.O&&(n.L=new $B(Ni(n.Ia,n,n.g),n.O)),JO(n.V,n.g,"readystatechange",n.gb),e=n.H?LO(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),lv(1),function GB(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var S=w[0];w=w[1];var x=S.split("_");c=2<=x.length&&"type"==x[1]?c+(S+"=")+w+"&":c+(S+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function cP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function dP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ZB(n,t),i==Yw){4==e&&(n.o=4,Ss(14),r=!1),Kg(n.j,n.m,null,"[Incomplete Response]");break}if(i==qA){n.o=4,Ss(15),Kg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kg(n.j,n.m,i,null),KA(n,i)}cP(n)&&i!=Yw&&i!=qA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ss(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),sM(e),e.L=!0,Ss(11))):(Kg(n.j,n.m,t,"[Invalid Chunked Response]"),yf(n),fv(n))}function ZB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Yw:(t=Number(e.substring(t,r)),isNaN(t)?qA:(r+=1)+t>e.length?Yw:(e=e.substr(r,t),n.C=r+t,e))}function hv(n){n.Y=Date.now()+n.P,hP(n,n.P)}function hP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=uv(Ni(n.eb,n),e)}function Qw(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function fv(n){0==n.l.G||n.I||LP(n.l,n)}function yf(n){Qw(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,UA(n.W),eP(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function KA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||QA(t.i,n)))if(t.I=n.N,!n.J&&QA(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=uv(Ni(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;aC(t),sC(t)}iM(t),Ss(18)}if(1>=EP(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else Ef(t,11)}else if((n.J||t.g==n)&&aC(t),!Uw(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const S=w[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const x=w[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const L=w[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const z=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var a=r.i;!a.g&&(Is(z,"spdy")||Is(z,"quic")||Is(z,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(XA(a,a.h),a.h=null))}if(r.D){const oe=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;oe&&(r.sa=oe,qn(r.F,r.D,oe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=UP(r,r.H?r.la:null,r.W),c.J){wP(r.i,c);var f=c,_=r.K;_&&f.setTimeout(_),f.B&&(Qw(f),hv(f)),r.g=c}else NP(r);0<t.l.length&&oC(t)}else"stop"!=w[0]&&"close"!=w[0]||Ef(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Ef(t,7):nM(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}lv(4)}catch(w){}}function ZA(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(_A(n)||"string"==typeof n)kO(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(_A(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function YB(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(_A(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function Zg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Zg)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function YA(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];vf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)vf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function vf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=dv.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==oc(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const S=oc(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>S)&&(3!=S||CA||this.g&&(this.h.h||this.g.ga()||xP(this.g)))){this.I||4!=S||7==e||lv(8==e||0>=x?3:2),Qw(this);var t=this.g.ba();this.N=t;t:if(cP(this)){var r=xP(this.g);n="";var i=r.length,a=4==oc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yf(this),fv(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function zB(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uw(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ss(12),yf(this),fv(this);break e}Kg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,KA(this,t)}this.U?(dP(this,S,c),CA&&this.i&&3==S&&(JO(this.V,this.W,"tick",this.fb),this.W.start())):(Kg(this.j,this.m,c,null),KA(this,c)),4==S&&yf(this),this.i&&!this.I&&(4==S?LP(this.l,this):(this.i=!1,hv(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ss(12)):(this.o=0,Ss(13)),yf(this),fv(this)}}}catch(S){}},nt.fb=function(){if(this.g){var n=oc(this.g),e=this.g.ga();this.C<e.length&&(Qw(this),dP(this,n,e),this.i&&4!=n&&hv(this))}},nt.cancel=function(){this.I=!0,yf(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(lv(3),Ss(17)),yf(this),this.o=2,fv(this)):hP(this,this.Y-n)},(nt=Zg.prototype).R=function(){YA(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return YA(this),this.g.concat()},nt.get=function(n,e){return vf(this.h,n)?this.h[n]:e},nt.set=function(n,e){vf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var fP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bf){this.g=void 0!==e?e:n.g,Xw(this,n.j),this.s=n.s,Jw(this,n.i),eC(this,n.m),this.l=n.l,e=n.h;var t=new mv;t.i=e.i,e.g&&(t.g=new Zg(e.g),t.h=e.h),pP(this,t),this.o=n.o}else n&&(t=String(n).match(fP))?(this.g=!!e,Xw(this,t[1]||"",!0),this.s=pv(t[2]||""),Jw(this,t[3]||"",!0),eC(this,t[4]),this.l=pv(t[5]||"",!0),pP(this,t[6]||"",!0),this.o=pv(t[7]||"")):(this.g=!!e,this.h=new mv(null,this.g))}function sc(n){return new bf(n)}function Xw(n,e,t){n.j=t?pv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Jw(n,e,t){n.i=t?pv(e,!0):e}function eC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pP(n,e,t){e instanceof mv?(n.h=e,function o2(n,e){e&&!n.j&&(Ld(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(mP(this,r),yP(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=gv(e,r2)),n.h=new mv(e,n.g))}function qn(n,e,t){n.h.set(e,t)}function tC(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,e2),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function e2(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(gv(e,gP,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(gv(e,gP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(gv(t,"/"==t.charAt(0)?n2:t2,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",gv(t,s2)),n.join("")};var gP=/[#\/\?@]/g,t2=/[#\?:]/g,n2=/[#\?]/g,r2=/[#\?@]/g,s2=/#/g;function mv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ld(n){n.g||(n.g=new Zg,n.h=0,n.i&&function QB(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mP(n,e){Ld(n),e=Yg(n,e),vf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&YA(n)))}function _P(n,e){return Ld(n),e=Yg(n,e),vf(n.g.h,e)}function yP(n,e,t){mP(n,e),0<t.length&&(n.i=null,n.g.set(Yg(n,e),vA(t)),n.h+=t.length)}function Yg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function vP(n){this.l=n||l2,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=mv.prototype).add=function(n,e){Ld(this),this.i=null,n=Yg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){Ld(this),this.g.forEach(function(t,r){kO(t,function(i){n.call(e,i,r,this)},this)},this)},nt.T=function(){Ld(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},nt.R=function(n){Ld(this);var e=[];if("string"==typeof n)_P(this,n)&&(e=OO(e,this.g.get(Yg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=OO(e,n[t])}return e},nt.set=function(n,e){return Ld(this),this.i=null,_P(this,n=Yg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var l2=10;function bP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EP(n){return n.h?1:n.g?n.g.size:0}function QA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function XA(n,e){n.g?n.g.add(e):n.h=e}function wP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function CP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vA(n.i)}function JA(){}function u2(){this.g=new JA}function c2(n,e,t){const r=t||"";try{ZA(n,function(i,a){let c=i;iv(i)&&(c=FA(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function nC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function _v(n){this.l=n.$b||null,this.j=n.ib||!1}function rC(n,e){fi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=eM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vP.prototype.cancel=function(){if(this.i=CP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},JA.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},JA.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},Fi(_v,HA),_v.prototype.g=function(){return new rC(this.l,this.j)},_v.prototype.i=function(n){return function(){return n}}({}),Fi(rC,fi);var eM=0;function DP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function yv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,vv(n)}function vv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=rC.prototype).open=function(n,e){if(this.readyState!=eM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,vv(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yv(this)),this.readyState=eM},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,vv(this)),this.g&&(this.readyState=3,vv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DP(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?yv(this):vv(this),3==this.readyState&&DP(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,yv(this))},nt.Ta=function(n){this.g&&(this.response=n,yv(this))},nt.ha=function(){this.g&&yv(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(rC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var h2=Nt.JSON.parse;function Or(n){fi.call(this),this.headers=new Zg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=IP,this.K=this.L=!1}Fi(Or,fi);var IP="",f2=/^https?$/i,p2=["POST","PUT"];function m2(n){return"content-type"==n.toLowerCase()}function TP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,SP(n),iC(n)}function SP(n){n.D||(n.D=!0,Li(n,"complete"),Li(n,"error"))}function AP(n){if(n.h&&void 0!==mA&&(!n.C[1]||4!=oc(n)||2!=n.ba()))if(n.v&&4==oc(n))jA(n.Fa,0,n);else if(Li(n,"readystatechange"),4==oc(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(fP)[1]||null;if(!i&&Nt.self&&Nt.self.location){var a=Nt.self.location.protocol;i=a.substr(0,a.length-1)}r=!f2.test(i?i.toLowerCase():"")}t=r}if(t)Li(n,"complete"),Li(n,"success");else{n.m=6;try{var c=2<oc(n)?n.g.statusText:""}catch(_){c=""}n.j=c+" ["+n.ba()+"]",SP(n)}}finally{iC(n)}}}function iC(n,e){if(n.g){MP(n);const t=n.g,r=n.C[0]?Vw:null;n.g=null,n.C=null,e||Li(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function MP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function oc(n){return n.g?n.g.readyState:0}function xP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case IP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function _2(n){let e="";return EA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function bv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function RP(n){this.za=0,this.l=[],this.h=new qw,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bv("baseRetryDelayMs",5e3,n),this.$a=bv("retryDelaySeedMs",1e4,n),this.Ya=bv("forwardChannelMaxRetries",2,n),this.ra=bv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new vP(n&&n.concurrentRequestLimit),this.Ca=new u2,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function nM(n){if(kP(n),3==n.G){var e=n.V++,t=sc(n.F);qn(t,"SID",n.J),qn(t,"RID",e),qn(t,"TYPE","terminate"),Ev(n,t),(e=new dv(n,n.h,e,void 0)).K=2,e.v=tC(sc(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(t=Nt.navigator.sendBeacon(e.v.toString(),"")),!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=jP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hv(e)}BP(n)}function sC(n){n.g&&(sM(n),n.g.cancel(),n.g=null)}function kP(n){sC(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),aC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function rM(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&oC(n)}function oC(n){bP(n.i)||n.m||(n.m=!0,LA(n.Ha,n),n.C=0)}function OP(n,e){var t;t=e?e.m:n.V++;const r=sc(n.F);qn(r,"SID",n.J),qn(r,"RID",t),qn(r,"AID",n.U),Ev(n,r),n.o&&n.s&&tM(r,n.o,n.s),t=new dv(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=PP(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),XA(n.i,t),WA(t,r,e)}function Ev(n,e){n.j&&ZA({},function(t,r){qn(e,r,t)})}function PP(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ni(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const S=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{c2(S,c,"req"+w+"_")}catch(x){r&&r(S)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function NP(n){n.g||n.u||(n.Y=1,LA(n.Ga,n),n.A=0)}function iM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=uv(Ni(n.Ga,n),VP(n,n.A)),n.A++,0))}function sM(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function FP(n){n.g=new dv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=sc(n.oa);qn(e,"RID","rpc"),qn(e,"SID",n.J),qn(e,"CI",n.N?"0":"1"),qn(e,"AID",n.U),Ev(n,e),qn(e,"TYPE","xmlhttp"),n.o&&n.s&&tM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=tC(sc(e)),t.s=null,t.U=!0,uP(t,n)}function aC(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function LP(n,e){var t=null;if(n.g==e){aC(n),sM(n),n.g=null;var r=2}else{if(!QA(n.i,e))return;t=e.D,wP(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Li(r=Ww(),new iP(r,t,e,i)),oC(n)}else NP(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function y2(n,e){return!(EP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=uv(Ni(n.Ha,n,e),VP(n,n.C)),n.C++,0)))}(n,e)||2==r&&iM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ef(n,5);break;case 4:Ef(n,10);break;case 3:Ef(n,6);break;default:Ef(n,2)}}function VP(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ef(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ni(n.jb,n);t||(t=new bf("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Xw(t,"https"),tC(t)),function d2(n,e){const t=new qw;if(Nt.Image){const r=new Image;r.onload=Bw(nC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bw(nC,t,r,"TestLoadImage: error",!1,e),r.onabort=Bw(nC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bw(nC,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ss(2);n.G=0,n.j&&n.j.va(e),BP(n),kP(n)}function BP(n){n.G=0,n.I=-1,n.j&&((0!=CP(n.i).length||0!=n.l.length)&&(n.i.i.length=0,vA(n.l),n.l.length=0),n.j.ua())}function UP(n,e,t){let r=function XB(n){return n instanceof bf?sc(n):new bf(n,void 0)}(t);if(""!=r.i)e&&Jw(r,e+"."+r.i),eC(r,r.m);else{const i=Nt.location;r=function JB(n,e,t,r){var i=new bf(null,void 0);return n&&Xw(i,n),e&&Jw(i,e),t&&eC(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&EA(n.aa,function(i,a){qn(r,a,i)}),t=n.sa,(e=n.D)&&t&&qn(r,e,t),qn(r,"VER",n.ma),Ev(n,r),r}function jP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Or(t&&n.Ba&&!n.qa?new _v({ib:!0}):n.qa)).L=n.H,e}function HP(){}function lC(){if(Wg&&!(10<=Number(xB)))throw Error("Environmental error: no available transport.")}function Oo(n,e){fi.call(this),this.g=new RP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Uw(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uw(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qg(this)}function $P(n){$A.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function GP(){GA.call(this),this.status=1}function Qg(n){this.g=n}(nt=Or.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zA.g(),this.C=function oP(n){return n.h||(n.h=n.i())}(this.u?this.u:zA),this.g.onreadystatechange=Ni(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void TP(this,a)}n=t||"";const i=new Zg(this.headers);r&&ZA(r,function(a,c){i.set(c,a)}),r=function DB(n){e:{var e=m2;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Nt.FormData&&n instanceof Nt.FormData,!(0<=RO(p2,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{MP(this),0<this.B&&((this.K=function g2(n){return Wg&&function MB(){return function IB(n){var e=AB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=PO(String(jw)).split("."),t=PO("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=bA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||bA(0==i[2].length,0==a[2].length)||bA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ni(this.pa,this)):this.A=jA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){TP(this,a)}},nt.pa=function(){void 0!==mA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Li(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Li(this,"complete"),Li(this,"abort"),iC(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iC(this,!0)),Or.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?AP(this):this.cb())},nt.cb=function(){AP(this)},nt.ba=function(){try{return 2<oc(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),h2(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=RP.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new dv(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=LO(a),BO(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=PP(this,i,e),qn(t=sc(this.F),"RID",n),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),Ev(this,t),this.o&&a&&tM(t,this.o,a),XA(this.i,i),this.Ra&&qn(t,"TYPE","init"),this.ja?(qn(t,"$req",e),qn(t,"SID","null"),i.$=!0,WA(i,t,null)):WA(i,t,e),this.G=2}}else 3==this.G&&(n?OP(this,n):0==this.l.length||bP(this.i)||OP(this))},nt.Ga=function(){if(this.u=null,FP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=uv(Ni(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ss(10),sC(this),FP(this))},nt.ab=function(){null!=this.v&&(this.v=null,sC(this),iM(this),Ss(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ss(2)):(this.h.info("Failed to ping google.com"),Ss(1))},(nt=HP.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},lC.prototype.g=function(n,e){return new Oo(n,e)},Fi(Oo,fi),Oo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),LA(Ni(n.hb,n,e))),Ss(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=UP(n,null,n.W),oC(n)},Oo.prototype.close=function(){nM(this.g)},Oo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,rM(this.g,e)}else this.v?((e={}).__data__=FA(n),rM(this.g,e)):rM(this.g,n)},Oo.prototype.M=function(){this.g.j=null,delete this.j,nM(this.g),delete this.g,Oo.Z.M.call(this)},Fi($P,$A),Fi(GP,GA),Fi(Qg,HP),Qg.prototype.xa=function(){Li(this.g,"a")},Qg.prototype.wa=function(n){Li(this.g,new $P(n))},Qg.prototype.va=function(n){Li(this.g,new GP(n))},Qg.prototype.ua=function(){Li(this.g,"b")},lC.prototype.createWebChannel=lC.prototype.g,Oo.prototype.send=Oo.prototype.u,Oo.prototype.open=Oo.prototype.m,Oo.prototype.close=Oo.prototype.close,Kw.NO_ERROR=0,Kw.TIMEOUT=8,Kw.HTTP_ERROR=6,sP.COMPLETE="complete",aP.EventType=cv,cv.OPEN="a",cv.CLOSE="b",cv.ERROR="c",cv.MESSAGE="d",fi.prototype.listen=fi.prototype.N,Or.prototype.listenOnce=Or.prototype.O,Or.prototype.getLastError=Or.prototype.La,Or.prototype.getLastErrorCode=Or.prototype.Da,Or.prototype.getStatus=Or.prototype.ba,Or.prototype.getResponseJson=Or.prototype.Qa,Or.prototype.getResponseText=Or.prototype.ga,Or.prototype.send=Or.prototype.ea;var v2=ic.createWebChannelTransport=function(){return new lC},b2=ic.getStatEventTarget=function(){return Ww()},oM=ic.ErrorCode=Kw,E2=ic.EventType=sP,w2=ic.Event=_f,zP=ic.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},C2=ic.FetchXmlHttpFactory=_v,uC=ic.WebChannel=aP,D2=ic.XhrIo=Or;const qP="@firebase/firestore";class Vi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");let Xg="9.6.11";const Vd=new Nd.Yd("@firebase/firestore");function aM(){return Vd.logLevel}function Le(n,...e){if(Vd.logLevel<=Nd.in.DEBUG){const t=e.map(lM);Vd.debug(`Firestore (${Xg}): ${n}`,...t)}}function Pr(n,...e){if(Vd.logLevel<=Nd.in.ERROR){const t=e.map(lM);Vd.error(`Firestore (${Xg}): ${n}`,...t)}}function wv(n,...e){if(Vd.logLevel<=Nd.in.WARN){const t=e.map(lM);Vd.warn(`Firestore (${Xg}): ${n}`,...t)}}function lM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Xg}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function xt(n,e){n||st()}function Ke(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends tn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class WP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vi.UNAUTHENTICATED))}shutdown(){}}class A2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class M2{constructor(e){this.t=e,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let c=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=c;e.enqueueRetryable((0,be.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new WP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Vi(e)}}class x2{constructor(e,t,r){this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class R2{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new x2(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k2{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new KP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Po{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function O2(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Po.A=-1;class ZP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=O2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function Jg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function YP(n){return n+"\0"}class Cr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cr.fromMillis(Date.now())}static fromDate(e){return Cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Cr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Cr(0,0))}static max(){return new Tt(new Cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function QP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Cv{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Cv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends Cv{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const P2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends Cv{construct(e,t,r){return new gi(e,t,r)}static isValidIdentifier(e){return P2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new xe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new xe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new xe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new xe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(t)}static emptyPath(){return new gi([])}}class em{constructor(e){this.fields=e,e.sort(gi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bd(n){if(xt(!!n),"string"==typeof n){let e=0;const t=F2.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dr(n.seconds),nanos:dr(n.nanos)}}function dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Cf(n){return"string"==typeof n?Xr.fromBase64String(n):Xr.fromUint8Array(n)}function uM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function JP(n){const e=n.mapValue.fields.__previous_value__;return uM(e)?JP(e):e}function Dv(n){const e=Bd(n.mapValue.fields.__local_write_time__.timestampValue);return new Cr(e.seconds,e.nanos)}class L2{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class ac{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}function Df(n){return null==n}function Iv(n){return 0===n&&1/n==-1/0}function eN(n){return"number"==typeof n&&Number.isInteger(n)&&!Iv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(cn.fromString(e))}static fromName(e){return new Ge(cn.fromString(e).popFirst(5))}static empty(){return new Ge(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new cn(e.slice()))}}const tN={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nN={nullValue:"NULL_VALUE"};function If(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uM(n)?4:oN(n)?9:10:st()}function ql(n,e){if(n===e)return!0;const t=If(n);if(t!==If(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dv(n).isEqual(Dv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Bd(r.timestampValue),c=Bd(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Cf(n.bytesValue).isEqual(Cf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return dr(r.geoPointValue.latitude)===dr(i.geoPointValue.latitude)&&dr(r.geoPointValue.longitude)===dr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dr(r.integerValue)===dr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=dr(r.doubleValue),c=dr(i.doubleValue);return a===c?Iv(a)===Iv(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Jg(n.arrayValue.values||[],e.arrayValue.values||[],ql);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(QP(a)!==QP(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!ql(a[f],c[f])))return!1;return!0}(n,e);default:return st()}var i}function Tv(n,e){return void 0!==(n.values||[]).find(t=>ql(t,e))}function Ud(n,e){if(n===e)return 0;const t=If(n),r=If(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=dr(i.integerValue||i.doubleValue),f=dr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return rN(n.timestampValue,e.timestampValue);case 4:return rN(Dv(n),Dv(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Cf(i),f=Cf(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const w=Ht(c[_],f[_]);if(0!==w)return w}return Ht(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Ht(dr(i.latitude),dr(a.latitude));return 0!==c?c:Ht(dr(i.longitude),dr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const w=Ud(c[_],f[_]);if(w)return w}return Ht(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const c=i.fields||{},f=Object.keys(c),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let S=0;S<f.length&&S<w.length;++S){const x=Ht(f[S],w[S]);if(0!==x)return x;const L=Ud(c[f[S]],_[w[S]]);if(0!==L)return L}return Ht(f.length,w.length)}(n.mapValue,e.mapValue);default:throw st()}}function rN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=Bd(n),r=Bd(e),i=Ht(t.seconds,r.seconds);return 0!==i?i:Ht(t.nanos,r.nanos)}function tm(n){return cM(n)}function cM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Bd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Cf(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=cM(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${cM(r.fields[f])}`;return a+"}"}(n.mapValue):st();var e}function Tf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dM(n){return!!n&&"integerValue"in n}function Sv(n){return!!n&&"arrayValue"in n}function iN(n){return!!n&&"nullValue"in n}function sN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cC(n){return!!n&&"mapValue"in n}function Av(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Av(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Av(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function V2(n){return"nullValue"in n?nN:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Tf(ac.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function B2(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Tf(ac.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?tN:st()}function aN(n,e){return void 0===n?e:void 0===e||Ud(n,e)>0?n:e}function lN(n,e){return void 0===n?e:void 0===e||Ud(n,e)<0?n:e}class ts{constructor(e){this.value=e}static empty(){return new ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Av(t)}setAll(e){let t=gi.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Av(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());cC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ql(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ts(Av(this.value))}}function uN(n){const e=[];return wf(n.fields,(t,r)=>{const i=new gi([t]);if(cC(r)){const a=uN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new em(e)}class Un{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Un(e,0,Tt.min(),Tt.min(),ts.empty(),0)}static newFoundDocument(e,t,r){return new Un(e,1,t,Tt.min(),r,0)}static newNoDocument(e,t){return new Un(e,2,t,Tt.min(),ts.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,Tt.min(),ts.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function hM(n){return n.fields.find(e=>2===e.kind)}function Sf(n){return n.fields.filter(e=>2!==e.kind)}dC.UNKNOWN_ID=-1;class hC{constructor(e,t){this.fieldPath=e,this.kind=t}}class Mv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Mv(0,lc.min())}}function cN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(1e9===r?new Cr(t+1,0):new Cr(t,r));return new lc(i,Ge.empty(),e)}function U2(n){return new lc(n.readTime,n.key,-1)}class lc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new lc(Tt.min(),Ge.empty(),-1)}static max(){return new lc(Tt.max(),Ge.empty(),-1)}}function j2(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}class H2{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.P=null}}function dN(n,e=null,t=[],r=[],i=null,a=null,c=null){return new H2(n,e,t,r,i,a,c)}function Af(n){const e=Ke(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+tm(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>tm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>tm(r)).join(",")),e.P=t}return e.P}function xv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Q2(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ql(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mN(n.startAt,e.startAt)&&mN(n.endAt,e.endAt)}function fC(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function pC(n,e){return n.filters.filter(t=>t instanceof Bi&&t.field.isEqual(e))}function hN(n,e,t){let r,i=!0;for(const a of pC(n,e)){let c,f=!0;switch(a.op){case"<":case"<=":c=V2(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=nN}aN(r,c)===c&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];aN(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function fN(n,e,t){let r,i=!0;for(const a of pC(n,e)){let c,f=!0;switch(a.op){case">=":case">":c=B2(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=tN}lN(r,c)===c&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];lN(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Bi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new G2(e,t,r):"array-contains"===t?new W2(e,r):"in"===t?new K2(e,r):"not-in"===t?new Z2(e,r):"array-contains-any"===t?new Y2(e,r):new Bi(e,t,r)}static V(e,t,r){return"in"===t?new z2(e,r):new q2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ud(t,this.value)):null!==t&&If(this.value)===If(t)&&this.v(Ud(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class G2 extends Bi{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.v(t)}}class z2 extends Bi{constructor(e,t){super(e,"in",t),this.keys=pN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class q2 extends Bi{constructor(e,t){super(e,"not-in",t),this.keys=pN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class W2 extends Bi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sv(t)&&Tv(t.arrayValue,this.value)}}class K2 extends Bi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Tv(this.value.arrayValue,t)}}class Z2 extends Bi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Tv(this.value.arrayValue,t)}}class Y2 extends Bi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tv(this.value.arrayValue,r))}}class jd{constructor(e,t){this.position=e,this.inclusive=t}}class nm{constructor(e,t="asc"){this.field=e,this.dir=t}}function Q2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function gN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):Ud(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function mN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ql(n.position[t],e.position[t]))return!1;return!0}class uc{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function _N(n,e,t,r,i,a,c,f){return new uc(n,e,t,r,i,a,c,f)}function rm(n){return new uc(n)}function gC(n){return!Df(n.limit)&&"F"===n.limitType}function mC(n){return!Df(n.limit)&&"L"===n.limitType}function fM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pM(n){for(const e of n.filters)if(e.S())return e.field;return null}function gM(n){return null!==n.collectionGroup}function im(n){const e=Ke(n);if(null===e.D){e.D=[];const t=pM(e),r=fM(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new nm(t)),e.D.push(new nm(gi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new nm(gi.keyField(),a))}}}return e.D}function oa(n){const e=Ke(n);if(!e.C)if("F"===e.limitType)e.C=dN(e.path,e.collectionGroup,im(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of im(e))t.push(new nm(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new jd(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new jd(e.startAt.position,!e.startAt.inclusive):null;e.C=dN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function yN(n,e,t){return new uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rv(n,e){return xv(oa(n),oa(e))&&n.limitType===e.limitType}function vN(n){return`${Af(oa(n))}|lt:${n.limitType}`}function mM(n){return`Query(target=${function $2(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${tm(r.value)}`;var r}).join(", ")}]`),Df(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>tm(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>tm(t)).join(",")),`Target(${e})`}(oa(n))}; limitType=${n.limitType})`}function _M(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=gN(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,im(t),r)||t.endAt&&!function(i,a,c){const f=gN(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,im(t),r)));var t,r}function bN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EN(n){return(e,t)=>{let r=!1;for(const i of im(n)){const a=X2(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function X2(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?Ud(f,_):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function wN(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iv(e)?"-0":e}}function CN(n){return{integerValue:""+n}}function DN(n,e){return eN(e)?CN(e):wN(n,e)}class _C{constructor(){this._=void 0}}function J2(n,e,t){return n instanceof sm?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Mf?TN(n,e):n instanceof xf?SN(n,e):function(r,i){const a=IN(r,i),c=AN(a)+AN(r.k);return dM(a)&&dM(r.k)?CN(c):wN(r.M,c)}(n,e)}function eU(n,e,t){return n instanceof Mf?TN(n,e):n instanceof xf?SN(n,e):t}function IN(n,e){return n instanceof om?dM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class sm extends _C{}class Mf extends _C{constructor(e){super(),this.elements=e}}function TN(n,e){const t=MN(e);for(const r of n.elements)t.some(i=>ql(i,r))||t.push(r);return{arrayValue:{values:t}}}class xf extends _C{constructor(e){super(),this.elements=e}}function SN(n,e){let t=MN(e);for(const r of n.elements)t=t.filter(i=>!ql(i,r));return{arrayValue:{values:t}}}class om extends _C{constructor(e,t){super(),this.M=e,this.k=t}}function AN(n){return dr(n.integerValue||n.doubleValue)}function MN(n){return Sv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kv{constructor(e,t){this.field=e,this.transform=t}}class nU{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class vC{}function rU(n,e,t){n instanceof Ov?function(r,i,a){const c=r.value.clone(),f=ON(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Rf?function(r,i,a){if(!yC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=ON(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(kN(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yM(n,e,t){var i;n instanceof Ov?function(r,i,a){if(!yC(r.precondition,i))return;const c=r.value.clone(),f=PN(r.fieldTransforms,a,i);c.setAll(f),i.convertToFoundDocument(RN(i),c).setHasLocalMutations()}(n,e,t):n instanceof Rf?function(r,i,a){if(!yC(r.precondition,i))return;const c=PN(r.fieldTransforms,a,i),f=i.data;f.setAll(kN(r)),f.setAll(c),i.convertToFoundDocument(RN(i),f).setHasLocalMutations()}(n,e,t):yC(n.precondition,i=e)&&i.convertToNoDocument(Tt.min())}function iU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=IN(r.transform,i||null);null!=a&&(null==t&&(t=ts.empty()),t.set(r.field,a))}return t||null}function xN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Jg(t,r,(i,a)=>function tU(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Mf&&r instanceof Mf||t instanceof xf&&r instanceof xf?Jg(t.elements,r.elements,ql):t instanceof om&&r instanceof om?ql(t.k,r.k):t instanceof sm&&r instanceof sm);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function RN(n){return n.isFoundDocument()?n.version:Tt.min()}class Ov extends vC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Rf extends vC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function kN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ON(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,eU(c,f,t[i]))}return r}function PN(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,J2(a,c,e))}return r}class Pv extends vC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class vM extends vC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class sU{constructor(e){this.count=e}}var Fr,dn;function NN(n){switch(n){default:return st();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function FN(n){if(void 0===n)return Pr("GRPC error has no .code"),he.UNKNOWN;switch(n){case Fr.OK:return he.OK;case Fr.CANCELLED:return he.CANCELLED;case Fr.UNKNOWN:return he.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return he.INTERNAL;case Fr.UNAVAILABLE:return he.UNAVAILABLE;case Fr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Fr.NOT_FOUND:return he.NOT_FOUND;case Fr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Fr.ABORTED:return he.ABORTED;case Fr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Fr.DATA_LOSS:return he.DATA_LOSS;default:return st()}}(dn=Fr||(Fr={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class Hd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return XP(this.inner)}size(){return this.innerSize}}class Dr{constructor(e,t){this.comparator=e,this.root=t||Ui.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bC(this.root,e,this.comparator,!1)}getReverseIterator(){return new bC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bC(this.root,e,this.comparator,!0)}}class bC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Ui.RED,this.left=null!=i?i:Ui.EMPTY,this.right=null!=a?a:Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ui(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ui(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LN(this.data.getIterator())}getIteratorFrom(e){return new LN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class LN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function am(n){return n.hasNext()?n.getNext():void 0}const oU=new Dr(Ge.comparator);function aa(){return oU}const aU=new Dr(Ge.comparator);function bM(){return aU}function Nv(){return new Hd(n=>n.toString(),(n,e)=>n.isEqual(e))}const lU=new Dr(Ge.comparator),uU=new jn(Ge.comparator);function En(...n){let e=uU;for(const t of n)e=e.add(t);return e}const cU=new jn(Ht);function EC(){return cU}class Fv{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Lv.createSynthesizedTargetChangeForCurrentChange(e,t)),new Fv(Tt.min(),r,EC(),aa(),En())}}class Lv{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Lv(Xr.EMPTY_BYTE_STRING,t,En(),En(),En())}}class wC{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class VN{constructor(e,t){this.targetId=e,this.$=t}}class BN{constructor(e,t,r=Xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class UN{constructor(){this.B=0,this.L=HN(),this.U=Xr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=En(),t=En(),r=En();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new Lv(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=HN()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class dU{constructor(e){this.nt=e,this.st=new Map,this.it=aa(),this.rt=jN(),this.ot=new jn(Ht)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(fC(a))if(0===r){const c=new Ge(a.path);this.ct(t,c,Un.newNoDocument(c,Tt.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,c)=>{const f=this.wt(c);if(f){if(a.current&&fC(f.target)){const _=new Ge(f.target.path);null!==this.it.get(_)||this.It(c,_)||this.ct(c,_,Un.newNoDocument(_,e))}a.j&&(t.set(c,a.H()),a.J())}});let r=En();this.rt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,c)=>c.setReadTime(e));const i=new Fv(e,t,this.ot,this.it,r);return this.it=aa(),this.rt=jN(),this.ot=new jn(Ht),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new UN,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new jn(Ht),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new UN),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function jN(){return new Dr(Ge.comparator)}function HN(){return new Dr(Ge.comparator)}const hU={asc:"ASCENDING",desc:"DESCENDING"},fU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pU{constructor(e,t){this.databaseId=e,this.N=t}}function Vv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $N(n,e){return n.N?e.toBase64():e.toUint8Array()}function gU(n,e){return Vv(n,e.toTimestamp())}function mi(n){return xt(!!n),Tt.fromTimestamp(function(e){const t=Bd(e);return new Cr(t.seconds,t.nanos)}(n))}function EM(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function GN(n){const e=cn.fromString(n);return xt(JN(e)),e}function Bv(n,e){return EM(n.databaseId,e.path)}function Wl(n,e){const t=GN(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(qN(t))}function wM(n,e){return EM(n.databaseId,e)}function zN(n){const e=GN(n);return 4===e.length?cn.emptyPath():qN(e)}function Uv(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qN(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function WN(n,e,t){return{name:Bv(n,e),fields:t.value.mapValue.fields}}function KN(n,e,t){const r=Wl(n,e.name),i=mi(e.updateTime),a=new ts({mapValue:{fields:e.fields}}),c=Un.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function jv(n,e){let t;if(e instanceof Ov)t={update:WN(n,e.key,e.value)};else if(e instanceof Pv)t={delete:Bv(n,e.key)};else if(e instanceof Rf)t={update:WN(n,e.key,e.data),updateMask:DU(e.fieldMask)};else{if(!(e instanceof vM))return st();t={verify:Bv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof sm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof om)return{fieldPath:a.field.canonicalString(),increment:c.k};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:gU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function CM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Nr.updateTime(mi(i.updateTime)):void 0!==i.exists?Nr.exists(i.exists):Nr.none():Nr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),f=new sm):"appendMissingElements"in c?f=new Mf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new xf(c.removeAllFromArray.values||[]):"increment"in c?f=new om(a,c.increment):st();const _=gi.fromServerFormat(c.fieldPath);return new kv(_,f)}(n,i)):[];var i;if(e.update){const i=Wl(n,e.update.name),a=new ts({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new em((e.updateMask.fieldPaths||[]).map(w=>gi.fromServerFormat(w)));return new Rf(i,a,c,t,r)}return new Ov(i,a,t,r)}if(e.delete){const i=Wl(n,e.delete);return new Pv(i,t)}if(e.verify){const i=Wl(n,e.verify);return new vM(i,t)}return st()}function ZN(n,e){return{documents:[wM(n,e.path)]}}function YN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(S=>function(x){if("=="===x.op){if(sN(x.value))return{unaryFilter:{field:lm(x.field),op:"IS_NAN"}};if(iN(x.value))return{unaryFilter:{field:lm(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(sN(x.value))return{unaryFilter:{field:lm(x.field),op:"IS_NOT_NAN"}};if(iN(x.value))return{unaryFilter:{field:lm(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lm(x.field),op:EU(x.op),value:x.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:lm((S=w).field),direction:bU(S.dir)};var S})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(w=e.limit,n.N||Df(w)?w:{value:w});var w,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function QN(n){let e=zN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let a=[];t.where&&(a=XN(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new nm(um((x=S).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(S){let x;return x="object"==typeof S?S.value:S,Df(x)?null:x}(t.limit));let _=null;var S;t.startAt&&(_=new jd((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new jd(S.values||[],!S.before)}(t.endAt)),_N(e,i,c,a,f,"F",_,w)}function XN(n){return n?void 0!==n.unaryFilter?[CU(n)]:void 0!==n.fieldFilter?[wU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>XN(e)).reduce((e,t)=>e.concat(t)):st():[]}function bU(n){return hU[n]}function EU(n){return fU[n]}function lm(n){return{fieldPath:n.canonicalString()}}function um(n){return gi.fromServerFormat(n.fieldPath)}function wU(n){return Bi.create(um(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function CU(n){switch(n.unaryFilter.op){case"IS_NAN":const e=um(n.unaryFilter.field);return Bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=um(n.unaryFilter.field);return Bi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=um(n.unaryFilter.field);return Bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=um(n.unaryFilter.field);return Bi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function DU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function As(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eF(e)),e=IU(n.get(t),e);return eF(e)}function IU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function eF(n){return n+"\x01\x01"}function Kl(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&st(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:st()}a=c+2}return new cn(r)}const tF=["userId","batchId"];function CC(n,e){return[n,As(e)]}function nF(n,e,t){return[n,As(e),t]}const TU={},SU=["prefixPath","collectionGroup","readTime","documentId"],AU=["prefixPath","collectionGroup","documentId"],MU=["collectionGroup","readTime","prefixPath","documentId"],xU=["canonicalId","targetId"],RU=["targetId","path"],kU=["path","targetId"],OU=["collectionId","parent"],PU=["indexId","uid"],NU=["uid","sequenceNumber"],FU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LU=["indexId","uid","orderedDocumentKey"],VU=["userId","collectionPath","documentId"],BU=["userId","collectionPath","largestBatchId"],UU=["userId","collectionGroup","largestBatchId"],rF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jU=[...rF,"documentOverlays"],iF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],HU=[...iF,"indexConfiguration","indexState","indexEntries"],sF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(i=>i?ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class DC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new pi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Hv(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=DM(r.target.error);this.At.reject(new Hv(e,i))}}static open(e,t,r,i){try{return new DC(t,e.transaction(i,r))}catch(a){throw new Hv(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new GU(t)}}class Ga{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Ga.Vt((0,tn.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Of(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,tn.hl)())return!1;if(Ga.St())return!0;const e=(0,tn.z$)(),t=Ga.Vt(e),r=0<t&&t<10,i=Ga.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,be.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Hv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new xe(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new xe(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Hv(e,f))},a.onupgradeneeded=c=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,be.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=DC.open(a.db,e,c?"readonly":"readwrite",r),w=i(_).next(S=>(_.Pt(),S)).catch(S=>(_.abort(S),ge.reject(S))).toPromise();return w.catch(()=>{}),yield _.Rt,w}catch(_){const w="FirebaseError"!==_.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),a.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $U{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Of(this.Ft.delete())}}class Hv extends xe{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function kf(n){return"IndexedDbTransactionError"===n.name}class GU{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Of(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Of(this.store.add(e))}get(e){return Of(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Of(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Of(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ge((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ge((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,c,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new ge((r,i)=>{t.onerror=a=>{const c=DM(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new ge((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new $U(f),w=t(f.primaryKey,f.value,_);if(w instanceof ge){const S=w.catch(x=>(_.done(),ge.reject(x)));r.push(S)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Of(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=DM(r.target.error);t(i)}})}let aF=!1;function DM(n){const e=Ga.Vt((0,tn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aF||(aF=!0,setTimeout(()=>{throw r},0)),r}}return n}class lF extends oF{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function _i(n,e){const t=Ke(n);return Ga.xt(t.Ht,e)}class IM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&rU(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&yM(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&yM(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Tt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&Jg(this.mutations,e.mutations,(t,r)=>xN(t,r))&&Jg(this.baseMutations,e.baseMutations,(t,r)=>xN(t,r))}}class TM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=lU;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new TM(e,t,r,i)}}class SM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $d{constructor(e,t,r,i,a=Tt.min(),c=Tt.min(),f=Xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new $d(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $d(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class uF{constructor(e){this.Jt=e}}function cF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:IC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Bv(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Vv(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Pf(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:Pf(e.version)}}var i,a;return r}function IC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Pf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nf(n){const e=new Cr(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function cm(n,e){const t=(e.baseMutations||[]).map(a=>CM(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>CM(n.Jt,a)),i=Cr.fromMillis(e.localWriteTimeMs);return new IM(e.batchId,i,t,r)}function $v(n){const e=Nf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nf(n.lastLimboFreeSnapshotVersion):Tt.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=oa(rm(zN(i.documents[0])))):r=oa(QN(n.query)),new $d(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Xr.fromBase64String(n.resumeToken))}function dF(n,e){const t=Pf(e.snapshotVersion),r=Pf(e.lastLimboFreeSnapshotVersion);let i;i=fC(e.target)?ZN(n.Jt,e.target):YN(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Af(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function AM(n){const e=QN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?yN(e,e.limit,"L"):e}function MM(n,e){return new SM(e.largestBatchId,CM(n.Jt,e.overlayMutation))}function hF(n,e){const t=e.path.lastSegment();return[n,As(e.path.popLast()),t]}class qU{getBundleMetadata(e,t){return fF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Nf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return fF(e).put({bundleId:(r=t).id,createTime:Pf(mi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return pF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:AM(i.bundledQuery),readTime:Nf(i.readTime)};var i})}saveNamedQuery(e,t){return pF(e).put({name:(r=t).name,readTime:Pf(mi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function fF(n){return _i(n,"bundles")}function pF(n){return _i(n,"namedQueries")}class xM{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new xM(e,t.uid||"")}getOverlay(e,t){return Gv(e).get(hF(this.userId,t)).next(r=>r?MM(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new SM(t,c);i.push(this.Xt(e,f))}),ge.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(As(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Gv(e).Qt("collectionPathOverlayIndex",f))}),ge.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Nv(),a=As(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Gv(e).qt("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const w=MM(this.M,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Nv();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gv(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,w,S)=>{const x=MM(this.M,w);a.size()<i||x.largestBatchId===c?(a.set(x.getKey(),x),c=x.largestBatchId):S.done()}).next(()=>a)}Xt(e,t){return Gv(e).put(function(r,i,a){const[c,f,_]=hF(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:jv(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Gv(n){return _i(n,"documentOverlays")}class Ff{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(dr(e.integerValue));else if("doubleValue"in e){const r=dr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Iv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Cf(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?oN(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):st()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ge.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function WU(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function gF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=WU(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Ff.fe=new Ff;class KU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=gF(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=gF(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ZU{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class YU{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class zv{constructor(){this.De=new KU,this.Ce=new ZU(this.De),this.xe=new YU(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Gd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gd(this.indexId,this.documentKey,this.arrayValue,r)}}function Lf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=mF(n.arrayValue,e.arrayValue),0!==t?t:(t=mF(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function mF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class QU{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=hM(e);if(void 0!==t&&!this.Be(t))return!1;const r=Sf(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class XU{constructor(){this.qe=new RM}addToCollectionParentIndex(e,t){return this.qe.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getFieldIndex(e,t){return ge.resolve(null)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class RM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new jn(cn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jn(cn.comparator)).toArray()}}const dm=new Uint8Array(0);class JU{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new RM,this.Ge=new Hd(r=>Af(r),(r,i)=>xv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:As(i)};return _F(e).put(a)}return ge.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[YP(t),""],!1,!0);return _F(e).qt(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Kl(c.parent))}return r})}addFieldIndex(e,t){const r=TC(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=TC(e),i=SC(e),a=qv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=qv(e);let i=!0;const a=new Map;return ge.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=En();const f=[];return ge.forEach(a,(_,w)=>{var S;Le("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Et=>`${Et.fieldPath}:${Et.kind}`).join(",")}`} to execute ${Af(t)}`);const x=function(Et,at){const Ft=hM(at);if(void 0===Ft)return null;for(const $t of pC(Et,Ft.fieldPath))switch($t.op){case"array-contains-any":return $t.value.arrayValue.values||[];case"array-contains":return[$t.value]}return null}(w,_),L=function(Et,at){const Ft=new Map;for(const $t of Sf(at))for(const _n of pC(Et,$t.fieldPath))switch(_n.op){case"==":case"in":Ft.set($t.fieldPath.canonicalString(),_n.value);break;case"not-in":case"!=":return Ft.set($t.fieldPath.canonicalString(),_n.value),Array.from(Ft.values())}return null}(w,_),U=function(Et,at){const Ft=[];let $t=!0;for(const _n of Sf(at)){const Hi=0===_n.kind?hN(Et,_n.fieldPath,Et.startAt):fN(Et,_n.fieldPath,Et.startAt);if(!Hi.value)return null;Ft.push(Hi.value),$t&&($t=Hi.inclusive)}return new jd(Ft,$t)}(w,_),z=function(Et,at){const Ft=[];let $t=!0;for(const _n of Sf(at)){const Hi=0===_n.kind?fN(Et,_n.fieldPath,Et.endAt):hN(Et,_n.fieldPath,Et.endAt);if(!Hi.value)return null;Ft.push(Hi.value),$t&&($t=Hi.inclusive)}return new jd(Ft,$t)}(w,_),oe=this.je(_,w,U),ke=this.je(_,w,z),dt=this.We(_,w,L),mt=this.ze(_.indexId,x,oe,!!U&&U.inclusive,ke,!!z&&z.inclusive,dt);return ge.forEach(mt,Et=>r.Gt(Et,t.limit).next(at=>{at.forEach(Ft=>{const $t=Ge.fromSegments(Ft.documentKey);c.has($t)||(c=c.add($t),f.push($t))})}))}).next(()=>f)}return ge.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),w=_/(null!=t?t.length:1),S=[];for(let x=0;x<_;++x){const L=t?this.He(t[x/w]):dm,U=r?this.Je(e,L,r[x%w],i):this.Ye(e),z=a?this.Xe(e,L,a[x%w],c):this.Ye(e+1);S.push(...this.createRange(U,z,f.map(oe=>this.Je(e,L,oe,!0))))}return S}Je(e,t,r,i){const a=new Gd(e,Ge.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Gd(e,Ge.empty(),t,r);return i?a.ke():a}Ye(e){return new Gd(e,Ge.empty(),dm,dm)}getFieldIndex(e,t){const r=new QU(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const c=a.filter(f=>r.$e(f));return c.sort((f,_)=>_.fields.length-f.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new zv;for(const i of Sf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ne(i.kind);Ff.fe.Zt(a,c)}return r.Se()}He(e){const t=new zv;return Ff.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new zv;return Ff.fe.Zt(Tf(this.databaseId,t),r.Ne(function(i){const a=Sf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new zv);let a=0;for(const c of Sf(e)){const f=r[a++];for(const _ of i)if(this.en(t,c.fieldPath)&&Sv(f))i=this.nn(i,c,f);else{const w=_.Ne(c.kind);Ff.fe.Zt(f,w)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new zv;_.seed(f.Se()),Ff.fe.Zt(c,_.Ne(t.kind)),a.push(_)}return a}en(e,t){return!!e.filters.find(r=>r instanceof Bi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=TC(e),i=SC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const c=[];return ge.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(w,S){const x=S?new Mv(S.sequenceNumber,new lc(Nf(S.readTime),new Ge(Kl(S.documentKey)),S.largestBatchId)):Mv.empty(),L=w.fields.map(([U,z])=>new hC(gi.fromServerFormat(U),z));return new dC(w.indexId,w.collectionGroup,L,x)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Ht(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=TC(e),a=SC(e);return this.rn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ge.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Pf((L=r).readTime),documentKey:As(L.documentKey.path),largestBatchId:L.largestBatchId});var L})))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ge.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ge.forEach(f,_=>this.on(e,i,_).next(w=>{const S=this.un(a,_);return w.isEqual(S)?ge.resolve():this.an(e,a,_,w,S)}))))})}cn(e,t,r,i){return qv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return qv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=qv(e);let a=new jn(Lf);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,f)=>{a=a.add(new Gd(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new jn(Lf);const i=this.Ze(t,e);if(null==i)return r;const a=hM(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Sv(c))for(const f of c.arrayValue.values||[])r=r.add(new Gd(t.indexId,e.key,this.He(f),i))}else r=r.add(new Gd(t.indexId,e.key,dm,i));return r}an(e,t,r,i,a){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,w,S,x){const L=f.getIterator(),U=_.getIterator();let z=am(L),oe=am(U);for(;z||oe;){let ke=!1,dt=!1;if(z&&oe){const mt=w(z,oe);mt<0?dt=!0:mt>0&&(ke=!0)}else null!=z?dt=!0:ke=!0;ke?(S(oe),oe=am(U)):dt?(x(z),z=am(L)):(z=am(L),oe=am(U))}}(i,a,Lf,f=>{c.push(this.cn(e,t,r,f))},f=>{c.push(this.hn(e,t,r,f))}),ge.waitFor(c)}rn(e){let t=1;return SC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Lf(c,f)).filter((c,f,_)=>!f||0!==Lf(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=Lf(c,e),_=Lf(c,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(c),i.push(c.ke());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,dm,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,dm,[]]));return a}}function _F(n){return _i(n,"collectionParents")}function qv(n){return _i(n,"indexEntries")}function TC(n){return _i(n,"indexConfiguration")}function SC(n){return _i(n,"indexState")}const yF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ao{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:c},(S,x,L)=>(f++,L.delete()));a.push(_.next(()=>{xt(1===f)}));const w=[];for(const S of t.mutations){const x=nF(e,S.key.path,t.batchId);a.push(i.delete(x)),w.push(S.key)}return ge.waitFor(a).next(()=>w)}function AC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class kM{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){xt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new kM(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zd(e).Wt({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=hm(e),c=zd(e);return c.add({}).next(f=>{xt("number"==typeof f);const _=new IM(f,t,r,i),w=function(L,U,z){const oe=z.baseMutations.map(dt=>jv(L.Jt,dt)),ke=z.mutations.map(dt=>jv(L.Jt,dt));return{userId:U,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:oe,mutations:ke}}(this.M,this.userId,_),S=[];let x=new jn((L,U)=>Ht(L.canonicalString(),U.canonicalString()));for(const L of i){const U=nF(this.userId,L.key.path,f);x=x.add(L.key.path.popLast()),S.push(c.put(w)),S.push(a.put(U,TU))}return x.forEach(L=>{S.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),ge.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return zd(e).get(t).next(r=>r?(xt(r.userId===this.userId),cm(this.M,r)):null)}fn(e,t){return this.ln[t]?ge.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return zd(e).Wt({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(xt(f.batchId>=r),a=cm(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return zd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zd(e).qt("userMutationsIndex",t).next(r=>r.map(i=>cm(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=CC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return hm(e).Wt({range:i},(c,f,_)=>{const[w,S,x]=c,L=Kl(S);if(w===this.userId&&t.path.isEqual(L))return zd(e).get(x).next(U=>{if(!U)throw st();xt(U.userId===this.userId),a.push(cm(this.M,U))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Ht);const i=[];return t.forEach(a=>{const c=CC(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=hm(e).Wt({range:f},(w,S,x)=>{const[L,U,z]=w,oe=Kl(U);L===this.userId&&a.path.isEqual(oe)?r=r.add(z):x.done()});i.push(_)}),ge.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=CC(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new jn(Ht);return hm(e).Wt({range:c},(_,w,S)=>{const[x,L,U]=_,z=Kl(L);x===this.userId&&r.isPrefixOf(z)?z.length===i&&(f=f.add(U)):S.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(zd(e).get(a).next(c=>{if(null===c)throw st();xt(c.userId===this.userId),r.push(cm(this.M,c))}))}),ge.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return vF(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ge.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return hm(e).Wt({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=Kl(a[1]);i.push(_)}else f.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return bF(e,this.userId,t)}wn(e){return EF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function bF(n,e,t){const r=CC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return hm(n).Wt({range:a,jt:!0},(f,_,w)=>{const[S,x,L]=f;S===e&&x===i&&(c=!0),w.done()}).next(()=>c)}function zd(n){return _i(n,"mutations")}function hm(n){return _i(n,"documentMutations")}function EF(n){return _i(n,"mutationQueues")}class Vf{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Vf(0)}static yn(){return new Vf(-1)}}class ej{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Vf(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Tt.fromTimestamp(new Cr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fm(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return fm(e).Wt((c,f)=>{const _=$v(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ge.waitFor(a)).next(()=>i)}forEachTarget(e,t){return fm(e).Wt((r,i)=>{const a=$v(i);t(a)})}pn(e){return wF(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}In(e,t){return wF(e).put("targetGlobalKey",t)}Tn(e,t){return fm(e).put(dF(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Af(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return fm(e).Wt({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const w=$v(f);xv(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=qd(e);return t.forEach(c=>{const f=As(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ge.waitFor(i)}removeMatchingKeys(e,t,r){const i=qd(e);return ge.forEach(t,a=>{const c=As(a.path);return ge.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=qd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=qd(e);let a=En();return i.Wt({range:r,jt:!0},(c,f,_)=>{const w=Kl(c[1]),S=new Ge(w);a=a.add(S)}).next(()=>a)}containsKey(e,t){const r=As(t.path),i=IDBKeyRange.bound([r],[YP(r)],!1,!0);let a=0;return qd(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,f],_,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}Et(e,t){return fm(e).get(t).next(r=>r?$v(r):null)}}function fm(n){return _i(n,"targets")}function wF(n){return _i(n,"targetGlobal")}function qd(n){return _i(n,"targetDocuments")}function Bf(n){return OM.apply(this,arguments)}function OM(){return OM=(0,be.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==sF)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),OM.apply(this,arguments)}function CF([n,e],[t,r]){const i=Ht(n,t);return 0===i?Ht(e,r):i}class tj{constructor(e){this.An=e,this.buffer=new jn(CF),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();CF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nj{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,be.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){kf(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Bf(i)}yield t.Sn(e)}))}}class rj{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(Po.A);const r=new tj(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(yF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yF):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,c,f,_,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(w=Date.now(),aM()<=Nd.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(w-_)+`ms\nTotal Duration: ${w-S}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class ij{constructor(e,t){this.db=e,this.garbageCollector=new rj(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return MC(e,r)}removeReference(e,t,r){return MC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return MC(e,t)}On(e,t){return function(r,i){let a=!1;return EF(r).zt(c=>bF(r,c,i).next(f=>(f&&(a=!0),ge.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(c,f)=>{if(f<=t){const _=this.On(e,c).next(w=>{if(!w)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Tt.min()),qd(e).delete([0,As(c.path)])))});i.push(_)}}).next(()=>ge.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return MC(e,t)}Mn(e,t){const r=qd(e);let i,a=Po.A;return r.Wt({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:w})=>{0===c?(a!==Po.A&&t(new Ge(Kl(i)),a),a=w,i=_):a=Po.A}).next(()=>{a!==Po.A&&t(new Ge(Kl(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function MC(n,e){return qd(n).put((r=n.currentSequenceNumber,{targetId:0,path:As(e.path),sequenceNumber:r}));var r}class DF{constructor(){this.changes=new Hd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sj{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Uf(e).put(r)}removeEntry(e,t,r){return Uf(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],IC(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Un.newInvalidDocument(t);return Uf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Wv(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:Un.newInvalidDocument(t)};return Uf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Wv(t))},(i,a)=>{r={document:this.$n(t,a),size:AC(a)}}).next(()=>r)}getEntries(e,t){let r=aa();return this.Ln(e,t,(i,a)=>{const c=this.$n(i,a);r=r.insert(i,c)}).next(()=>r)}Un(e,t){let r=aa(),i=new Dr(Ge.comparator);return this.Ln(e,t,(a,c)=>{const f=this.$n(a,c);r=r.insert(a,f),i=i.insert(a,AC(c))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return ge.resolve();let i=new jn(SF);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Wv(i.first()),Wv(i.last())),c=i.getIterator();let f=c.getNext();return Uf(e).Wt({index:"documentKeyIndex",range:a},(_,w,S)=>{const x=Ge.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&SF(f,x)<0;)r(f,null),f=c.getNext();f&&f.isEqual(x)&&(r(f,w),f=c.hasNext()?c.getNext():null),f?S.Ut(Wv(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),IC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uf(e).qt(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=aa();for(const _ of c){const w=this.$n(Ge.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=aa();const c=TF(t,r),f=TF(t,lc.max());return Uf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,w,S)=>{const x=this.$n(Ge.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(x.key,x),a.size===i&&S.done()}).next(()=>a)}newChangeBuffer(e){return new oj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return IF(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Fn(e,t){return IF(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function zU(n,e){let t;if(e.document)t=KN(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=Nf(e.noDocument.readTime);t=Un.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=Ge.fromSegments(e.unknownDocument.path),i=Nf(e.unknownDocument.version);t=Un.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Cr(r[0],r[1]);return Tt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Tt.min()))return r}return Un.newInvalidDocument(e)}}class oj extends DF{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Hd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new jn((a,c)=>Ht(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=cF(this.Kn.M,c);i=i.add(a.path.popLast()),r+=AC(_)-f.size,t.push(this.Kn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=cF(this.Kn.M,c.convertToNoDocument(Tt.min()));t.push(this.Kn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,c)=>{this.Gn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function IF(n){return _i(n,"remoteDocumentGlobal")}function Uf(n){return _i(n,"remoteDocumentsV14")}function Wv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function TF(n,e){const t=e.documentKey.path.toArray();return[n,IC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function SF(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Ht(t[a],r[a]),i)return i;return i=Ht(t.length,r.length),i||(i=Ht(t[t.length-2],r[r.length-2]),i||Ht(t[t.length-1],r[r.length-1]))}class aj{constructor(e){this.M=e}kt(e,t,r,i){const a=new DC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tF,{unique:!0}),f.createObjectStore("documentMutations"),AF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ge.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),AF(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").qt().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tF,{unique:!0});const S=_.store("mutations"),x=w.map(L=>S.put(L));return ge.waitFor(x)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Qn(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(c=c.next(()=>this.Wn(a))),r<8&&i>=8&&(c=c.next(()=>this.zn(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Hn(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:VU});_.createIndex("collectionPathOverlayIndex",BU,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",UU,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:SU});_.createIndex("documentKeyIndex",AU),_.createIndex("collectionGroupIndex",MU)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:PU}).createIndex("sequenceNumberIndex",NU,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:FU}).createIndex("documentKeyIndex",LU,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=AC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ge.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(f=>ge.forEach(f,_=>{xt(_.userId===a.userId);const w=cm(this.M,_);return vF(e,a.userId,w).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((c,f)=>{const _=new cn(c),w=[0,As(_)];a.push(t.get(w).next(S=>S?ge.resolve():t.put({targetId:0,path:As(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ge.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:OU});const r=t.store("collectionParents"),i=new RM,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:As(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,f)=>{const _=new cn(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,f,_],w)=>{const S=Kl(f);return a(S.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=$v(i),c=dF(this.M,a);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(w=c,w.document?new Ge(cn.fromString(w.document.name).popFirst(5)):w.noDocument?Ge.fromSegments(w.noDocument.path):w.unknownDocument?Ge.fromSegments(w.unknownDocument.path):st()).path.toArray();var w;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(S))}).next(()=>ge.waitFor(i))}}function AF(n){n.createObjectStore("targetDocuments",{keyPath:RU}).createIndex("documentTargetsIndex",kU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xU,{unique:!0}),n.createObjectStore("targetGlobal")}const PM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NM{constructor(e,t,r,i,a,c,f,_,w,S,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=c,this.document=f,this.Xn=w,this.Zn=S,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=L=>Promise.resolve(),!NM.vt())throw new xe(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ij(this,i),this.hs=t+"main",this.M=new uF(_),this.ls=new Ga(this.hs,this.ts,new aj(this.M)),this.fs=new ej(this.referenceDelegate,this.M),this.ds=new sj(this.M),this._s=new qU,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===S&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(he.FAILED_PRECONDITION,PM);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Po(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(kf(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Kv(e).get("owner").next(t=>ge.resolve(this.bs(t)))}Vs(e){return xC(e).delete(this.clientId)}vs(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=_i(r,"clientMetadata");return i.qt().next(a=>{const c=e.Ds(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return ge.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ge.resolve(!0):Kv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new xe(he.FAILED_PRECONDITION,PM);return!1}}return!(!this.networkEnabled||!this.inForeground)||xC(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new lF(t,Po.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>xC(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return kM.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new JU(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return xM.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(c=this.ts)?HU:13===c?iF:12===c?jU:11===c?rF:void st();var c;let f;return this.ls.runTransaction(e,i,a,_=>(f=new lF(_,this.es?this.es.next():Po.A),"readwrite-primary"===t?this.Es(f).next(w=>!!w||this.As(f)).next(w=>{if(!w)throw Pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new xe(he.FAILED_PRECONDITION,sF);return r(f)}).next(w=>this.Ps(f).next(()=>w)):this.$s(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(e){return Kv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(he.FAILED_PRECONDITION,PM)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kv(e).put("owner",t)}static vt(){return Ga.vt()}Rs(e){const t=Kv(e);return t.get("owner").next(r=>this.bs(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ge.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,tn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Pr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kv(n){return _i(n,"owner")}function xC(n){return _i(n,"clientMetadata")}function FM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class lj{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):gM(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ge(t)).next(r=>{let i=bM();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=bM();return this.indexManager.getCollectionParents(e,i).next(c=>ge.forEach(c,f=>{const _=(w=t,S=f.child(i),new uc(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.zs(e,_,r).next(w=>{w.forEach((S,x)=>{a=a.insert(S,x)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const c of a)for(const f of c.mutations){const _=f.key;let w=i.get(_);null==w&&(w=Un.newInvalidDocument(_),i=i.insert(_,w)),yM(f,w,c.localWriteTime),w.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((a,c)=>{_M(t,c)||(i=i.remove(a))}),i))}}class LM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=En(),i=En();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new LM(e,t.fromCache,r,i)}}class MF{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Tt.min())?this.ti(e,t):this.Zs.Ks(e,i).next(a=>{const c=this.ei(t,a);return(gC(t)||mC(t))&&this.ni(t.limitType,c,i,r)?this.ti(e,t):(aM()<=Nd.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mM(t)),this.Zs.Qs(e,t,cN(r,-1)).next(f=>(c.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ei(e,t){let r=new jn(EN(e));return t.forEach((i,a)=>{_M(e,a)&&(r=r.add(a))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ti(e,t){return aM()<=Nd.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",mM(t)),this.Zs.Qs(e,t,lc.min())}}class uj{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new Dr(Ht),this.ri=new Hd(a=>Af(a),xv),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new lj(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function xF(n,e,t,r){return new uj(n,e,t,r)}function RF(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,be.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.ai(e),t.Bs.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=En();for(const w of i){c.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}for(const w of a){f.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}return t.ci.Ks(r,_).next(w=>({hi:w,removedBatchIds:c,addedBatchIds:f}))})})}),VM.apply(this,arguments)}function cj(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,f,_,w){const S=_.batch,x=S.keys();let L=ge.resolve();return x.forEach(U=>{L=L.next(()=>w.getEntry(f,U)).next(z=>{const oe=_.docVersions.get(U);xt(null!==oe),z.version.compareTo(oe)<0&&(S.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),w.addEntry(z)))})}),L.next(()=>c.Bs.removeMutationBatch(f,S))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function kF(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function dj(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const f=[];e.targetChanges.forEach((w,S)=>{const x=i.get(S);if(!x)return;f.push(t.fs.removeMatchingKeys(a,w.removedDocuments,S).next(()=>t.fs.addMatchingKeys(a,w.addedDocuments,S)));let L=x.withSequenceNumber(a.currentSequenceNumber);var U,z,oe;e.targetMismatches.has(S)?L=L.withResumeToken(Xr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,r)),i=i.insert(S,L),z=L,oe=w,(0===(U=x).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,L))});let _=aa();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),f.push(OF(a,c,e.documentUpdates).next(w=>{_=w})),!r.isEqual(Tt.min())){const w=t.fs.getLastRemoteSnapshotVersion(a).next(S=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(w)}return ge.waitFor(f).next(()=>c.apply(a)).next(()=>t.ci.Gs(a,_)).next(()=>_)}).then(a=>(t.ii=i,a))}function OF(n,e,t){let r=En();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=aa();return t.forEach((c,f)=>{const _=i.get(c);f.isNoDocument()&&f.version.isEqual(Tt.min())?(e.removeEntry(c,f.readTime),a=a.insert(c,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(c,f)):Le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",_.version," Watch version:",f.version)}),a})}function hj(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function pm(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,ge.resolve(i)):t.fs.allocateTargetId(r).next(c=>(i=new $d(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function gm(n,e,t){return BM.apply(this,arguments)}function BM(){return BM=(0,be.Z)(function*(n,e,t){const r=Ke(n),i=r.ii.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!kf(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),BM.apply(this,arguments)}function RC(n,e,t){const r=Ke(n);let i=Tt.min(),a=En();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,w){const S=Ke(f),x=S.ri.get(w);return void 0!==x?ge.resolve(S.ii.get(x)):S.fs.getTargetData(_,w)}(r,c,oa(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.si.Qs(c,e,t?i:Tt.min(),t?a:En())).next(f=>(FF(r,bN(e),f),{documents:f,li:a})))}function PF(n,e){const t=Ke(n),r=Ke(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(c=>c?c.target:null))}function NF(n,e){const t=Ke(n),r=t.oi.get(e)||Tt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,cN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(FF(t,e,i),i))}function FF(n,e,t){let r=Tt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.oi.set(e,r)}function UM(){return UM=(0,be.Z)(function*(n,e,t,r){const i=Ke(n);let a=En(),c=aa();for(const w of t){const S=e.fi(w.metadata.name);w.document&&(a=a.add(S));const x=e.di(w);x.setReadTime(e._i(w.metadata.readTime)),c=c.insert(S,x)}const f=i.ui.newChangeBuffer({trackRemovals:!0}),_=yield pm(i,(w=r,oa(rm(cn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>OF(w,f,c).next(S=>(f.apply(w),S)).next(S=>i.fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.fs.addMatchingKeys(w,a,_.targetId)).next(()=>i.ci.Gs(w,S)).next(()=>S)))}),UM.apply(this,arguments)}function pj(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,be.Z)(function*(n,e,t=En()){const r=yield pm(n,oa(AM(e.bundledQuery))),i=Ke(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=mi(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(Xr.EMPTY_BYTE_STRING,c);return i.ii=i.ii.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),jM.apply(this,arguments)}class gj{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return ge.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:mi(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:AM(r.bundledQuery),readTime:mi(r.readTime)}),ge.resolve();var r}}class mj{constructor(){this.overlays=new Dr(Ge.comparator),this.gi=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=Nv(),a=t.length+1,c=new Ge(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Dr((w,S)=>w-S);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let S=a.get(w.largestBatchId);null===S&&(S=Nv(),a=a.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const f=Nv(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,S)=>f.set(w,S)),!(f.size()>=i)););return ge.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new SM(t,r));let a=this.gi.get(t);void 0===a&&(a=En(),this.gi.set(t,a)),this.gi.set(t,a.add(r.key))}}class HM{constructor(){this.yi=new jn(yi.pi),this.Ii=new jn(yi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new yi(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new yi(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Ge(new cn([])),r=new yi(t,e),i=new yi(t,e+1),a=[];return this.Ii.forEachInRange([r,i],c=>{this.Ai(c),a.push(c.key)}),a}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Ge(new cn([])),r=new yi(t,e),i=new yi(t,e+1);let a=En();return this.Ii.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new yi(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class yi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Ge.comparator(e.key,t.key)||Ht(e.vi,t.vi)}static Ti(e,t){return Ht(e.vi,t.vi)||Ge.comparator(e.key,t.key)}}class _j{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new jn(yi.pi)}checkEmpty(e){return ge.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.Si;this.Si++;const c=new IM(a,t,r,i);this.Bs.push(c);for(const f of i)this.Di=this.Di.add(new yi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(e,t){return ge.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),a=i<0?0:i;return ge.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return ge.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yi(t,0),i=new yi(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],c=>{const f=this.Ci(c.vi);a.push(f)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Ht);return t.forEach(i=>{const a=new yi(i,0),c=new yi(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,c],f=>{r=r.add(f.vi)})}),ge.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ge.isDocumentKey(a)||(a=a.child(""));const c=new yi(new Ge(a),0);let f=new jn(Ht);return this.Di.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.vi)),!0)},c),ge.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return ge.forEach(t.mutations,i=>{const a=new yi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new yi(t,0),i=this.Di.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ge.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class yj{constructor(e){this.Mi=e,this.docs=new Dr(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=aa();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Un.newInvalidDocument(i))}),ge.resolve(r)}getAllFromCollection(e,t,r){let i=aa();const a=new Ge(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||j2(U2(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ge.resolve(i)}getAllFromCollectionGroup(e,t,r,i){st()}Oi(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vj(this)}getSize(e){return ge.resolve(this.size)}}class vj extends DF{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class bj{constructor(e){this.persistence=e,this.Fi=new Hd(t=>Af(t),xv),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new HM,this.targetCount=0,this.Li=Vf.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),ge.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Vf(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.Tn(t),ge.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Fi.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Fi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ge.waitFor(a).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Bi.containsKey(t))}}class Ej{constructor(e,t){this.Ui={},this.overlays={},this.es=new Po(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new bj(this),this.indexManager=new XU,this.ds=new yj(r=>this.referenceDelegate.qi(r)),this.M=new uF(t),this._s=new gj(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new _j(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new wj(this.es.next());return this.referenceDelegate.Ki(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Qi(e,t){return ge.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class wj extends oF{constructor(e){super(),this.currentSequenceNumber=e}}class $M{constructor(e){this.persistence=e,this.ji=new HM,this.Wi=null}static zi(e){return new $M(e)}get Hi(){if(this.Wi)return this.Wi;throw st()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Hi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Hi,r=>{const i=Ge.fromPath(r);return this.Ji(e,i).next(a=>{a||t.removeEntry(i,Tt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return ge.or([()=>ge.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function LF(n,e){return`firestore_clients_${n}_${e}`}function VF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function GM(n,e){return`firestore_targets_${n}_${e}`}class kC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new xe(i.error.code,i.error.message))),c?new kC(e,t,i.state,a):(Pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new xe(r.error.code,r.error.message))),a?new Zv(e,r.state,i):(Pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class OC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=EC();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=eN(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new OC(e,a):(Pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zM{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zM(t.clientId,t.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qM{constructor(){this.activeTargetIds=EC()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WM{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Dr(Ht),this.started=!1,this.rr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=LF(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new qM),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const a=e.getItem(LF(e.persistenceKey,i));if(a){const c=OC.Yi(i,a);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(GM(this.persistenceKey,e));if(r){const i=Zv.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(GM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(a){let c=Po.A;if(null!=a)try{const f=JSON.parse(a);xt("number"==typeof f),c=f}catch(f){Pr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Po.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.kr(a)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new kC(this.currentUser,e,t,r),a=VF(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Xi())}Ir(e){const t=VF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=GM(this.persistenceKey,e),a=new Zv(e,t,r);this.setItem(i,a.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return OC.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return kC.Yi(new Vi(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return Zv.Yi(i,t)}mr(e){return zM.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Fr(c,f).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=EC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class BF{constructor(){this.$r=new qM,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new qM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cj{Lr(e){}shutdown(){}}class UF{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ij{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Tj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,a){const c=this.uo(e,t);Le("RestConnection","Sending: ",c,r);const f={};return this.ao(f,i,a),this.co(e,c,f,r).then(_=>(Le("RestConnection","Received: ",_),_),_=>{throw wv("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}ho(e,t,r,i,a){return this.oo(e,t,r,i,a)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}uo(e,t){return`${this.io}/v1/${t}:${Dj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,c)=>{const f=new D2;f.listenOnce(E2.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case oM.NO_ERROR:const w=f.getResponseJson();Le("Connection","XHR received:",JSON.stringify(w)),a(w);break;case oM.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),c(new xe(he.DEADLINE_EXCEEDED,"Request time out"));break;case oM.HTTP_ERROR:const S=f.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const L=function(U){const z=U.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(z)>=0?z:he.UNKNOWN}(x.status);c(new xe(L,x.message))}else c(new xe(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(he.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=v2(),c=b2(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new C2({})),this.ao(f.initMessageHeaders,t,r),(0,tn.uI)()||(0,tn.b$)()||(0,tn.d)()||(0,tn.w1)()||(0,tn.Mn)()||(0,tn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Le("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let S=!1,x=!1;const L=new Ij({Wr:z=>{x?Le("Connection","Not sending because WebChannel is closed:",z):(S||(Le("Connection","Opening WebChannel transport."),w.open(),S=!0),Le("Connection","WebChannel sending:",z),w.send(z))},zr:()=>w.close()}),U=(z,oe,ke)=>{z.listen(oe,dt=>{try{ke(dt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return U(w,uC.EventType.OPEN,()=>{x||Le("Connection","WebChannel transport opened.")}),U(w,uC.EventType.CLOSE,()=>{x||(x=!0,Le("Connection","WebChannel transport closed"),L.no())}),U(w,uC.EventType.ERROR,z=>{x||(x=!0,wv("Connection","WebChannel transport errored:",z),L.no(new xe(he.UNAVAILABLE,"The operation could not be completed")))}),U(w,uC.EventType.MESSAGE,z=>{var oe;if(!x){const ke=z.data[0];xt(!!ke);const dt=ke,mt=dt.error||(null===(oe=dt[0])||void 0===oe?void 0:oe.error);if(mt){Le("Connection","WebChannel received error:",mt);const Et=mt.status;let at=function($t){const _n=Fr[$t];if(void 0!==_n)return FN(_n)}(Et),Ft=mt.message;void 0===at&&(at=he.INTERNAL,Ft="Unknown error status: "+Et+" with message "+mt.message),x=!0,L.no(new xe(at,Ft)),w.close()}else Le("Connection","WebChannel received:",ke),L.so(ke)}}),U(c,w2.STAT_EVENT,z=>{z.stat===zP.PROXY?Le("Connection","Detected buffering proxy"):z.stat===zP.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.eo()},0),L}}function jF(){return"undefined"!=typeof window?window:null}function PC(){return"undefined"!=typeof document?document:null}function Yv(n){return new pU(n,!0)}class KM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class HF{constructor(e,t,r,i,a,c,f,_){this.Yn=e,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new KM(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,be.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,be.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new xe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,be.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sj extends HF{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=a}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function _U(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:st(),i=e.targetChange.targetIds||[],a=function(_,w){return _.N?(xt(void 0===w||"string"==typeof w),Xr.fromBase64String(w||"")):(xt(void 0===w||w instanceof Uint8Array),Xr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const w=void 0===_.code?he.UNKNOWN:FN(_.code);return new xe(w,_.message||"")}(c);t=new BN(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Wl(n,r.document.name),a=mi(r.document.updateTime),c=new ts({mapValue:{fields:r.document.fields}}),f=Un.newFoundDocument(i,a,c);t=new wC(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Wl(n,r.document),a=r.readTime?mi(r.readTime):Tt.min(),c=Un.newNoDocument(i,a);t=new wC([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Wl(n,r.document);t=new wC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,a=new sU(r.count||0);t=new VN(r.targetId,a)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Tt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Tt.min():a.readTime?mi(a.readTime):Tt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Uv(this.M),t.addTarget=function(i,a){let c;const f=a.target;return c=fC(f)?{documents:ZN(i,f)}:{query:YN(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=$N(i,a.resumeToken):a.snapshotVersion.compareTo(Tt.min())>0&&(c.readTime=Vv(i,a.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function vU(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Uv(this.M),t.removeTarget=e,this.Fo(t)}}class Aj extends HF{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function yU(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let a=mi(r.updateTime?r.updateTime:i);return a.isEqual(Tt.min())&&(a=mi(i)),new nU(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.Yo(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Uv(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jv(this.M,r))};this.Fo(t)}}class Mj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.oo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(he.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ho(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(he.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class xj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Pr(t),this.iu=!1):Le("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Rj{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(f=>{r.enqueueAndForget((0,be.Z)(function*(){var _;Wd(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(w){const S=Ke(w);S.fu.add(4),yield mm(S),S.wu.set("Unknown"),S.fu.delete(4),yield Qv(S)}),function(w){return _.apply(this,arguments)})(c))}))}),this.wu=new xj(r,i)}}function Qv(n){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,be.Z)(function*(n){if(Wd(n))for(const e of n.du)yield e(!0)}),ZM.apply(this,arguments)}function mm(n){return YM.apply(this,arguments)}function YM(){return YM=(0,be.Z)(function*(n){for(const e of n.du)yield e(!1)}),YM.apply(this,arguments)}function NC(n,e){const t=Ke(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),JM(t)?XM(t):ym(t).xo()&&QM(t,e))}function Xv(n,e){const t=Ke(n),r=ym(t);t.lu.delete(e),r.xo()&&$F(t,e),0===t.lu.size&&(r.xo()?r.Mo():Wd(t)&&t.wu.set("Unknown"))}function QM(n,e){n.mu.Z(e.targetId),ym(n).jo(e)}function $F(n,e){n.mu.Z(e),ym(n).Wo(e)}function XM(n){n.mu=new dU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),ym(n).start(),n.wu.ru()}function JM(n){return Wd(n)&&!ym(n).Co()&&n.lu.size>0}function Wd(n){return 0===Ke(n).fu.size}function GF(n){n.mu=void 0}function kj(n){return ex.apply(this,arguments)}function ex(){return ex=(0,be.Z)(function*(n){n.lu.forEach((e,t)=>{QM(n,e)})}),ex.apply(this,arguments)}function Oj(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,be.Z)(function*(n,e){GF(n),JM(n)?(n.wu.au(e),XM(n)):n.wu.set("Unknown")}),tx.apply(this,arguments)}function Pj(n,e,t){return nx.apply(this,arguments)}function nx(){return nx=(0,be.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof BN&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.lu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.lu.delete(f),i.mu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield FC(n,r)}else if(e instanceof wC?n.mu.ut(e):e instanceof VN?n.mu._t(e):n.mu.ht(e),!t.isEqual(Tt.min()))try{const r=yield kF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.mu.yt(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.lu.get(_);w&&i.lu.set(_,w.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i.lu.get(f);if(!_)return;i.lu.set(f,_.withResumeToken(Xr.EMPTY_BYTE_STRING,_.snapshotVersion)),$F(i,f);const w=new $d(_.target,f,1,_.sequenceNumber);QM(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield FC(n,r)}var r}),nx.apply(this,arguments)}function FC(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,be.Z)(function*(n,e,t){if(!kf(e))throw e;n.fu.add(1),yield mm(n),n.wu.set("Offline"),t||(t=()=>kF(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Qv(n)}))}),rx.apply(this,arguments)}function zF(n,e){return e().catch(t=>FC(n,t,e))}function _m(n){return ix.apply(this,arguments)}function ix(){return ix=(0,be.Z)(function*(n){const e=Ke(n),t=Kd(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Nj(e);)try{const i=yield hj(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,Fj(e,i)}catch(i){yield FC(e,i)}qF(e)&&WF(e)}),ix.apply(this,arguments)}function Nj(n){return Wd(n)&&n.hu.length<10}function Fj(n,e){n.hu.push(e);const t=Kd(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function qF(n){return Wd(n)&&!Kd(n).Co()&&n.hu.length>0}function WF(n){Kd(n).start()}function Lj(n){return sx.apply(this,arguments)}function sx(){return sx=(0,be.Z)(function*(n){Kd(n).Zo()}),sx.apply(this,arguments)}function Vj(n){return ox.apply(this,arguments)}function ox(){return ox=(0,be.Z)(function*(n){const e=Kd(n);for(const t of n.hu)e.Jo(t.mutations)}),ox.apply(this,arguments)}function Bj(n,e,t){return ax.apply(this,arguments)}function ax(){return ax=(0,be.Z)(function*(n,e,t){const r=n.hu.shift(),i=TM.from(r,e,t);yield zF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield _m(n)}),ax.apply(this,arguments)}function Uj(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,be.Z)(function*(n,e){var t;e&&Kd(n).Ho&&(yield(t=(0,be.Z)(function*(r,i){if(NN(a=i.code)&&a!==he.ABORTED){const c=r.hu.shift();Kd(r).ko(),yield zF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield _m(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),qF(n)&&WF(n)}),lx.apply(this,arguments)}function KF(n,e){return ux.apply(this,arguments)}function ux(){return ux=(0,be.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=Wd(t);t.fu.add(3),yield mm(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Qv(t)}),ux.apply(this,arguments)}function cx(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,be.Z)(function*(n,e){const t=Ke(n);e?(t.fu.delete(2),yield Qv(t)):e||(t.fu.add(2),yield mm(t),t.wu.set("Unknown"))}),dx.apply(this,arguments)}function ym(n){return n.gu||(n.gu=function(e,t,r){const i=Ke(e);return i.eu(),new Sj(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:kj.bind(null,n),Yr:Oj.bind(null,n),Qo:Pj.bind(null,n)}),n.du.push(function(){var e=(0,be.Z)(function*(t){t?(n.gu.ko(),JM(n)?XM(n):n.wu.set("Unknown")):(yield n.gu.stop(),GF(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Kd(n){return n.yu||(n.yu=function(e,t,r){const i=Ke(e);return i.eu(),new Aj(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:Lj.bind(null,n),Yr:Uj.bind(null,n),Xo:Vj.bind(null,n),Yo:Bj.bind(null,n)}),n.du.push(function(){var e=(0,be.Z)(function*(t){t?(n.yu.ko(),yield _m(n)):(yield n.yu.stop(),n.hu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class hx{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new hx(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),kf(n))return new xe(he.UNAVAILABLE,`${e}: ${n}`);throw n}class bm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=bM(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new bm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new bm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ZF{constructor(){this.pu=new Dr(Ge.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):st():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Em{constructor(e,t,r,i,a,c,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new Em(e,t,bm.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class jj{constructor(){this.Tu=void 0,this.listeners=[]}}class Hj{constructor(){this.queries=new Hd(e=>vN(e),Rv),this.onlineState="Unknown",this.Eu=new Set}}function fx(n,e){return px.apply(this,arguments)}function px(){return px=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new jj),i)try{a.Tu=yield t.onListen(r)}catch(c){const f=vm(c,`Initialization of query '${mM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Au(t.onlineState),a.Tu&&e.Ru(a.Tu)&&_x(t)}),px.apply(this,arguments)}function gx(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),mx.apply(this,arguments)}function $j(n,e){const t=Ke(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Ru(i)&&(r=!0);c.Tu=i}}r&&_x(t)}function Gj(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function _x(n){n.Eu.forEach(e=>{e.next()})}class yx{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Em(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class zj{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class YF{constructor(e){this.M=e}fi(e){return Wl(this.M,e)}di(e){return e.metadata.exists?KN(this.M,e.document,!1):Un.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return mi(e)}}class qj{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QF(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=cn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new YF(this.M);for(const i of e)if(i.metadata.queries){const a=r.fi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||En()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function fj(n,e,t,r){return UM.apply(this,arguments)}(e.localStore,new YF(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield pj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function QF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class XF{constructor(e){this.key=e}}class JF{constructor(e){this.key=e}}class e1{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=En(),this.mutatedKeys=En(),this.Uu=EN(e),this.qu=new bm(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new ZF,i=t?t.qu:this.qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _=gC(this.query)&&i.size===this.query.limit?i.last():null,w=mC(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,x)=>{const L=i.get(S),U=_M(this.query,x)?x:null,z=!!L&&this.mutatedKeys.has(L.key),oe=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ke=!1;L&&U?L.data.isEqual(U.data)?z!==oe&&(r.track({type:3,doc:U}),ke=!0):this.ju(L,U)||(r.track({type:2,doc:U}),ke=!0,(_&&this.Uu(U,_)>0||w&&this.Uu(U,w)<0)&&(f=!0)):!L&&U?(r.track({type:0,doc:U}),ke=!0):L&&!U&&(r.track({type:1,doc:L}),ke=!0,(_||w)&&(f=!0)),ke&&(U?(c=c.add(U),a=oe?a.add(S):a.delete(S)):(c=c.delete(S),a=a.delete(S)))}),gC(this.query)||mC(this.query))for(;c.size>this.query.limit;){const S=gC(this.query)?c.last():c.first();c=c.delete(S.key),a=a.delete(S.key),r.track({type:1,doc:S})}return{qu:c,Qu:r,ni:f,mutatedKeys:a}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const a=e.Qu.Iu();a.sort((w,S)=>function(x,L){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return U(x)-U(L)}(w.type,S.type)||this.Uu(w.doc,S.doc)),this.Wu(r);const c=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,_=f!==this.Bu;return this.Bu=f,0!==a.length||_?{snapshot:new Em(this.query,e.qu,i,a,e.mutatedKeys,0===f,_,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new ZF,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=En(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new JF(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new XF(r))}),t}Yu(e){this.$u=e.li,this.Lu=En();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Em.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Wj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Kj{constructor(e){this.key=e,this.Zu=!1}}class Zj{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new Hd(f=>vN(f),Rv),this.na=new Map,this.sa=new Set,this.ia=new Dr(Ge.comparator),this.ra=new Map,this.oa=new HM,this.ua={},this.aa=new Map,this.ca=Vf.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Yj(n,e){return vx.apply(this,arguments)}function vx(){return vx=(0,be.Z)(function*(n,e){const t=Hx(n);let r,i;const a=t.ea.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const c=yield pm(t.localStore,oa(e));t.isPrimaryClient&&NC(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield bx(t,e,r,"current"===f)}return i}),vx.apply(this,arguments)}function bx(n,e,t,r){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,be.Z)(function*(n,e,t,r){n.la=(S,x,L)=>{return(U=(0,be.Z)(function*(z,oe,ke,dt){let mt=oe.view.Gu(ke);mt.ni&&(mt=yield RC(z.localStore,oe.query,!1).then(({documents:Ft})=>oe.view.Gu(Ft,mt)));const Et=dt&&dt.targetChanges.get(oe.targetId),at=oe.view.applyChanges(mt,z.isPrimaryClient,Et);return Rx(z,oe.targetId,at.Hu),at.snapshot}),function(z,oe,ke,dt){return U.apply(this,arguments)})(n,S,x,L);var U};const i=yield RC(n.localStore,e,!0),a=new e1(e,i.li),c=a.Gu(i.documents),f=Lv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(c,n.isPrimaryClient,f);Rx(n,t,_.Hu);const w=new Wj(e,t,a);return n.ea.set(e,w),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),_.snapshot}),Ex.apply(this,arguments)}function Qj(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,be.Z)(function*(n,e){const t=Ke(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(a=>!Rv(a,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield gm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Xv(t.remoteStore,r.targetId),wm(t,r.targetId)}).catch(Bf))):(wm(t,r.targetId),yield gm(t.localStore,r.targetId,!0))}),wx.apply(this,arguments)}function Cx(){return Cx=(0,be.Z)(function*(n,e,t){const r=$x(n);try{const i=yield function(a,c){const f=Ke(a),_=Cr.now(),w=c.reduce((x,L)=>x.add(L.key),En());let S;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>f.ci.Ks(x,w).next(L=>{S=L;const U=[];for(const z of c){const oe=iU(z,S.get(z.key));null!=oe&&U.push(new Rf(z.key,oe,uN(oe.value.mapValue),Nr.exists(!0)))}return f.Bs.addMutationBatch(x,_,U,c)})).then(x=>(x.applyToLocalDocumentSet(S),{batchId:x.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.ua[a.currentUser.toKey()];_||(_=new Dr(Ht)),_=_.insert(c,f),a.ua[a.currentUser.toKey()]=_}(r,i.batchId,t),yield cc(r,i.changes),yield _m(r.remoteStore)}catch(i){const a=vm(i,"Failed to persist write");t.reject(a)}}),Cx.apply(this,arguments)}function t1(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,be.Z)(function*(n,e){const t=Ke(n);try{const r=yield dj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.ra.get(a);c&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Zu=!0:i.modifiedDocuments.size>0?xt(c.Zu):i.removedDocuments.size>0&&(xt(c.Zu),c.Zu=!1))}),yield cc(t,r,e)}catch(r){yield Bf(r)}}),Dx.apply(this,arguments)}function n1(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((a,c)=>{const f=c.view.Au(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=Ke(a);f.onlineState=c;let _=!1;f.queries.forEach((w,S)=>{for(const x of S.listeners)x.Au(c)&&(_=!0)}),_&&_x(f)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Jj(n,e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,be.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),a=i&&i.key;if(a){let c=new Dr(Ge.comparator);c=c.insert(a,Un.newNoDocument(a,Tt.min()));const f=En().add(a),_=new Fv(Tt.min(),new Map,new jn(Ht),c,f);yield t1(r,_),r.ia=r.ia.remove(a),r.ra.delete(e),kx(r)}else yield gm(r.localStore,e,!1).then(()=>wm(r,e,t)).catch(Bf)}),Ix.apply(this,arguments)}function eH(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=yield cj(t.localStore,e);xx(t,r,null),Mx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield cc(t,i)}catch(i){yield Bf(i)}}),Tx.apply(this,arguments)}function tH(n,e,t){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,be.Z)(function*(n,e,t){const r=Ke(n);try{const i=yield function(a,c){const f=Ke(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.Bs.lookupMutationBatch(_,c).next(S=>(xt(null!==S),w=S.keys(),f.Bs.removeMutationBatch(_,S))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.ci.Ks(_,w))})}(r.localStore,e);xx(r,e,t),Mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield cc(r,i)}catch(i){yield Bf(i)}}),Sx.apply(this,arguments)}function Ax(){return Ax=(0,be.Z)(function*(n,e){const t=Ke(n);Wd(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=Ke(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=vm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Ax.apply(this,arguments)}function Mx(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function xx(n,e,t){const r=Ke(n);let i=r.ua[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function wm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||r1(n,r)})}function r1(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(Xv(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),kx(n))}function Rx(n,e,t){for(const r of t)r instanceof XF?(n.oa.addReference(r.key,e),rH(n,r)):r instanceof JF?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||r1(n,r.key)):st()}function rH(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.sa.add(r),kx(n))}function kx(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Ge(cn.fromString(e)),r=n.ca.next();n.ra.set(r,new Kj(t)),n.ia=n.ia.insert(t,r),NC(n.remoteStore,new $d(oa(rm(t.path)),r,2,Po.A))}}function cc(n,e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,be.Z)(function*(n,e,t){const r=Ke(n),i=[],a=[],c=[];var f;r.ea.isEmpty()||(r.ea.forEach((f,_)=>{c.push(r.la(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const S=LM.Ys(_.targetId,w);a.push(S)}}))}),yield Promise.all(c),r.ta.Qo(i),yield(f=(0,be.Z)(function*(_,w){const S=Ke(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ge.forEach(w,L=>ge.forEach(L.Hs,U=>S.persistence.referenceDelegate.addReference(x,L.targetId,U)).next(()=>ge.forEach(L.Js,U=>S.persistence.referenceDelegate.removeReference(x,L.targetId,U)))))}catch(x){if(!kf(x))throw x;Le("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const L=x.targetId;if(!x.fromCache){const U=S.ii.get(L),oe=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);S.ii=S.ii.insert(L,oe)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),Ox.apply(this,arguments)}function iH(n,e){return Px.apply(this,arguments)}function Px(){return Px=(0,be.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield RF(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(c=>{c.forEach(f=>{f.reject(new xe(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cc(t,r.hi)}var i}),Px.apply(this,arguments)}function sH(n,e){const t=Ke(n),r=t.ra.get(e);if(r&&r.Zu)return En().add(r.key);{let i=En();const a=t.na.get(e);if(!a)return i;for(const c of a){const f=t.ea.get(c);i=i.unionWith(f.view.Ku)}return i}}function oH(n,e){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,be.Z)(function*(n,e){const t=Ke(n),r=yield RC(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&Rx(t,e.targetId,i.Hu),i}),Nx.apply(this,arguments)}function aH(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,be.Z)(function*(n,e){const t=Ke(n);return NF(t.localStore,e).then(r=>cc(t,r))}),Fx.apply(this,arguments)}function lH(n,e,t,r){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,be.Z)(function*(n,e,t,r){const i=Ke(n),a=yield function(c,f){const _=Ke(c),w=Ke(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.fn(S,f).next(x=>x?_.ci.Ks(S,x):ge.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield _m(i.remoteStore):"acknowledged"===t||"rejected"===t?(xx(i,e,r||null),Mx(i,e),f=e,Ke(Ke(i.localStore).Bs)._n(f)):st(),yield cc(i,a)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),Lx.apply(this,arguments)}function Vx(){return Vx=(0,be.Z)(function*(n,e){const t=Ke(n);if(Hx(t),$x(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield s1(t,r.toArray());t.ha=!0,yield cx(t.remoteStore,!0);for(const a of i)NC(t.remoteStore,a)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(wm(t,c),gm(t.localStore,c,!0))),Xv(t.remoteStore,c)}),yield i,yield s1(t,r),function(a){const c=Ke(a);c.ra.forEach((f,_)=>{Xv(c.remoteStore,_)}),c.oa.bi(),c.ra=new Map,c.ia=new Dr(Ge.comparator)}(t),t.ha=!1,yield cx(t.remoteStore,!1)}}),Vx.apply(this,arguments)}function s1(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,be.Z)(function*(n,e,t){const r=Ke(n),i=[],a=[];for(const c of e){let f;const _=r.na.get(c);if(_&&0!==_.length){f=yield pm(r.localStore,oa(_[0]));for(const w of _){const S=r.ea.get(w),x=yield oH(r,S);x.snapshot&&a.push(x.snapshot)}}else{const w=yield PF(r.localStore,c);f=yield pm(r.localStore,w),yield bx(r,o1(w),c,!1)}i.push(f)}return r.ta.Qo(a),i}),Bx.apply(this,arguments)}function o1(n){return _N(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cH(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).Fs()}function dH(n,e,t,r){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,be.Z)(function*(n,e,t,r){const i=Ke(n);if(i.ha)return void Le("SyncEngine","Ignoring unexpected query state notification.");const a=i.na.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield NF(i.localStore,bN(a[0])),f=Fv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield cc(i,c,f);break}case"rejected":yield gm(i.localStore,e,!0),wm(i,e,r);break;default:st()}}),Ux.apply(this,arguments)}function hH(n,e,t){return jx.apply(this,arguments)}function jx(){return jx=(0,be.Z)(function*(n,e,t){const r=Hx(n);if(r.ha){for(const i of e){if(r.na.has(i)){Le("SyncEngine","Adding an already active target "+i);continue}const a=yield PF(r.localStore,i),c=yield pm(r.localStore,a);yield bx(r,o1(a),c.targetId,!1),NC(r.remoteStore,c)}for(const i of t)r.na.has(i)&&(yield gm(r.localStore,i,!1).then(()=>{Xv(r.remoteStore,i),wm(r,i)}).catch(Bf))}}),jx.apply(this,arguments)}function Hx(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jj.bind(null,e),e.ta.Qo=$j.bind(null,e.eventManager),e.ta.fa=Gj.bind(null,e.eventManager),e}function $x(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tH.bind(null,e),e}class a1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.M=Yv(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return xF(this.persistence,new MF,e.initialUser,this.M)}wa(e){return new Ej($M.zi,this.M)}_a(e){return new BF}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class l1 extends a1{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield $x(r.ya.syncEngine),yield _m(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return xF(this.persistence,new MF,e.initialUser,this.M)}ma(e){return new nj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=FM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new NM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,jF(),PC(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new BF}}class pH extends l1{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof WM&&(r.sharedClientState.syncEngine={Mr:lH.bind(null,i),Or:dH.bind(null,i),Fr:hH.bind(null,i),Fs:cH.bind(null,i),kr:aH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,be.Z)(function*(c){yield function uH(n,e){return Vx.apply(this,arguments)}(r.ya.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}_a(e){const t=jF();if(!WM.vt(t))throw new xe(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=FM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new WM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Gx{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>n1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=iH.bind(null,r.syncEngine),yield cx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hj}createDatastore(e){const t=Yv(e.databaseInfo.databaseId),r=new Tj(e.databaseInfo);return new Mj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>n1(this.syncEngine,f,0),c=UF.vt()?new UF:new Cj,new Rj(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,w){const S=new Zj(r,i,a,c,f,_);return w&&(S.ha=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Ke(t);Le("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield mm(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function u1(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class LC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gH{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new pi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new zj(JSON.parse(a),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,be.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class mH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(a,c){const f=Ke(a),_=Uv(f.M)+"/documents",w={documents:c.map(U=>Bv(f.M,U))},S=yield f.ho("BatchGetDocuments",_,w),x=new Map;S.forEach(U=>{const z=function mU(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=Wl(t,r.found.name),a=mi(r.found.updateTime),c=new ts({mapValue:{fields:r.found.fields}});return Un.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=Wl(t,r.missing),a=mi(r.readTime);return Un.newNoDocument(i,a)}(n,e):st()}(f.M,U);x.set(z.key.toString(),z)});const L=[];return c.forEach(U=>{const z=x.get(U.toString());xt(!!z),L.push(z)}),L}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ge.fromPath(i);e.mutations.push(new vM(a,e.precondition(a)))}),yield(r=(0,be.Z)(function*(i,a){const c=Ke(i),f=Uv(c.M)+"/documents",_={writes:a.map(w=>jv(c.M,w))};yield c.oo("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Nr.updateTime(t):Nr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new xe(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nr.updateTime(t)}return Nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _H{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new KM(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,be.Z)(function*(){const t=new mH(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.xa(a)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!Df(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!NN(t)}return!1}}class yH{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vi.UNAUTHENTICATED,this.clientId=ZP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,be.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=vm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function c1(n,e){return zx.apply(this,arguments)}function zx(){return zx=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(a){r.isEqual(a)||(yield RF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),zx.apply(this,arguments)}function d1(n,e){return qx.apply(this,arguments)}function qx(){return qx=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Wx(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>KF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>KF(e.remoteStore,a)),n.onlineComponents=e}),qx.apply(this,arguments)}function Wx(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,be.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield c1(n,new a1)),n.offlineComponents}),Kx.apply(this,arguments)}function VC(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,be.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield d1(n,new Gx)),n.onlineComponents}),Zx.apply(this,arguments)}function h1(n){return Wx(n).then(e=>e.persistence)}function Yx(n){return Wx(n).then(e=>e.localStore)}function f1(n){return VC(n).then(e=>e.remoteStore)}function Qx(n){return VC(n).then(e=>e.syncEngine)}function Cm(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,be.Z)(function*(n){const e=yield VC(n),t=e.eventManager;return t.onListen=Yj.bind(null,e.syncEngine),t.onUnlisten=Qj.bind(null,e.syncEngine),t}),Xx.apply(this,arguments)}function p1(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,c,f,_){const w=new LC({next:x=>{a.enqueueAndForget(()=>gx(i,S));const L=x.docs.has(c);!L&&x.fromCache?_.reject(new xe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&f&&"server"===f.source?_.reject(new xe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new yx(rm(c.path),w,{includeMetadataChanges:!0,Cu:!0});return fx(i,S)}(yield Cm(n),n.asyncQueue,e,t,r)})),r.promise}function g1(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,c,f,_){const w=new LC({next:x=>{a.enqueueAndForget(()=>gx(i,S)),x.fromCache&&"server"===f.source?_.reject(new xe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new yx(c,w,{includeMetadataChanges:!0,Cu:!0});return fx(i,S)}(yield Cm(n),n.asyncQueue,e,t,r)})),r.promise}const m1=new Map;function Jx(n,e,t){if(!t)throw new xe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _1(n,e,t,r){if(!0===e&&!0===r)throw new xe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function y1(n){if(!Ge.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function v1(n){if(Ge.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=BC(n);throw new xe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function b1(n,e){if(e<=0)throw new xe(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class E1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1,e instanceof ac?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new xe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(i.options.projectId)}(e))}get app(){if(!this._app)throw new xe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new S2;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new R2(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=m1.get(e);t&&(Le("ComponentProvider","Removing Datastore"),m1.delete(e),t.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class ns{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class Zl extends ns{constructor(e,t,r){super(e,t,rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Ge(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function w1(n,e,...t){if(n=(0,tn.m9)(n),Jx("collection","path",e),n instanceof Jv){const r=cn.fromString(e,...t);return v1(r),new Zl(n,null,r)}{if(!(n instanceof Hn||n instanceof Zl))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return v1(r),new Zl(n.firestore,null,r)}}function UC(n,e,...t){if(n=(0,tn.m9)(n),1===arguments.length&&(e=ZP.R()),Jx("doc","path",e),n instanceof Jv){const r=cn.fromString(e,...t);return y1(r),new Hn(n,null,new Ge(r))}{if(!(n instanceof Hn||n instanceof Zl))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return y1(r),new Hn(n.firestore,n instanceof Zl?n.converter:null,new Ge(r))}}function C1(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),(n instanceof Hn||n instanceof Zl)&&(e instanceof Hn||e instanceof Zl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function D1(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),n instanceof ns&&e instanceof ns&&n.firestore===e.firestore&&Rv(n._query,e._query)&&n.converter===e.converter}class MH{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new KM(this,"async_queue_retry"),this.qa=()=>{const t=PC();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=PC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=PC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new pi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,be.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!kf(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=hx.createAndSchedule(this,e,t,r,a=>this.ja(a));return this.Fa.push(i),i}Ka(){this.$a&&st()}verifyOperationInProgress(){}Wa(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function eR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class xH{constructor(){this._progressObserver={},this._taskCompletionResolver=new pi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wn extends Jv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new MH,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||I1(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||I1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function I1(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new L2(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new yH(n._authCredentials,n._appCheckCredentials,n._queue,r)}function T1(n,e,t){const r=new pi;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield c1(n,t),yield d1(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function S1(n){if(n._initialized||n._terminated)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yl(Xr.fromBase64String(e))}catch(t){throw new xe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yl(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jf{constructor(e){this._methodName=e}}class jC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const UH=/^__.*__$/;class jH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Rf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ov(e,this.data,t,this.fieldTransforms)}}class A1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Rf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function M1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class HC{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new HC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return zC(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(M1(this.Xa)&&UH.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class HH{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Yv(e)}ac(e,t,r,i=!1){return new HC({Xa:e,methodName:t,uc:r,path:gi.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Hf(n){const e=n._freezeSettings(),t=Yv(n._databaseId);return new HH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $C(n,e,t,r,i,a={}){const c=n.ac(a.merge||a.mergeFields?2:0,e,t,i);iR("Data must be an object, but it was:",c,r);const f=k1(r,c);let _,w;if(a.merge)_=new em(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const S=[];for(const x of a.mergeFields){const L=sR(e,x,t);if(!c.contains(L))throw new xe(he.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);P1(S,L)||S.push(L)}_=new em(S),w=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,w=c.fieldTransforms;return new jH(new ts(f),_,w)}class eb extends jf{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eb}}function x1(n,e,t){return new HC({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class tR extends jf{_toFieldTransform(e){return new kv(e.path,new sm)}isEqual(e){return e instanceof tR}}class $H extends jf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=x1(this,e,!0),r=this.cc.map(a=>$f(a,t)),i=new Mf(r);return new kv(e.path,i)}isEqual(e){return this===e}}class GH extends jf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=x1(this,e,!0),r=this.cc.map(a=>$f(a,t)),i=new xf(r);return new kv(e.path,i)}isEqual(e){return this===e}}class zH extends jf{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new om(e.M,DN(e.M,this.hc));return new kv(e.path,t)}isEqual(e){return this===e}}function nR(n,e,t,r){const i=n.ac(1,e,t);iR("Data must be an object, but it was:",i,r);const a=[],c=ts.empty();wf(r,(_,w)=>{const S=GC(e,_,t);w=(0,tn.m9)(w);const x=i.sc(S);if(w instanceof eb)a.push(S);else{const L=$f(w,x);null!=L&&(a.push(S),c.set(S,L))}});const f=new em(a);return new A1(c,f,i.fieldTransforms)}function rR(n,e,t,r,i,a){const c=n.ac(1,e,t),f=[sR(e,r,t)],_=[i];if(a.length%2!=0)throw new xe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(sR(e,a[L])),_.push(a[L+1]);const w=[],S=ts.empty();for(let L=f.length-1;L>=0;--L)if(!P1(w,f[L])){const U=f[L];let z=_[L];z=(0,tn.m9)(z);const oe=c.sc(U);if(z instanceof eb)w.push(U);else{const ke=$f(z,oe);null!=ke&&(w.push(U),S.set(U,ke))}}const x=new em(w);return new A1(S,x,c.fieldTransforms)}function R1(n,e,t,r=!1){return $f(t,n.ac(r?4:3,e))}function $f(n,e){if(O1(n=(0,tn.m9)(n)))return iR("Unsupported field value:",e,n),k1(n,e);if(n instanceof jf)return function(t,r){if(!M1(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=$f(c,r.ic(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,tn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return DN(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Cr.fromDate(t);return{timestampValue:Vv(r.M,i)}}if(t instanceof Cr){const i=new Cr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Vv(r.M,i)}}if(t instanceof jC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yl)return{bytesValue:$N(r.M,t._byteString)};if(t instanceof Hn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:EM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${BC(t)}`)}(n,e)}function k1(n,e){const t={};return XP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wf(n,(r,i)=>{const a=$f(i,e.tc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function O1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Cr||n instanceof jC||n instanceof Yl||n instanceof Hn||n instanceof jf)}function iR(n,e,t){if(!O1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=BC(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function sR(n,e,t){if((e=(0,tn.m9)(e))instanceof dc)return e._internalPath;if("string"==typeof e)return GC(n,e);throw zC("Field path arguments must be of type string or ",n,!1,void 0,t)}const qH=new RegExp("[~\\*/\\[\\]]");function GC(n,e,t){if(e.search(qH)>=0)throw zC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dc(...e.split("."))._internalPath}catch(r){throw zC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zC(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new xe(he.INVALID_ARGUMENT,f+n+_)}function P1(n,e){return n.some(t=>t.isEqual(e))}class tb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new WH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class WH extends tb{data(){return super.data()}}function qC(n,e){return"string"==typeof e?GC(n,e):e instanceof dc?e._internalPath:e._delegate._internalPath}class Gf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hc extends tb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class nb extends hc{data(e={}){return super.data(e)}}class Zd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Gf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new nb(this._firestore,this._userDataWriter,r.key,r,new Gf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new nb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Gf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new nb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Gf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:KH(c.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function N1(n,e){return n instanceof hc&&e instanceof hc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zd&&e instanceof Zd&&n._firestore===e._firestore&&D1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function F1(n){if(mC(n)&&0===n.explicitOrderBy.length)throw new xe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rb{}function Yd(n,...e){for(const t of e)n=t._apply(n);return n}class ZH extends rb{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Hf(e.firestore),r=function(i,a,c,f,_,w,S){let x;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new xe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){H1(S,w);const U=[];for(const z of S)U.push(j1(f,i,z));x={arrayValue:{values:U}}}else x=j1(f,i,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||H1(S,w),x=R1(c,"where",S,"in"===w||"not-in"===w);const L=Bi.create(_,w,x);return function(U,z){if(z.S()){const ke=pM(U);if(null!==ke&&!ke.isEqual(z.field))throw new xe(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ke.toString()}' and '${z.field.toString()}'`);const dt=fM(U);null!==dt&&$1(0,z.field,dt)}const oe=function(ke,dt){for(const mt of ke.filters)if(dt.indexOf(mt.op)>=0)return mt.op;return null}(U,function(ke){switch(ke){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==oe)throw new xe(he.INVALID_ARGUMENT,oe===z.op?`Invalid query. You cannot use more than one '${z.op.toString()}' filter.`:`Invalid query. You cannot use '${z.op.toString()}' filters with '${oe.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new ns(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new uc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class QH extends rb{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new xe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new nm(i,a);return function(f,_){if(null===fM(f)){const w=pM(f);null!==w&&$1(0,w,_.field)}}(r,c),c}(e._query,this.lc,this._c);return new ns(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new uc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class L1 extends rb{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new ns(e.firestore,e.converter,yN(e._query,this.wc,this.mc))}}class V1 extends rb{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=U1(e,this.type,this.gc,this.yc);return new ns(e.firestore,e.converter,(i=t,new uc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class B1 extends rb{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=U1(e,this.type,this.gc,this.yc);return new ns(e.firestore,e.converter,(i=t,new uc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function U1(n,e,t,r){if(t[0]=(0,tn.m9)(t[0]),t[0]instanceof tb)return function(i,a,c,f,_){if(!f)throw new xe(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const S of im(i))if(S.field.isKeyField())w.push(Tf(a,f.key));else{const x=f.data.field(S.field);if(uM(x))throw new xe(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=S.field.canonicalString();throw new xe(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}w.push(x)}return new jd(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Hf(n.firestore);return function(a,c,f,_,w,S){const x=a.explicitOrderBy;if(w.length>x.length)throw new xe(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let U=0;U<w.length;U++){const z=w[U];if(x[U].field.isKeyField()){if("string"!=typeof z)throw new xe(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof z}`);if(!gM(a)&&-1!==z.indexOf("/"))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${z}' contains a slash.`);const oe=a.path.child(cn.fromString(z));if(!Ge.isDocumentKey(oe))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${oe}' is not because it contains an odd number of segments.`);const ke=new Ge(oe);L.push(Tf(c,ke))}else{const oe=R1(f,_,z);L.push(oe)}}return new jd(L,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function j1(n,e,t){if("string"==typeof(t=(0,tn.m9)(t))){if(""===t)throw new xe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gM(e)&&-1!==t.indexOf("/"))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!Ge.isDocumentKey(r))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tf(n,new Ge(r))}if(t instanceof Hn)return Tf(n,t._key);throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${BC(t)}.`)}function H1(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $1(n,e,t){if(!t.isEqual(e))throw new xe(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class oR{convertValue(e,t="none"){switch(If(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return wf(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new jC(dr(e.latitude),dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=JP(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dv(e));default:return null}}convertTimestamp(e){const t=Bd(e);return new Cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);xt(JN(r));const i=new ac(r.get(1),r.get(3)),a=new Ge(r.popFirst(5));return i.isEqual(t)||Pr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function WC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class s$ extends oR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}class G1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hf(e)}set(e,t,r){this._verifyNotCommitted();const i=Qd(e,this._firestore),a=WC(i.converter,t,r),c=$C(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Nr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Qd(e,this._firestore);let c;return c="string"==typeof(t=(0,tn.m9)(t))||t instanceof dc?rR(this._dataReader,"WriteBatch.update",a._key,t,r,i):nR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qd(e,this._firestore);return this._mutations=this._mutations.concat(new Pv(t._key,Nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qd(n,e){if((n=(0,tn.m9)(n)).firestore!==e)throw new xe(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zf extends oR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}function z1(n,e,t){n=sn(n,Hn);const r=sn(n.firestore,Wn),i=WC(n.converter,e,t);return Dm(r,[$C(Hf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Nr.none())])}function q1(n,e,t,...r){n=sn(n,Hn);const i=sn(n.firestore,Wn),a=Hf(i);let c;return c="string"==typeof(e=(0,tn.m9)(e))||e instanceof dc?rR(a,"updateDoc",n._key,e,t,r):nR(a,"updateDoc",n._key,e),Dm(i,[c.toMutation(n._key,Nr.exists(!0))])}function W1(n,...e){var t,r,i;n=(0,tn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||eR(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(eR(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,w,S;if(n instanceof Hn)w=sn(n.firestore,Wn),S=rm(n._key.path),_={next:x=>{e[c]&&e[c](aR(w,n,x))},error:e[c+1],complete:e[c+2]};else{const x=sn(n,ns);w=sn(x.firestore,Wn),S=x._query;const L=new zf(w);_={next:U=>{e[c]&&e[c](new Zd(w,L,x,U))},error:e[c+1],complete:e[c+2]},F1(n._query)}return function(x,L,U,z){const oe=new LC(z),ke=new yx(L,oe,U);return x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return fx(yield Cm(x),ke)})),()=>{oe.Ia(),x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return gx(yield Cm(x),ke)}))}}(Lr(w),S,f,_)}function Dm(n,e){return function(t,r){const i=new pi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Xj(n,e,t){return Cx.apply(this,arguments)}(yield Qx(t),r,i)})),i.promise}(Lr(n),e)}function aR(n,e,t){const r=t.docs.get(e._key),i=new zf(n);return new hc(n,i,e._key,r,new Gf(t.hasPendingWrites,t.fromCache),e.converter)}class g$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hf(e)}get(e){const t=Qd(e,this._firestore),r=new s$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const a=i[0];if(a.isFoundDocument())return new tb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new tb(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=Qd(e,this._firestore),a=WC(i.converter,t,r),c=$C(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Qd(e,this._firestore);let c;return c="string"==typeof(t=(0,tn.m9)(t))||t instanceof dc?rR(this._dataReader,"Transaction.update",a._key,t,r,i):nR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Qd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qd(e,this._firestore),r=new zf(this._firestore);return super.get(e).then(i=>new hc(this._firestore,r,t._key,i._document,new Gf(!1,!1),t.converter))}}function lR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Z1(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function Y1(){if(!function N2(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Xg=mf.SDK_VERSION,(0,mf._registerComponent)(new Lw.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Wn(i,new M2(t.getProvider("auth-internal")),new k2(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,mf.registerVersion)(qP,"3.4.8",n),(0,mf.registerVersion)(qP,"3.4.8","esm2017")}();class ib{constructor(e){this._delegate=e}static fromBase64String(e){return Y1(),new ib(Yl.fromBase64String(e))}static fromUint8Array(e){return Z1(),new ib(Yl.fromUint8Array(e))}toBase64(){return Y1(),this._delegate.toBase64()}toUint8Array(){return Z1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uR(n){return function D$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class I${enableIndexedDbPersistence(e,t){return function kH(n,e){S1(n=sn(n,Wn));const t=Lr(n),r=n._freezeSettings(),i=new Gx;return T1(t,i,new l1(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function OH(n){S1(n=sn(n,Wn));const e=Lr(n),t=n._freezeSettings(),r=new Gx;return T1(e,r,new pH(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function PH(n){if(n._initialized&&!n._terminated)throw new xe(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!Ga.vt())return Promise.resolve();const i=r+"main";yield Ga.delete(i)}),function(r){return t.apply(this,arguments)})(FM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Q1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ac||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&wv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function SH(n,e,t,r={}){var i;const a=(n=sn(n,Jv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&wv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Vi.MOCK_USER;else{c=(0,tn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new xe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vi(_)}n._authCredentials=new A2(new WP(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function FH(n){return function vH(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield h1(n),t=yield f1(n);return e.setNetworkEnabled(!0),function(r){const i=Ke(r);return i.fu.delete(0),Qv(i)}(t)}))}(Lr(n=sn(n,Wn)))}(this._delegate)}disableNetwork(){return function LH(n){return function bH(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield h1(n),t=yield f1(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(i){const a=Ke(i);a.fu.add(0),yield mm(a),a.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Lr(n=sn(n,Wn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,_1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function NH(n){return function(e){const t=new pi;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function nH(n,e){return Ax.apply(this,arguments)}(yield Qx(e),t)})),t.promise}(Lr(n=sn(n,Wn)))}(this._delegate)}onSnapshotsInSync(e){return function p$(n,e){return function CH(n,e){const t=new LC(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Cm(n),i=t,Ke(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Cm(n),i=t,void Ke(r).Eu.delete(i);var r,i}))}}(Lr(n=sn(n,Wn)),eR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Im(this,w1(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new la(this,UC(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function AH(n,e){if(n=sn(n,Jv),Jx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ns(n,null,(t=e,new uc(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function m$(n,e){return function DH(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const r=yield(i=n,VC(i).then(a=>a.datastore));var i;new _H(n.asyncQueue,r,e,t).run()})),t.promise}(Lr(n=sn(n,Wn)),t=>e(new g$(n,t)))}(this._delegate,t=>e(new X1(this,t)))}batch(){return Lr(this._delegate),new J1(new G1(this._delegate,e=>Dm(this._delegate,e)))}loadBundle(e){return function VH(n,e){const t=Lr(n=sn(n,Wn)),r=new xH;return function IH(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return u1(_,w);if(_ instanceof ArrayBuffer)return u1(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new gH(_,c);var _}(t,Yv(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function fH(n,e,t){const r=Ke(n);var i;(i=(0,be.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(L,U){const z=Ke(L),oe=mi(U.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",ke=>z._s.getBundleMetadata(ke,U.id)).then(ke=>!!ke&&ke.createTime.compareTo(oe)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(QF(_));const w=new qj(_,a.localStore,c.M);let S=yield c.da();for(;S;){const L=yield w.ku(S);L&&f._updateProgress(L),S=yield c.da()}const x=yield w.complete();return yield cc(a,x.Fu,void 0),yield function(L,U){const z=Ke(L);return z.persistence.runTransaction("Save bundle","readwrite",oe=>z._s.saveBundleMetadata(oe,U))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.Ou)}catch(_){return wv("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Qx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function BH(n,e){return function TH(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const i=Ke(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield Yx(n),e)}))}(Lr(n=sn(n,Wn)),e).then(t=>t?new ns(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class KC extends oR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ib(new Yl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return la.forKey(t,this.firestore,null)}}class X1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new KC(e)}get(e){const t=Wf(e);return this._delegate.get(t).then(r=>new sb(this._firestore,new hc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Wf(e);return r?(lR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Wf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Wf(e);return this._delegate.delete(t),this}}class J1{constructor(e){this._delegate=e}set(e,t,r){const i=Wf(e);return r?(lR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Wf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Wf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new nb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ob(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=qf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new qf(e,new KC(e),t),i.set(t,a)),a}}qf.INSTANCES=new WeakMap;class la{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new KC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new la(t,new Hn(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new la(t,new Hn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Im(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Im(this.firestore,w1(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tn.m9)(e))instanceof Hn&&C1(this._delegate,e)}set(e,t){t=lR("DocumentReference.set",t);try{return t?z1(this._delegate,e,t):z1(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?q1(this._delegate,e):q1(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function h$(n){return Dm(sn(n.firestore,Wn),[new Pv(n._key,Nr.none())])}(this._delegate)}onSnapshot(...e){const t=eL(e),r=tL(e,i=>new sb(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return W1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function a$(n){n=sn(n,Hn);const e=sn(n.firestore,Wn),t=Lr(e),r=new zf(e);return function EH(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,c){try{const f=yield function(_,w){const S=Ke(_);return S.persistence.runTransaction("read document","readonly",x=>S.ci.Ls(x,w))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new xe(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=vm(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield Yx(n),e,t);var r})),t.promise}(t,n._key).then(i=>new hc(e,r,n._key,i,new Gf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function l$(n){n=sn(n,Hn);const e=sn(n.firestore,Wn);return p1(Lr(e),n._key,{source:"server"}).then(t=>aR(e,n,t))}(this._delegate):function o$(n){n=sn(n,Hn);const e=sn(n.firestore,Wn);return p1(Lr(e),n._key).then(t=>aR(e,n,t))}(this._delegate),t.then(r=>new sb(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new la(this.firestore,this._delegate.withConverter(e?qf.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function eL(n){for(const e of n)if("object"==typeof e&&!uR(e))return e;return{}}function tL(n,e){var t,r;let i;return i=uR(n[0])?n[0]:uR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class sb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return N1(this._delegate,e._delegate)}}class ob extends sb{data(e){const t=this._delegate.data(e);return function T2(n,e){n||st()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new KC(e)}where(e,t,r){try{return new xs(this.firestore,Yd(this._delegate,function YH(n,e,t){const r=e,i=qC("where",n);return new ZH(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,Yd(this._delegate,function XH(n,e="asc"){const t=e,r=qC("orderBy",n);return new QH(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,Yd(this._delegate,function JH(n){return b1("limit",n),new L1("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,Yd(this._delegate,function e$(n){return b1("limitToLast",n),new L1("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,Yd(this._delegate,function t$(...n){return new V1("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,Yd(this._delegate,function n$(...n){return new V1("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,Yd(this._delegate,function r$(...n){return new B1("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,Yd(this._delegate,function i$(...n){return new B1("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return D1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function c$(n){n=sn(n,ns);const e=sn(n.firestore,Wn),t=Lr(e),r=new zf(e);return function wH(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,c){try{const f=yield RC(i,a,!0),_=new e1(a,f.li),w=_.Gu(f.documents),S=_.applyChanges(w,!1);c.resolve(S.snapshot)}catch(f){const _=vm(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield Yx(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Zd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function d$(n){n=sn(n,ns);const e=sn(n.firestore,Wn),t=Lr(e),r=new zf(e);return g1(t,n._query,{source:"server"}).then(i=>new Zd(e,r,n,i))}(this._delegate):function u$(n){n=sn(n,ns);const e=sn(n.firestore,Wn),t=Lr(e),r=new zf(e);return F1(n._query),g1(t,n._query).then(i=>new Zd(e,r,n,i))}(this._delegate),t.then(r=>new cR(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=eL(e),r=tL(e,i=>new cR(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return W1(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?qf.getInstance(this.firestore,e):null))}}class S${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ob(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ob(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new S$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ob(this._firestore,r))})}isEqual(e){return N1(this._delegate,e._delegate)}}class Im extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new la(this.firestore,e):null}doc(e){try{return new la(this.firestore,void 0===e?UC(this._delegate):UC(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function f$(n,e){const t=sn(n.firestore,Wn),r=UC(n),i=WC(n.converter,e);return Dm(t,[$C(Hf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new la(this.firestore,t))}isEqual(e){return C1(this._delegate,e._delegate)}withConverter(e){return new Im(this.firestore,this._delegate.withConverter(e?qf.getInstance(this.firestore,e):null))}}function Wf(n){return sn(n,Hn)}class dR{constructor(...e){this._delegate=new dc(...e)}static documentId(){return new dR(gi.keyField().canonicalString())}isEqual(e){return(e=(0,tn.m9)(e))instanceof dc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Kf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function y$(){return new tR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Kf(e)}static delete(){const e=function _$(){return new eb("deleteField")}();return e._methodName="FieldValue.delete",new Kf(e)}static arrayUnion(...e){const t=function v$(...n){return new $H("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Kf(t)}static arrayRemove(...e){const t=function b$(...n){return new GH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Kf(t)}static increment(e){const t=function E$(n){return new zH("increment",n)}(e);return t._methodName="FieldValue.increment",new Kf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const A$={Firestore:Q1,GeoPoint:jC,Timestamp:Cr,Blob:ib,Transaction:X1,WriteBatch:J1,DocumentReference:la,DocumentSnapshot:sb,Query:xs,QueryDocumentSnapshot:ob,QuerySnapshot:cR,CollectionReference:Im,FieldPath:dR,FieldValue:Kf,setLogLevel:function T$(n){!function I2(n){Vd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function x$(n){(function M$(n,e){n.INTERNAL.registerComponent(new Lw.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},A$)))})(n,(e,t)=>new Q1(e,t,new I$)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(mB.Z);var ZC=P(5363),R$=P(6063);class k$ extends g.x{constructor(e=1/0,t=1/0,r=R$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var nL=P(3099);function rL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,nL.B)({connector:()=>new k$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function iL(n,e){return(0,Cs.m)(e)?Oi(()=>n,e):Oi(()=>n)}var hR=P(9468);P(5867);const oL=new Map,L$={activated:!1,tokenObservers:[]},V$={initialized:!1,enabled:!1};function vi(n){return oL.get(n)||L$}function za(n,e){oL.set(n,e)}function QC(){return V$}class $${constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new tn.BH,yield function G$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new tn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Rs=new tn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function lL(n){if(!vi(n).activated)throw Rs.create("use-before-activation",{appName:n.name})}function mR(n,e){return _R.apply(this,arguments)}function _R(){return _R=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(x){throw Rs.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==c.status)throw Rs.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(x){throw Rs.create("fetch-parse-error",{originalErrorMessage:x.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Rs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),S=Date.now();return{token:f.token,expireTimeMillis:S+w,issuedAtTimeMillis:S}}),_R.apply(this,arguments)}function Z$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ab="firebase-app-check-store";let eD=null;function cL(){return eD||(eD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Rs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ab,{keyPath:"compositeKey"})}}catch(t){e(Rs.create("storage-open",{originalErrorMessage:t.message}))}}),eD)}function yR(){return yR=(0,be.Z)(function*(n,e){const r=(yield cL()).transaction(ab,"readwrite"),a=r.objectStore(ab).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var w;f(Rs.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),yR.apply(this,arguments)}const lb=new Nd.Yd("@firebase/app-check");function pL(n,e){return(0,tn.hl)()?function J$(n,e){return function dL(n,e){return yR.apply(this,arguments)}(function fL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{lb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function gL(){return QC().enabled}function mL(){return wR.apply(this,arguments)}function wR(){return wR=(0,be.Z)(function*(){const n=QC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),wR.apply(this,arguments)}const sG={error:"UNKNOWN_ERROR"};function oG(n){return tn.US.encodeString(JSON.stringify(n),!1)}function tD(n){return CR.apply(this,arguments)}function CR(){return CR=(0,be.Z)(function*(n,e=!1){const t=n.app;lL(t);const r=vi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&nD(_)&&(i=_)}if(!e&&i&&nD(i))return{token:i.token};let f,c=!1;if(gL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=mR(Z$(t,yield mL()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),c=!0);const _=yield r.exchangeTokenPromise;return yield pL(t,_),za(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?lb.warn(_.message):lb.error(_),a=_}return i?(f={token:i.token},za(t,Object.assign(Object.assign({},r),{token:i})),yield pL(t,i)):f=lG(a),c&&yL(t,f),f}),CR.apply(this,arguments)}function IR(n,e){const t=vi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),za(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function _L(n){const{app:e}=n,t=vi(e);let r=t.tokenRefresher;r||(r=function aG(n){const{app:e}=n;return new $$((0,be.Z)(function*(){let r;if(r=vi(e).token?yield tD(n,!0):yield tD(n),r.error)throw r.error}),()=>!0,()=>{const t=vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),za(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function yL(n,e){const t=vi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function nD(n){return n.expireTimeMillis-Date.now()>0}function lG(n){return{token:oG(sG),error:n}}class uG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=vi(this.app);for(const t of e)IR(this.app,t.next);return Promise.resolve()}}const TL="app-check-internal";!function CG(){(0,mf._registerComponent)(new Lw.wA("app-check",n=>function cG(n,e){return new uG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TL).initialize()})),(0,mf._registerComponent)(new Lw.wA(TL,n=>function dG(n){return{getToken:e=>tD(n,e),addTokenListener:e=>function DR(n,e,t,r){const{app:i}=n,a=vi(i),c={next:t,error:r,type:e};if(za(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&nD(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),_L(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>_L(n))}(n,"INTERNAL",e),removeTokenListener:e=>IR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mf.registerVersion)("@firebase/app-check","0.5.7")}();class MR{constructor(){return(0,Ji.vb)("app-check")}}"undefined"!=typeof window&&window,P(127);const AL=new d.OlP("angularfire2.auth.use-emulator"),ML=new d.OlP("angularfire2.auth.settings"),xL=new d.OlP("angularfire2.auth.tenant-id"),RL=new d.OlP("angularfire2.auth.langugage-code"),kL=new d.OlP("angularfire2.auth.use-device-language"),OL=new d.OlP("angularfire.auth.persistence"),PL=(n,e,t,r,i,a,c,f)=>(0,$a.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[w,S]of Object.entries(c))_.settings[w]=S;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let NL=(()=>{class n{constructor(t,r,i,a,c,f,_,w,S,x,L,U){const z=new g.x,oe=T(void 0).pipe((0,ZC.Q)(c.outsideAngular),Oi(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,820)))),(0,gt.U)(()=>(0,$a.on)(t,a,r)),(0,gt.U)(ke=>PL(ke,a,f,w,S,x,_,L)),rL({bufferSize:1,refCount:!1}));if(ar(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=T(null);else{oe.pipe(Va()).subscribe();const dt=oe.pipe(Oi(at=>at.getRedirectResult().then(Ft=>Ft,()=>null)),Ji.iC,rL({bufferSize:1,refCount:!1})),mt=oe.pipe(Oi(at=>new Ln.y(Ft=>({unsubscribe:a.runOutsideAngular(()=>at.onAuthStateChanged($t=>Ft.next($t),$t=>Ft.error($t),()=>Ft.complete()))})))),Et=oe.pipe(Oi(at=>new Ln.y(Ft=>({unsubscribe:a.runOutsideAngular(()=>at.onIdTokenChanged($t=>Ft.next($t),$t=>Ft.error($t),()=>Ft.complete()))}))));this.authState=dt.pipe(iL(mt),(0,hR.R)(c.outsideAngular),(0,ZC.Q)(c.insideAngular)),this.user=dt.pipe(iL(Et),(0,hR.R)(c.outsideAngular),(0,ZC.Q)(c.insideAngular)),this.idToken=this.user.pipe(Oi(at=>at?(0,gn.D)(at.getIdToken()):T(null))),this.idTokenResult=this.user.pipe(Oi(at=>at?(0,gn.D)(at.getIdTokenResult()):T(null))),this.credential=(0,Q_.T)(dt,z,this.authState.pipe(Zr(at=>!at))).pipe((0,gt.U)(at=>(null==at?void 0:at.user)?at:null),(0,hR.R)(c.outsideAngular),(0,ZC.Q)(c.insideAngular))}return(0,$a.pX)(this,oe,a,{spy:{apply:(ke,dt,mt)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&mt.then(Et=>z.next(Et))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($a.Dh),d.LFG($a.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ji.HU),d.LFG(AL,8),d.LFG(ML,8),d.LFG(xL,8),d.LFG(RL,8),d.LFG(kL,8),d.LFG(OL,8),d.LFG(MR,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function FL(n,e){return function MG(n,e=Gh.z){return new Ln.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function RR(n,e){return FL(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function iD(n,e){return RR(n,e).pipe(Hl(void 0),gA(),(0,gt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(S=>S.doc.ref.isEqual(c.ref)),w=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function LL(n,e,t){return iD(n,t).pipe(Dd((r,i)=>function RG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function kG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return kR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return kR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),Bp(),(0,gt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function kR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function VL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class BL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=iD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Hl(void 0),gA(),Zr(([r,i])=>i.length>0||!r),(0,gt.U)(([r,i])=>i),Ji.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VL(e);return LL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return RR(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ji.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(Ji.iC)}add(e){return this.ref.add(e)}doc(e){return new UL(this.ref.doc(e),this.afs)}}class UL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=jL(r,t);return new BL(i,a,this.afs)}snapshotChanges(){return function xG(n,e){return FL(n,e).pipe(Hl(void 0),gA(),(0,gt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,gn.D)(this.ref.get(e)).pipe(Ji.iC)}}class OG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?iD(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Zr(t=>t.length>0),Ji.iC):iD(this.query,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VL(e);return LL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return RR(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ji.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(Ji.iC)}}const PG=new d.OlP("angularfire2.enableFirestorePersistence"),NG=new d.OlP("angularfire2.firestore.persistenceSettings"),FG=new d.OlP("angularfire2.firestore.settings"),LG=new d.OlP("angularfire2.firestore.use-emulator");function jL(n,e=(t=>t)){return{query:e(n),ref:n}}let HL=(()=>{class n{constructor(t,r,i,a,c,f,_,w,S,x,L,U,z,oe,ke,dt,mt){this.schedulers=_;const Et=(0,$a.on)(t,f,r),at=S;x&&PL(Et,f,L,z,oe,ke,U,dt),[this.firestore,this.persistenceEnabled$]=(0,$a.cc)(`${Et.name}.firestore`,"AngularFirestore",Et.name,()=>{const Ft=f.runOutsideAngular(()=>Et.firestore());if(a&&Ft.settings(a),at&&Ft.useEmulator(...at),i&&!ar(c)){const $t=()=>{try{return(0,gn.D)(Ft.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(_n){return"undefined"!=typeof console&&console.warn(_n),T(!1)}};return[Ft,f.runOutsideAngular($t)]}return[Ft,T(!1)]},[a,at,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=jL(i,r),f=this.schedulers.ngZone.run(()=>a);return new BL(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new OG(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new UL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($a.Dh),d.LFG($a.xv,8),d.LFG(PG,8),d.LFG(FG,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ji.HU),d.LFG(NG,8),d.LFG(LG,8),d.LFG(NL,8),d.LFG(AL,8),d.LFG(ML,8),d.LFG(xL,8),d.LFG(RL,8),d.LFG(kL,8),d.LFG(OL,8),d.LFG(MR,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VG=(()=>{class n{constructor(){this.image="../assets/profile_pic_1.webp"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-player"]],inputs:{name:"name",playerActive:"playerActive",image:"image"},decls:4,vars:4,consts:[[1,"player"],["alt","",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"img",1),d.TgZ(2,"span"),d._uU(3),d.qZA()()),2&t&&(d.ekj("player-active",r.playerActive),d.xp6(1),d.s9C("src",r.image,d.LSH),d.xp6(2),d.Oqu(r.name))},styles:[".player[_ngcontent-%COMP%]{overflow:hidden;width:300px;display:flex;align-items:center;background-color:#d3d3d3;border-radius:50px 0 0 50px}.player[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;margin-left:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.player[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:50px;height:50px;border-radius:100%}.player-active[_ngcontent-%COMP%]{background-color:orange!important}"]}),n})(),BG=(()=>{class n{constructor(){this.image="../assets/profile_pic_1.webp"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-player-mobile"]],inputs:{name:"name",playerActive:"playerActive",image:"image"},decls:4,vars:4,consts:[[1,"player"],["alt","",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"span"),d._uU(2),d.qZA(),d._UZ(3,"img",1),d.qZA()),2&t&&(d.ekj("player-active",r.playerActive),d.xp6(2),d.Oqu(r.name),d.xp6(1),d.s9C("src",r.image,d.LSH))},styles:[".player[_ngcontent-%COMP%]{width:100px;display:flex;flex-direction:column;align-items:center;background-color:#d3d3d3;border-radius:0 0 50px 50px}.player[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.player[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:16px;object-fit:cover;max-width:50px;max-height:50px;border-radius:100%}.player-active[_ngcontent-%COMP%]{background-color:orange!important}"]}),n})();const UG=["*",[["mat-card-footer"]]],jG=["*","mat-card-footer"];let HG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),$G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),GG=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(hi,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:jG,decls:2,vars:0,template:function(t,r){1&t&&(d.F$t(UG),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),zG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ws],ws]}),n})(),qG=(()=>{class n{constructor(){this.cardAction=[{title:"Waterfall",description:"Everyone has to start drinking at the same time. As soon as player 1 stops drinking, player 2 may stop drinking. Player 3 may stop as soon as player 2 stops drinking, and so on."},{title:"You",description:"You decide who drinks"},{title:"Me",description:"Congrats! Drink a shot!"},{title:"Category",description:"Come up with a category (e.g. Colors). Each player must enumerate one item from the category."},{title:"Bust a jive",description:"Player 1 makes a dance move. Player 2 repeats the dance move and adds a second one. "},{title:"Chicks",description:"All girls drink."},{title:"Heaven",description:"Put your hands up! The last player drinks!"},{title:"Mate",description:"Pick a mate. Your mate must always drink when you drink and the other way around."},{title:"Thumbmaster",description:"When you put your thumb on the table, everyone must follow. The last person to put their thumb down, drinks."},{title:"Men",description:"All men drink."},{title:"Quizmaster",description:"You become the question master, and if anybody answers a question asked by you (the player who drew the card), they have to drink."},{title:"Never have i ever...",description:"Say something you nnever did. Everyone who did it has to drink."},{title:"Rule",description:"Make a rule. Everyone needs to drink when he breaks the rule."}],this.title="",this.description=""}ngOnInit(){}ngOnChanges(){if(this.card){let t=+this.card.split("_")[1];this.title=this.cardAction[t-1].title,this.description=this.cardAction[t-1].description}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-game-info"]],inputs:{card:"card"},features:[d.TTD],decls:5,vars:2,template:function(t,r){1&t&&(d.TgZ(0,"mat-card")(1,"mat-card-title"),d._uU(2),d.qZA(),d.TgZ(3,"mat-card-content"),d._uU(4),d.qZA()()),2&t&&(d.xp6(2),d.Oqu(r.card?r.title:"Please pick a card"),d.xp6(2),d.hij(" ",r.card?r.description:"Please click on the card stack to select the next card."," "))},directives:[GG,$G,HG],styles:["@media (max-width: 720px){.mat-card[_ngcontent-%COMP%]{min-height:120px}}"]}),n})();class WG{}class Xd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class KG{encodeKey(e){return $L(e)}encodeValue(e){return $L(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const YG=/%(\d[a-f0-9])/gi,QG={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $L(n){return encodeURIComponent(n).replace(YG,(e,t)=>{var r;return null!==(r=QG[t])&&void 0!==r?r:e})}function GL(n){return`${n}`}class Jd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new KG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ZG(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(c)||[];_.push(f),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(GL(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(GL(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class XG{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function zL(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function qL(n){return"undefined"!=typeof Blob&&n instanceof Blob}function WL(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ub{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function JG(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Xd),this.context||(this.context=new XG),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new Jd,this.urlWithParams=t}serializeBody(){return null===this.body?null:zL(this.body)||qL(this.body)||WL(this.body)||function e3(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WL(this.body)?null:qL(this.body)?this.body.type||null:zL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,S=e.params||this.params;const x=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((L,U)=>L.set(U,e.setHeaders[U]),w)),e.setParams&&(S=Object.keys(e.setParams).reduce((L,U)=>L.set(U,e.setParams[U]),S)),new ub(r,i,c,{params:S,headers:w,context:x,reportProgress:_,responseType:a,withCredentials:f})}}var ji=(()=>((ji=ji||{})[ji.Sent=0]="Sent",ji[ji.UploadProgress=1]="UploadProgress",ji[ji.ResponseHeader=2]="ResponseHeader",ji[ji.DownloadProgress=3]="DownloadProgress",ji[ji.Response=4]="Response",ji[ji.User=5]="User",ji))();class OR extends class t3{constructor(e,t=200,r="OK"){this.headers=e.headers||new Xd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=ji.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new OR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function PR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ZL=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof ub)a=t;else{let _,w;_=i.headers instanceof Xd?i.headers:new Xd(i.headers),i.params&&(w=i.params instanceof Jd?i.params:new Jd({fromObject:i.params})),a=new ub(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=T(a).pipe(Id(_=>this.handler.handle(_)));if(t instanceof ub||"events"===i.observe)return c;const f=c.pipe(Zr(_=>_ instanceof OR));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,gt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,gt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,gt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,gt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,PR(i,r))}post(t,r,i={}){return this.request("POST",t,PR(i,r))}put(t,r,i={}){return this.request("PUT",t,PR(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(WG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const r3=["*"];let sD;function cb(n){var e;return(null===(e=function s3(){if(void 0===sD&&(sD=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(sD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return sD}())||void 0===e?void 0:e.createHTML(n))||n}function YL(n){return Error(`Unable to find icon with the name "${n}"`)}function QL(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function XL(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Zf{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let oD=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new Zf(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const c=this._sanitizer.sanitize(d.q3G.HTML,i);if(!c)throw XL(i);const f=cb(c);return this._addSvgIconConfig(t,r,new Zf("",f,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Zf(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(d.q3G.HTML,r);if(!a)throw XL(r);const c=cb(a);return this._addSvgIconSetConfig(t,new Zf("",c,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!r)throw QL(t);const i=this._cachedIconsByUrl.get(r);return i?T(aD(i)):this._loadSvgIconFromConfig(new Zf(t,null)).pipe((0,Yr.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,gt.U)(a=>aD(a)))}getNamedSvgIcon(t,r=""){const i=JL(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(t,c):Qh(YL(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?T(aD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gt.U)(r=>aD(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?T(i):Nc(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(La(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,c.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),T(null)})))).pipe((0,gt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,r);if(!c)throw YL(t);return c}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(c,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Yr.b)(r=>t.svgText=r),(0,gt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?T(null):this._fetchIcon(t).pipe((0,Yr.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const c=a.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const f=this._svgElementFromString(cb("<svg></svg>"));return f.appendChild(c),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(cb("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:c,value:f}=i[a];"id"!==c&&r.setAttribute(c,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:a}=t,c=null!==(r=null==a?void 0:a.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function o3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const f=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!f)throw QL(i);const _=this._inProgressUrlFetches.get(f);if(_)return _;const w=this._httpClient.get(f,{responseType:"text",withCredentials:c}).pipe((0,gt.U)(S=>cb(S)),yg(()=>this._inProgressUrlFetches.delete(f)),(0,nL.B)());return this._inProgressUrlFetches.set(f,w),w}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(JL(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return l3(a)?new Zf(a.url,null,a.options):new Zf(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ZL,8),d.LFG(qi),d.LFG(ee,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aD(n){return n.cloneNode(!0)}function JL(n,e){return n+":"+e}function l3(n){return!(!n.url||!n.options)}const u3=hg(class{constructor(n){this._elementRef=n}}),c3=new d.OlP("mat-icon-location",{providedIn:"root",factory:function d3(){const n=(0,d.f3M)(ee),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),eV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],h3=eV.map(n=>`[${n}]`).join(", "),f3=/^url\(['"]?#(.*?)['"]?\)$/;let p3=(()=>{class n extends u3{constructor(t,r,i,a,c){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=c,this._inline=!1,this._currentIconFetch=Cd.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Go(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(c=>{a.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(h3),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)eV.forEach(c=>{const f=r[a],_=f.getAttribute(c),w=_?_.match(f3):null;if(w){let S=i.get(f);S||(S=[],i.set(f,S)),S.push({name:c,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe((0,io.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(oD),d.$8M("aria-hidden"),d.Y36(c3),d.Y36(d.qLn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:r3,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ws],ws]}),n})();const m3=function(n){return{"top.px":n}};function _3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-player",8),d.NdJ("click",function(){const a=d.CHM(t).index;return d.oxw().editPlayer(a)}),d.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=d.oxw();d.Q6J("ngStyle",d.VKq(4,m3,20+60*r))("playerActive",r==i.game.currentPlayer)("image",i.game.player_images[r])("name",t)}}function y3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-player-mobile",9),d.NdJ("click",function(){const a=d.CHM(t).index;return d.oxw().editPlayer(a)}),d.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=d.oxw();d.Q6J("playerActive",r==i.game.currentPlayer)("image",i.game.player_images[r])("name",t)}}function v3(n,e){1&n&&(d.TgZ(0,"div",10),d._UZ(1,"img",11),d.qZA())}const b3=function(n){return{"right.px":n}};function E3(n,e){1&n&&d._UZ(0,"img",18),2&n&&d.Q6J("ngStyle",d.VKq(1,b3,5*e.index))}function w3(n,e){1&n&&d._UZ(0,"img",19),2&n&&d.MGl("src","../assets/cards/",e.$implicit,".png",d.LSH)}function C3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"img",20),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).takeCard()}),d.qZA()}if(2&n){const t=d.oxw(2);d.ekj("pick-card",t.game.pickCardAnimation),d.MGl("src","../assets/cards/",t.game.currentCard,".png",d.LSH)}}const D3=function(){return[0,1,2,3]};function I3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",12)(1,"div",13),d.YNc(2,E3,1,3,"img",14),d.TgZ(3,"img",15),d.NdJ("click",function(){return d.CHM(t),d.oxw().takeCard()}),d.qZA(),d._uU(4,"> "),d.YNc(5,w3,1,1,"img",16),d.YNc(6,C3,1,3,"img",17),d.qZA()()}if(2&n){const t=d.oxw();d.xp6(2),d.Q6J("ngForOf",d.DdM(3,D3)),d.xp6(3),d.Q6J("ngForOf",t.game.playedCards),d.xp6(1),d.Q6J("ngIf",t.game.pickCardAnimation)}}function T3(n,e){if(1&n&&d._UZ(0,"app-game-info",21),2&n){const t=d.oxw();d.Q6J("card",t.game.currentCard)}}function S3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",22),d.NdJ("click",function(){return d.CHM(t),d.oxw().openDialog()}),d.TgZ(1,"mat-icon"),d._uU(2,"add"),d.qZA()()}}const A3=[{path:"",component:(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}ngOnInit(){}newGame(){let t=new Sw;this.firestore.collection("games").add(t.toJson()).then(r=>{this.router.navigateByUrl("/game/"+r.id)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(HL),d.Y36(Xi))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-start-screen"]],decls:4,vars:0,consts:[[1,"start-screen"],["src","../assets/startbox.png","alt",""],[1,"start-label-box"],["src","../assets/startlabel.png","alt","",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"img",1),d.TgZ(2,"div",2)(3,"img",3),d.NdJ("click",function(){return r.newGame()}),d.qZA()()())},styles:[".start-screen[_ngcontent-%COMP%]{background-color:#404040;width:100vw;height:100vh;max-width:100%;display:flex;justify-content:center;align-items:center}@media (max-width: 960px){.start-screen[_ngcontent-%COMP%]{overflow:hidden}}.start-screen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100vh}.start-label-box[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:150px;display:flex;justify-content:center}.start-label-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25vw;height:auto}@media (max-width: 1250px){.start-label-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px}}@media (max-width: 500px){.start-label-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}}.start-label-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{filter:brightness(1.25);cursor:pointer}"]}),n})()},{path:"game/:id",component:(()=>{class n{constructor(t,r,i){this.route=t,this.firestore=r,this.dialog=i,this.gameOver=!1}ngOnInit(){this.newGame(),this.route.params.subscribe(t=>{this.gameId=t.id,this.firestore.collection("games").doc(this.gameId).valueChanges().subscribe(r=>{console.log("Game update",r),this.game.currentPlayer=r.currentPlayer,this.game.playedCards=r.playedCards,this.game.players=r.players,this.game.player_images=r.player_images,this.game.stack=r.stack,this.game.pickCardAnimation=r.pickCardAnimation,this.game.currentCard=r.currentCard})})}newGame(){this.game=new Sw}takeCard(){0==this.game.stack.length?this.gameOver=!0:this.game.players.length<=1?alert("Please add at least two Players"):!this.game.pickCardAnimation&&this.game.players.length>1&&(this.game.currentCard=this.game.stack.pop(),this.game.pickCardAnimation=!0,this.game.currentPlayer++,this.game.currentPlayer=this.game.currentPlayer%this.game.players.length,this.saveGame(),setTimeout(()=>{this.game.playedCards.push(this.game.currentCard),this.game.pickCardAnimation=!1,this.saveGame()},1e3))}editPlayer(t){console.log("Edit player",t),this.dialog.open(gB).afterClosed().subscribe(i=>{console.log("Received change",i),i&&("DELETE"==i?(this.game.players.splice(t,1),this.game.player_images.splice(t,1)):this.game.player_images[t]=i,this.saveGame())})}openDialog(){this.dialog.open(fB).afterClosed().subscribe(r=>{r&&r.length>0&&(this.game.players.push(r),this.game.player_images.push("../assets/profile_pic_1.webp"),this.saveGame())})}saveGame(){this.firestore.collection("games").doc(this.gameId).update(this.game.toJson())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(xo),d.Y36(HL),d.Y36(Fw))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-game"]],decls:9,vars:7,consts:[["class","player-position hide-mobile",3,"ngStyle","playerActive","image","name","click",4,"ngFor","ngForOf"],[1,"scroll-container","hide-desktop"],["class","hide-desktop",3,"playerActive","image","name","click",4,"ngFor","ngForOf"],["class","game-over",4,"ngIf"],["class","field",4,"ngIf"],["class","pin-bottom",3,"card",4,"ngIf"],["mat-fab","","color","primary","class","btn-add",3,"click",4,"ngIf"],[1,"preloadImage",3,"src"],[1,"player-position","hide-mobile",3,"ngStyle","playerActive","image","name","click"],[1,"hide-desktop",3,"playerActive","image","name","click"],[1,"game-over"],["src","../assets/game_over.png","alt",""],[1,"field"],[1,"card-stack"],["src","/assets/card_cover.png",3,"ngStyle",4,"ngFor","ngForOf"],["src","/assets/card_cover.png",1,"top-card",2,"right","25px",3,"click"],["class","played-card","alt","",3,"src",4,"ngFor","ngForOf"],["class","pick-card","style","right: 25px",3,"pick-card","src","click",4,"ngIf"],["src","/assets/card_cover.png",3,"ngStyle"],["alt","",1,"played-card",3,"src"],[1,"pick-card",2,"right","25px",3,"src","click"],[1,"pin-bottom",3,"card"],["mat-fab","","color","primary",1,"btn-add",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div"),d.YNc(1,_3,1,6,"app-player",0),d.TgZ(2,"div",1),d.YNc(3,y3,1,3,"app-player-mobile",2),d.qZA(),d.YNc(4,v3,2,0,"div",3),d.YNc(5,I3,7,4,"div",4),d.YNc(6,T3,1,1,"app-game-info",5),d.YNc(7,S3,3,0,"button",6),d.qZA(),d._UZ(8,"img",7)),2&t&&(d.xp6(1),d.Q6J("ngForOf",r.game.players),d.xp6(2),d.Q6J("ngForOf",r.game.players),d.xp6(1),d.Q6J("ngIf",r.gameOver),d.xp6(1),d.Q6J("ngIf",!r.gameOver),d.xp6(1),d.Q6J("ngIf",!r.gameOver),d.xp6(1),d.Q6J("ngIf",!r.gameOver),d.xp6(1),d.MGl("src","../assets/cards/",r.game.stack[r.game.stack.length-1],".png",d.LSH))},directives:[Xn,VG,mc,BG,Br,qG,pA,p3],styles:[".field[_ngcontent-%COMP%]{width:100vw;height:100vh;max-width:100%;background-image:url(/assets/board.jpg);background-size:cover;display:flex;justify-content:center;align-items:center;overflow:hidden}.card-stack[_ngcontent-%COMP%]{position:relative}.card-stack[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:120px}.top-card[_ngcontent-%COMP%]{cursor:pointer;transition:all 125ms ease-in-out}.top-card[_ngcontent-%COMP%]:hover{transform:scale(1.1) translateY(-10px)}.played-card[_ngcontent-%COMP%]{right:25px;transform:scale(1.3) translate(140px) translateY(-180px) rotate(-10deg)}.pick-card[_ngcontent-%COMP%]{animation:pick-card-animation 1s ease-in-out;transform:scale(1.3) translate(140px) translateY(-180px) rotate(-10deg)}@keyframes pick-card-animation{0%{transform:scale(1)}40%{transform:scale(1.7)}60%{transform:scale(1.7)}to{transform:scale(1.3) translate(140px) translateY(-180px) rotate(-10deg)}}.player-position[_ngcontent-%COMP%]{position:absolute;z-index:1;right:0}.btn-add[_ngcontent-%COMP%]{position:absolute;bottom:32px;right:32px}.pin-bottom[_ngcontent-%COMP%]{position:absolute;bottom:32px;left:100px;right:100px}@media (max-width: 720px){.pin-bottom[_ngcontent-%COMP%]{right:0;left:0;bottom:0}}.scroll-container[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;display:flex;overflow-y:hidden}.scroll-container[_ngcontent-%COMP%]   app-player-mobile[_ngcontent-%COMP%]{margin-left:8px}app-player[_ngcontent-%COMP%], app-player-mobile[_ngcontent-%COMP%]{cursor:pointer}app-player[_ngcontent-%COMP%]:hover, app-player-mobile[_ngcontent-%COMP%]:hover{filter:brightness(1.15)}.game-over[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.game-over[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px;object-position:center}.preloadImage[_ngcontent-%COMP%]{opacity:0;z-index:-999;width:0px;height:0px}"]}),n})()}];let M3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Cw.forRoot(A3)],Cw]}),n})(),x3=(()=>{class n{constructor(){this.title="ringoffire"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Ty],styles:[""]}),n})();const tV_firebase={projectId:"ring-of-fire-d01c3",appId:"1:408830546795:web:f15da4ae9f29158325322e",databaseURL:"https://ring-of-fire-d01c3-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"ring-of-fire-d01c3.appspot.com",locationId:"europe-west",apiKey:"AIzaSyDvBQlynxxSkxX8gGqiK1f6aiMgPCLrQ0I",authDomain:"ring-of-fire-d01c3.firebaseapp.com",messagingSenderId:"408830546795"};let R3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[x3]}),n.\u0275inj=d.cJS({providers:[],imports:[[Ho,zG,qT,hB,Gm,g3,M3,oB,Ao,$a.hO.initializeApp(tV_firebase)]]}),n})();(0,d.G48)(),lu().bootstrapModule(R3).catch(n=>console.error(n))},5867:(ot,Ie,P)=>{P.d(Ie,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=P(9681);(0,d.registerVersion)("firebase","9.7.0","app")},127:(ot,Ie,P)=>{P.d(Ie,{Z:()=>d.Z});var d=P(3942);d.Z.registerVersion("firebase","9.7.0","app-compat")},820:(ot,Ie,P)=>{P.r(Ie);var d=P(5861),Q=P(3942),N=P(2090),le=P(9681),ne=P(655),me=P(1877),ee=P(4859);const Oe=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new me.Yd("@firebase/auth");function Ze(y,...p){Je.logLevel<=me.in.ERROR&&Je.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Se(y,...p){throw je(y,...p)}function ve(y,...p){return je(y,...p)}function Ee(y,p,g){const b=Object.assign(Object.assign({},Ve()),{[p]:g});return new N.LL("auth","Firebase",b).create(p,{appName:y.name})}function $e(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Se(y,"argument-error"),Ee(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return pe.create(y,...p)}function se(y,p,...g){if(!y)throw je(p,...g)}function We(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ze(p),new Error(p)}function te(y,p){y||We(p)}const ue=new Map;function ie(y){te(y instanceof Function,"Expected a class definition");let p=ue.get(y);return p?(te(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ue.set(y,p),p)}function Fe(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function It(){return"http:"===Qt()||"https:"===Qt()}function Qt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class qt{constructor(p,g){this.shortDelay=p,this.longDelay=g,te(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function on(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kn(y,p){te(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Dn{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void We("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void We("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void We("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ei=new qt(3e4,6e4);function Xt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Wt(y,p,g,b){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(y,p,g,b,T={}){return Jr(y,T,(0,d.Z)(function*(){let O={},W={};b&&("GET"===p?W=b:O={body:JSON.stringify(b)});const ae=(0,N.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),Dn.fetch()(Tr(y,y.config.apiHost,g,ae),Object.assign({method:p,headers:Ue,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Jr(y,p,g){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},nn),p);try{const T=new rs(y),O=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const W=yield O.json();if("needConfirmation"in W)throw is(y,"account-exists-with-different-credential",W);if(O.ok&&!("errorMessage"in W))return W;{const ae=O.ok?W.errorMessage:W.error.message,[Ue,et]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw is(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ue)throw is(y,"email-already-in-use",W);const vt=b[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw Ee(y,vt,et);Se(y,vt)}}catch(T){if(T instanceof N.ZR)throw T;Se(y,"network-request-failed")}})).apply(this,arguments)}function Ir(y,p,g,b){return $i.apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(y,p,g,b,T={}){const O=yield Wt(y,p,g,b,T);return"mfaPendingCredential"in O&&Se(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Tr(y,p,g,b){const T=`${p}${g}?${b}`;return y.config.emulator?Kn(y.config,T):`${y.config.apiScheme}://${T}`}class rs{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"network-request-failed")),Ei.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function is(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const T=ve(y,p,b);return T.customData._tokenResponse=g,T}function Vr(){return(Vr=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zn(y,p){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ei(y,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function vn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ua(){return(ua=(0,d.Z)(function*(y,p=!1){const g=(0,N.m9)(y),b=yield g.getIdToken(p),T=it(b);se(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,W=null==O?void 0:O.sign_in_provider;return{claims:T,token:b,authTime:vn(Kt(T.auth_time)),issuedAtTime:vn(Kt(T.iat)),expirationTime:vn(Kt(T.exp)),signInProvider:W||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(y){return 1e3*Number(y)}function it(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,N.tV)(g);return T?JSON.parse(T):(Ze("Failed to decode base64 JWT payload"),null)}catch(T){return Ze("Caught error parsing JWT payload as JSON",T),null}}function ir(y,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,d.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof N.ZR&&Gt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Gt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class uo{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class hr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sr(y){return ht.apply(this,arguments)}function ht(){return(ht=(0,d.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),T=yield ir(y,ei(g,{idToken:b}));se(null==T?void 0:T.users.length,g,"internal-error");const O=T.users[0];y._notifyReloadListener(O);const W=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?Ae(O.providerUserInfo):[],ae=Ye(y.providerData,W),vt=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==ae?void 0:ae.length)),ut={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ae,metadata:new hr(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(y,ut)})).apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(y){const p=(0,N.m9)(y);yield sr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ye(y,p){return[...y.filter(b=>!p.some(T=>T.providerId===b.providerId)),...p]}function Ae(y){return y.map(p=>{var{providerId:g}=p,b=(0,ne._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ft(){return(ft=(0,d.Z)(function*(y,p){const g=yield Jr(y,{},(0,d.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:O}=y.config,W=Tr(y,T,"/v1/token",`key=${O}`),ae=yield y._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",Dn.fetch()(W,{method:"POST",headers:ae,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){se(p.idToken,"internal-error"),se(void 0!==p.idToken,"internal-error"),se(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function wt(y){const p=it(y);return se(p,"internal-error"),se(void 0!==p.exp,"internal-error"),se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,d.Z)(function*(){return se(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:W}=yield function Xe(y,p){return ft.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(T,O,Number(W))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:T,expirationTime:O}=g,W=new jt;return b&&(se("string"==typeof b,"internal-error",{appName:p}),W.refreshToken=b),T&&(se("string"==typeof T,"internal-error",{appName:p}),W.accessToken=T),O&&(se("number"==typeof O,"internal-error",{appName:p}),W.expirationTime=O),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return We("not implemented")}}function Lt(y,p){se("string"==typeof y||void 0===y,"internal-error",{appName:p})}class H{constructor(p){var{uid:g,auth:b,stsTokenManager:T}=p,O=(0,ne._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new hr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const b=yield ir(g,g.stsTokenManager.getToken(g.auth,p));return se(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function Ps(y){return ua.apply(this,arguments)}(this,p)}reload(){return function fr(y){return Ut.apply(this,arguments)}(this)}_assign(p){this!==p&&(se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new H(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,d.Z)(function*(){let T=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield sr(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield ir(p,function ct(y,p){return Vr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,T,O,W,ae,Ue,et,vt;const ut=null!==(b=g.displayName)&&void 0!==b?b:void 0,An=null!==(T=g.email)&&void 0!==T?T:void 0,_s=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,rd=null!==(W=g.photoURL)&&void 0!==W?W:void 0,id=null!==(ae=g.tenantId)&&void 0!==ae?ae:void 0,sd=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,Pp=null!==(et=g.createdAt)&&void 0!==et?et:void 0,Eb=null!==(vt=g.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Ra,emailVerified:Ch,isAnonymous:Np,providerData:Fp,stsTokenManager:Dh}=g;se(Ra&&Dh,p,"internal-error");const wb=jt.fromJSON(this.name,Dh);se("string"==typeof Ra,p,"internal-error"),Lt(ut,p.name),Lt(An,p.name),se("boolean"==typeof Ch,p,"internal-error"),se("boolean"==typeof Np,p,"internal-error"),Lt(_s,p.name),Lt(rd,p.name),Lt(id,p.name),Lt(sd,p.name),Lt(Pp,p.name),Lt(Eb,p.name);const Lp=new H({uid:Ra,auth:p,email:An,emailVerified:Ch,displayName:ut,isAnonymous:Np,photoURL:rd,phoneNumber:_s,tenantId:id,stsTokenManager:wb,createdAt:Pp,lastLoginAt:Eb});return Fp&&Array.isArray(Fp)&&(Lp.providerData=Fp.map(Cb=>Object.assign({},Cb))),sd&&(Lp._redirectEventId=sd),Lp}static _fromIdTokenResponse(p,g,b=!1){return(0,d.Z)(function*(){const T=new jt;T.updateFromServerResponse(g);const O=new H({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:b});return yield sr(O),O})()}}const q=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,b){var T=this;return(0,d.Z)(function*(){T.storage[g]=b})()}_get(g){var b=this;return(0,d.Z)(function*(){const T=b.storage[g];return void 0===T?null:T})()}_remove(g){var b=this;return(0,d.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function de(y,p,g){return`firebase:${y}:${p}:${g}`}class X{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:T,name:O}=this.auth;this.fullUserKey=de(this.userKey,T.apiKey,O),this.fullPersistenceKey=de("persistence",T.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?H._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,d.Z)(function*(){if(!g.length)return new X(ie(q),p,b);const T=(yield Promise.all(g.map(function(){var et=(0,d.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return et.apply(this,arguments)}}()))).filter(et=>et);let O=T[0]||ie(q);const W=de(b,p.config.apiKey,p.name);let ae=null;for(const et of g)try{const vt=yield et._get(W);if(vt){const ut=H._fromJSON(p,vt);et!==O&&(ae=ut),O=et;break}}catch(vt){}const Ue=T.filter(et=>et._shouldAllowMigration);return O._shouldAllowMigration&&Ue.length?(O=Ue[0],ae&&(yield O._set(W,ae.toJSON())),yield Promise.all(g.map(function(){var et=(0,d.Z)(function*(vt){if(vt!==O)try{yield vt._remove(W)}catch(ut){}});return function(vt){return et.apply(this,arguments)}}())),new X(O,p,b)):new X(O,p,b)})()}}function Be(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Zt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(yt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Rt(p))return"Blackberry";if(fn(p))return"Webos";if(Jt(p))return"Safari";if((p.includes("chrome/")||pr(p))&&!p.includes("edge/"))return"Chrome";if(In(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function yt(y=(0,N.z$)()){return/firefox\//i.test(y)}function Jt(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function pr(y=(0,N.z$)()){return/crios\//i.test(y)}function Zt(y=(0,N.z$)()){return/iemobile/i.test(y)}function In(y=(0,N.z$)()){return/android/i.test(y)}function Rt(y=(0,N.z$)()){return/blackberry/i.test(y)}function fn(y=(0,N.z$)()){return/webos/i.test(y)}function Qn(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function ss(y=(0,N.z$)()){return Qn(y)||In(y)||fn(y)||Rt(y)||/windows phone/i.test(y)||Zt(y)}function da(y,p=[]){let g;switch(y){case"Browser":g=Be((0,N.z$)());break;case"Worker":g=`${Be((0,N.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class ti{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ot(this),this.idTokenSubscription=new Ot(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ie(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T,O;if(!b._deleted&&(b.persistenceManager=yield X.create(b,p),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var b;let T=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==T?void 0:T._redirectEventId,ae=yield g.tryRedirectSignIn(p);(!O||O===W)&&(null==ae?void 0:ae.user)&&(T=ae.user)}return T?T._redirectEventId?(se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(T){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield sr(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ze(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const b=p?(0,N.m9)(p):null;return b&&se(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return p&&se(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(ie(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,d.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ie(p)||g._popupRedirectResolver;se(b,g,"argument-error"),g.redirectPersistenceManager=yield X.create(g,[ie(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var b,T;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,T){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return se(W,this,"internal-error"),W.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,b,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=da(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function Pe(y){return(0,N.m9)(y)}class Ot{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function or(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Pn(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class an{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return We("not implemented")}_getIdTokenResponse(p){return We("not implemented")}_linkToIdToken(p,g){return We("not implemented")}_getReauthenticationResolver(p){return We("not implemented")}}function Mn(y,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:resetPassword",Xt(y,p))})).apply(this,arguments)}function Mt(y,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ho(y,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",Xt(y,p))})).apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(y,p){return Ir(y,"POST","/v1/accounts:signInWithPassword",Xt(y,p))})).apply(this,arguments)}function os(y,p){return as.apply(this,arguments)}function as(){return(as=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:sendOobCode",Xt(y,p))})).apply(this,arguments)}function Br(y,p){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(y,p){return os(y,p)})).apply(this,arguments)}function Wa(y,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,d.Z)(function*(y,p){return os(y,p)})).apply(this,arguments)}function ni(y,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,d.Z)(function*(y,p){return os(y,p)})).apply(this,arguments)}function gc(y,p){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(y,p){return os(y,p)})).apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(y,p){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",Xt(y,p))})).apply(this,arguments)}function _c(){return(_c=(0,d.Z)(function*(y,p){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",Xt(y,p))})).apply(this,arguments)}class Ya extends an{constructor(p,g,b,T=null){super("password",b),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new Ya(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Ya(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function Ls(y,p){return Xn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Za(y,p){return jr.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return Mt(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function mc(y,p){return _c.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Nn(y,p){return yc.apply(this,arguments)}function yc(){return(yc=(0,d.Z)(function*(y,p){return Ir(y,"POST","/v1/accounts:signInWithIdp",Xt(y,p))})).apply(this,arguments)}class ls extends an{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ls(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T}=g,O=(0,ne._T)(g,["providerId","signInMethod"]);if(!b||!T)return null;const W=new ls(b,T);return W.idToken=O.idToken||void 0,W.accessToken=O.accessToken||void 0,W.secret=O.secret,W.nonce=O.nonce,W.pendingToken=O.pendingToken||null,W}_getIdTokenResponse(p){return Nn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Nn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Nn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function ep(y,p){return vc.apply(this,arguments)}function vc(){return(vc=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:sendVerificationCode",Xt(y,p))})).apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(y,p){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,p))})).apply(this,arguments)}function bc(){return(bc=(0,d.Z)(function*(y,p){const g=yield Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,p));if(g.temporaryProof)throw is(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const np={USER_NOT_FOUND:"user-not-found"};function Ec(){return(Ec=(0,d.Z)(function*(y,p){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),np)})).apply(this,arguments)}class Lo extends an{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Lo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Lo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Xl(y,p){return Bs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function tp(y,p){return bc.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function rp(y,p){return Ec.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:O}=p;return b||g||T||O?new Lo({verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:O}):null}}class fo{constructor(p){var g,b,T,O,W,ae;const Ue=(0,N.zd)((0,N.pd)(p)),et=null!==(g=Ue.apiKey)&&void 0!==g?g:null,vt=null!==(b=Ue.oobCode)&&void 0!==b?b:null,ut=function Tm(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ue.mode)&&void 0!==T?T:null);se(et&&vt&&ut,"argument-error"),this.apiKey=et,this.operation=ut,this.code=vt,this.continueUrl=null!==(O=Ue.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(W=Ue.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ae=Ue.tenantId)&&void 0!==ae?ae:null}static parseLink(p){const g=function Qa(y){const p=(0,N.zd)((0,N.pd)(y)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||g||p||y}(p);try{return new fo(g)}catch(b){return null}}}let Jl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return Ya._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const T=fo.parseLink(b);return se(T,"argument-error"),Ya._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Us{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Hr extends Us{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Vo extends Hr{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return se("providerId"in g&&"signInMethod"in g,"argument-error"),ls._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return se(p.idToken||p.accessToken,"argument-error"),ls._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Vo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Vo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:O,nonce:W,providerId:ae}=p;if(!b&&!T&&!g&&!O||!ae)return null;try{return new Vo(ae)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:O})}catch(Ue){return null}}}let po=(()=>{class y extends Hr{constructor(){super("facebook.com")}static credential(g){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),fa=(()=>{class y extends Hr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:T}=g;if(!b&&!T)return null;try{return y.credential(b,T)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),wc=(()=>{class y extends Hr{constructor(){super("github.com")}static credential(g){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class go extends an{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Nn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Nn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Nn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T,pendingToken:O}=g;return b&&T&&O&&b===T?new go(b,O):null}static _create(p,g){return new go(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ri extends Us{constructor(p){se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ri.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ri.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=go.fromJSON(p);return se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return go._create(b,g)}catch(T){return null}}}let Xa=(()=>{class y extends Hr{constructor(){super("twitter.com")}static credential(g,b){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=g;if(!b||!T)return null;try{return y.credential(b,T)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ja(y,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,d.Z)(function*(y,p){return Ir(y,"POST","/v1/accounts:signUp",Xt(y,p))})).apply(this,arguments)}class ar{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,T=!1){return(0,d.Z)(function*(){const O=yield H._fromIdTokenResponse(p,b,T),W=rh(b);return new ar({user:O,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const T=rh(b);return new ar({user:p,providerId:T,_tokenResponse:b,operationType:g})})()}}function rh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Cc(){return(Cc=(0,d.Z)(function*(y){var p;const g=Pe(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new ar({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Ja(g,{returnSecureToken:!0}),T=yield ar._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class tl extends N.ZR{constructor(p,g,b,T){var O;super(g.code,g.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,tl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,T){return new tl(p,g,b,T)}}function nl(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?tl._fromErrorAndOperation(y,O,p,b):O})}function us(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function eu(){return(eu=(0,d.Z)(function*(y,p){const g=(0,N.m9)(y);yield Hs(!0,g,p);const{providerUserInfo:b}=yield Zn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=us(b||[]);return g.providerData=g.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function yn(y,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(y,p,g=!1){const b=yield ir(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return ar._forOperation(y,"link",b)})).apply(this,arguments)}function Hs(y,p,g){return un.apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(y,p,g){yield sr(p);const T=!1===y?"provider-already-linked":"no-such-provider";se(us(p.providerData).has(g)===y,p.auth,T)})).apply(this,arguments)}function Dc(y,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,d.Z)(function*(y,p,g=!1){const{auth:b}=y,T="reauthenticate";try{const O=yield ir(y,nl(b,T,p,y),g);se(O.idToken,b,"internal-error");const W=it(O.idToken);se(W,b,"internal-error");const{sub:ae}=W;return se(y.uid===ae,b,"user-mismatch"),ar._forOperation(y,T,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Se(b,"user-mismatch"),O}})).apply(this,arguments)}function _o(y,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(y,p,g=!1){const b="signIn",T=yield nl(y,b,p),O=yield ar._fromIdTokenResponse(y,b,T);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function xn(y,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(y,p){return _o(Pe(y),p)})).apply(this,arguments)}function wi(y,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(y,p){const g=(0,N.m9)(y);return yield Hs(!1,g,p.providerId),yn(g,p)})).apply(this,arguments)}function $s(y,p){return cs.apply(this,arguments)}function cs(){return(cs=(0,d.Z)(function*(y,p){return Dc((0,N.m9)(y),p)})).apply(this,arguments)}function rl(y,p){return $r.apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(y,p){return Ir(y,"POST","/v1/accounts:signInWithCustomToken",Xt(y,p))})).apply(this,arguments)}function zs(){return(zs=(0,d.Z)(function*(y,p){const g=Pe(y),b=yield rl(g,{token:p,returnSecureToken:!0}),T=yield ar._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class pt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?il._fromServerResponse(p,g):Se(p,"internal-error")}}class il extends pt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new il(g)}}function ma(y,p,g){var b;se((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),se(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(se(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(se(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function ol(){return(ol=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),T={requestType:"PASSWORD_RESET",email:p};g&&ma(b,T,g),yield Wa(b,T)})).apply(this,arguments)}function tu(){return(tu=(0,d.Z)(function*(y,p,g){yield Mn((0,N.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(y,p){yield ho((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Vt(y,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(y,p){const g=(0,N.m9)(y),b=yield Mn(g,{oobCode:p}),T=b.requestType;switch(se(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(b.mfaInfo,g,"internal-error");default:se(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=pt._fromServerResponse(Pe(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(y,p){const{data:g}=yield Vt((0,N.m9)(y),p);return g.email})).apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(y,p,g){const b=Pe(y),T=yield Ja(b,{returnSecureToken:!0,email:p,password:g}),O=yield ar._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function Ic(){return(Ic=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),T={requestType:"EMAIL_SIGNIN",email:p};se(g.handleCodeInApp,b,"argument-error"),g&&ma(b,T,g),yield ni(b,T)})).apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),T=Jl.credentialWithLink(p,g||Fe());return se(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),xn(b,T)})).apply(this,arguments)}function lr(y,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:createAuthUri",Xt(y,p))})).apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(y,p){const b={identifier:p,continueUri:It()?Fe():"http://localhost"},{signinMethods:T}=yield lr((0,N.m9)(y),b);return T||[]})).apply(this,arguments)}function au(){return(au=(0,d.Z)(function*(y,p){const g=(0,N.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ma(g.auth,T,p);const{email:O}=yield Br(g.auth,T);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&ma(b.auth,O,g);const{email:W}=yield gc(b.auth,O);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function lu(y,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function uu(){return(uu=(0,d.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,N.m9)(y),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield ir(b,lu(b.auth,O));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const ae=b.providerData.find(({providerId:Ue})=>"password"===Ue);ae&&(ae.displayName=b.displayName,ae.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function du(y,p,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(y,p,g){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const W=yield ir(y,Mt(b,O));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class vo{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Ac extends vo{constructor(p,g,b,T){super(p,g,b),this.username=T}}class Mc extends vo{constructor(p,g){super(p,"facebook.com",g)}}class bo extends Ac{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ks extends vo{constructor(p,g){super(p,"google.com",g)}}class hu extends Ac{constructor(p,g,b){super(p,"twitter.com",g,b)}}function _r(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Sc(y){var p,g;if(!y)return null;const{providerId:b}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const W=null===(g=null===(p=it(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new vo(O,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new Mc(O,T);case"github.com":return new bo(O,T);case"google.com":return new Ks(O,T);case"twitter.com":return new hu(O,T,y.screenName||null);case"custom":case"anonymous":return new vo(O,null);default:return new vo(O,b,T)}}(g)}class ds{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new ds("enroll",p)}static _fromMfaPendingCredential(p){return new ds("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ds._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return ds._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ya{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Pe(p),T=g.customData._serverResponse,O=(T.mfaInfo||[]).map(ae=>pt._fromServerResponse(b,ae));se(T.mfaPendingCredential,b,"internal-error");const W=ds._fromMfaPendingCredential(T.mfaPendingCredential);return new ya(W,O,function(){var ae=(0,d.Z)(function*(Ue){const et=yield Ue._process(b,W);delete T.mfaInfo,delete T.mfaPendingCredential;const vt=Object.assign(Object.assign({},T),{idToken:et.idToken,refreshToken:et.refreshToken});switch(g.operationType){case"signIn":const ut=yield ar._fromIdTokenResponse(b,g.operationType,vt);return yield b._updateCurrentUser(ut.user),ut;case"reauthenticate":return se(g.user,b,"internal-error"),ar._forOperation(g.user,g.operationType,vt);default:Se(b,"internal-error")}});return function(Ue){return ae.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function Fn(y,p){return Wt(y,"POST","/v2/accounts/mfaEnrollment:start",Xt(y,p))}class hs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>pt._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new hs(p)}getSession(){var p=this;return(0,d.Z)(function*(){return ds._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,d.Z)(function*(){const T=p,O=yield b.getSession(),W=yield ir(b.user,T._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,T=yield g.user.getIdToken(),O=yield ir(g.user,function sp(y,p){return Wt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(y,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const $o=new WeakMap,gu="__sak";class qi{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(gu,"1"),this.storage.removeItem(gu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const yr=(()=>{class y extends qi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mu(){const y=(0,N.z$)();return Jt(y)||Qn(y)}()&&function Gn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),O=this.localCache[b];T!==O&&g(b,O,T)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ae,Ue,et)=>{this.notifyListeners(ae,et)});const T=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(T);if(g.newValue!==ae)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!b)return}const O=()=>{const ae=this.storage.getItem(T);!b&&this.localCache[T]===ae||this.notifyListeners(T,ae)},W=this.storage.getItem(T);!function ca(){return(0,N.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var T=()=>super._set,O=this;return(0,d.Z)(function*(){yield T().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,T=this;return(0,d.Z)(function*(){const O=yield b().call(T,g);return T.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,T=this;return(0,d.Z)(function*(){yield b().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),Wi=(()=>{class y extends qi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let zr=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,d.Z)(function*(){const T=g,{eventId:O,eventType:W,data:ae}=T.data,Ue=b.handlersMap[W];if(!(null==Ue?void 0:Ue.size))return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:W});const et=Array.from(Ue).map(function(){var ut=(0,d.Z)(function*(An){return An(T.origin,ae)});return function(An){return ut.apply(this,arguments)}}()),vt=yield function wn(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(et);T.ports[0].postMessage({status:"done",eventId:O,eventType:W,response:vt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function va(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class fl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var T=this;return(0,d.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let W,ae;return new Promise((Ue,et)=>{const vt=va("",20);O.port1.start();const ut=setTimeout(()=>{et(new Error("unsupported_event"))},b);ae={messageChannel:O,onMessage(An){const _s=An;if(_s.data.eventId===vt)switch(_s.data.status){case"ack":clearTimeout(ut),W=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ue(_s.data.response);break;default:clearTimeout(ut),clearTimeout(W),et(new Error("invalid_response"))}}},T.handlers.add(ae),O.port1.addEventListener("message",ae.onMessage),T.target.postMessage({eventType:p,eventId:vt,data:g},[O.port2])}).finally(()=>{ae&&T.removeMessageHandler(ae)})})()}}function Bt(){return window}function vr(){return void 0!==Bt().WorkerGlobalScope&&"function"==typeof Bt().importScripts}function fs(){return(fs=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const zo="firebaseLocalStorageDb",si="firebaseLocalStorage",qo="fbase_key";class Ys{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Qs(y,p){return y.transaction([si],p?"readwrite":"readonly").objectStore(si)}function Eo(){const y=indexedDB.open(zo,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(si,{keyPath:qo})}catch(T){g(T)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(si)?p(b):(b.close(),yield function oi(){const y=indexedDB.deleteDatabase(zo);return new Ys(y).toPromise()}(),p(yield Eo()))}))})}function Ea(y,p,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(y,p,g){const b=Qs(y,!0).put({[qo]:p,value:g});return new Ys(b).toPromise()})).apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(y,p){const g=Qs(y,!1).get(p),b=yield new Ys(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ln(y,p){const g=Qs(y,!0).delete(p);return new Ys(g).toPromise()}const Ki=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Eo()),g.db})()}_withRetries(g){var b=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(T++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return vr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=zr._getInstance(function Oc(){return vr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(T,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(T,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var b,T;if(g.activeServiceWorker=yield function ba(){return fs.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new fl(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=O[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function pl(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Eo();return yield Ea(g,gu,"1"),yield Ln(g,gu),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(O=>Ea(O,g,b)),T.localCache[g]=b,T.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,d.Z)(function*(){const T=yield b._withRetries(O=>function wa(y,p){return gn.apply(this,arguments)}(O,g));return b.localCache[g]=T,T})()}_remove(g){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(T=>Ln(T,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const b=yield g._withRetries(W=>{const ae=Qs(W,!1).getAll();return new Ys(ae).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:W,value:ae}of b)O.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ae)&&(g.notifyListeners(W,ae),T.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!O.has(W)&&(g.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Pc(y,p){return Wt(y,"POST","/v2/accounts/mfaSignIn:start",Xt(y,p))}function br(){return(br=(0,d.Z)(function*(y){return(yield Wt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gt(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=T=>{const O=ve("internal-error");O.customData=T,g(O)},b.type="text/javascript",b.charset="UTF-8",function Vn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function _l(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ai=1e12;class Nc{constructor(p){this.auth=p,this.counter=ai,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new yl(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||ai;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ai))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var b;return null===(b=g._widgets.get(p||ai))||void 0===b||b.execute(),""})()}}class yl{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;se(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function li(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wr=_l("rcb"),up=new qt(3e4,6e4);class cp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Bt().grecaptcha}load(p,g=""){return se(function Am(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Bt().grecaptcha):new Promise((b,T)=>{const O=Bt().setTimeout(()=>{T(ve(p,"network-request-failed"))},up.get());Bt()[Wr]=()=>{Bt().clearTimeout(O),delete Bt()[Wr];const ae=Bt().grecaptcha;if(!ae)return void T(ve(p,"internal-error"));const Ue=ae.render;ae.render=(et,vt)=>{const ut=Ue(et,vt);return this.counter++,ut},this.hostLanguage=g,b(ae)},gt(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Wr,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),T(ve(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Bt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dp{load(p){return(0,d.Z)(function*(){return new Nc(p)})()}clearedOneInstance(){}}const Ca="recaptcha",to={theme:"light",type:"image"};class sh{constructor(p,g=Object.assign({},to),b){this.parameters=g,this.type=Ca,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(b),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;se(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dp:new cp,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const W=ae=>{!ae||(p.tokenChangeListeners.delete(W),O(ae))};p.tokenChangeListeners.add(W),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Bt()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){se(It()&&!vr(),p.auth,"internal-error"),yield function Er(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Xs(y){return br.apply(this,arguments)}(p.auth);se(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ar{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Lo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Sn(){return(Sn=(0,d.Z)(function*(y,p,g){const b=Pe(y),T=yield ur(b,p,(0,N.m9)(g));return new Ar(T,O=>xn(b,O))})).apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);yield Hs(!1,b,"phone");const T=yield ur(b.auth,p,(0,N.m9)(g));return new Ar(T,O=>wi(b,O))})).apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),T=yield ur(b.auth,p,(0,N.m9)(g));return new Ar(T,O=>$s(b,O))})).apply(this,arguments)}function ur(y,p,g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,d.Z)(function*(y,p,g){var b;const T=yield g.verify();try{let O;if(se("string"==typeof T,y,"argument-error"),se(g.type===Ca,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const W=O.session;if("phoneNumber"in O)return se("enroll"===W.type,y,"internal-error"),(yield Fn(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{se("signin"===W.type,y,"internal-error");const ae=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return se(ae,y,"missing-multi-factor-info"),(yield Pc(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield ep(y,{phoneNumber:O.phoneNumber,recaptchaToken:T});return W}}finally{g._reset()}})).apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(y,p){yield yn((0,N.m9)(y),p)})).apply(this,arguments)}let Mr=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Pe(g)}verifyPhoneNumber(g,b){return ur(this.auth,g,(0,N.m9)(b))}static credential(g,b){return Lo._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:T}=g;return b&&T?Lo._fromTokenResponse(b,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Di(y,p){return p?ie(p):(se(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Wo extends an{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Nn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Nn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Nn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function El(y){return _o(y.auth,new Wo(y),y.bypassAuthState)}function Eu(y){const{auth:p,user:g}=y;return se(g,p,"internal-error"),Dc(g,new Wo(y),y.bypassAuthState)}function Fc(y){return wl.apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(y){const{auth:p,user:g}=y;return se(g,p,"internal-error"),yn(g,new Wo(y),y.bypassAuthState)})).apply(this,arguments)}class xr{constructor(p,g,b,T,O=!1){this.auth=p,this.resolver=b,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(b,T){p.pendingPromise={resolve:b,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:O,tenantId:W,error:ae,type:Ue}=p;if(ae)return void g.reject(ae);const et={auth:g.auth,requestUri:b,sessionId:T,tenantId:W||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(et))}catch(vt){g.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return El;case"linkViaPopup":case"linkViaRedirect":return Fc;case"reauthViaPopup":case"reauthViaRedirect":return Eu;default:Se(this.auth,"internal-error")}}resolve(p){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cl=new qt(2e3,1e4);function Dl(){return(Dl=(0,d.Z)(function*(y,p,g){const b=Pe(y);$e(y,p,Us);const T=Di(b,g);return new ui(b,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);$e(b.auth,p,Us);const T=Di(b.auth,g);return new ui(b.auth,"reauthViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);$e(b.auth,p,Us);const T=Di(b.auth,g);return new ui(b.auth,"linkViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}let ui=(()=>{class y extends xr{constructor(g,b,T,O,W){super(g,b,O,W),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const b=yield g.execute();return se(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,d.Z)(function*(){te(1===g.filter.length,"Popup operations only handle one event");const b=va();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Cl.get())};g()}}return y.currentPopupAction=null,y})();const ci=new Map;class wu extends xr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let b=ci.get(g.auth._key());if(!b){try{const O=(yield function Ii(y,p){return Jn.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(O)}catch(T){b=()=>Promise.reject(T)}ci.set(g.auth._key(),b)}return g.bypassAuthState||ci.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const T=yield b.auth._redirectUserForId(p.eventId);if(T)return b.user=T,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Jn(){return(Jn=(0,d.Z)(function*(y,p){const g=I(p),b=D(y);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(g));return yield b._remove(g),T})).apply(this,arguments)}function ro(y,p){return Il.apply(this,arguments)}function Il(){return(Il=(0,d.Z)(function*(y,p){return D(y)._set(I(p),"true")})).apply(this,arguments)}function D(y){return ie(y._redirectPersistence)}function I(y){return de("pendingRedirect",y.config.apiKey,y.name)}function K(){return(K=(0,d.Z)(function*(y,p,g){const b=Pe(y);$e(y,p,Us);const T=Di(b,g);return yield ro(T,b),T._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);$e(b.auth,p,Us);const T=Di(b.auth,g);yield ro(T,b.auth);const O=yield Tl(b);return T._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);$e(b.auth,p,Us);const T=Di(b.auth,g);yield Hs(!1,b,p.providerId),yield ro(T,b.auth);const O=yield Tl(b);return T._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(y,p){return yield Pe(y)._initializationPromise,Rn(y,p,!1)})).apply(this,arguments)}function Rn(y,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(y,p,g=!1){const b=Pe(y),T=Di(b,p),W=yield new wu(b,T,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,p)),W})).apply(this,arguments)}function Tl(y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(y){const p=va(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Si{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Du(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cu(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!Cu(p)){const T=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ai(p))}saveEventToCache(p){this.cachedEventUids.add(Ai(p)),this.lastProcessedEventTime=Date.now()}}function Ai(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Cu({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Uc(y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,d.Z)(function*(y,p={}){return Wt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Iu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mm=/^https?/;function Io(){return(Io=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Uc(y);for(const g of p)try{if(Tu(g))return}catch(b){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function Tu(y){const p=Fe(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!Mm.test(g))return!1;if(Iu.test(y))return b===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const fp=new qt(3e4,6e4);function Rm(){const y=Bt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let jc=null;function Om(y){return jc=jc||function km(y){return new Promise((p,g)=>{var b,T,O;function W(){Rm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Rm(),g(ve(y,"network-request-failed"))},timeout:fp.get()})}if(null===(T=null===(b=Bt().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=Bt().gapi)||void 0===O?void 0:O.load)){const ae=_l("iframefcb");return Bt()[ae]=()=>{gapi.load?W():g(ve(y,"network-request-failed"))},gt(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Ue=>g(Ue))}W()}}).catch(p=>{throw jc=null,p})}(y),jc}const pb=new qt(5e3,15e3),Su={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zo(y){const p=y.config;se(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Kn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},T=Au.get(y.config.apiHost);T&&(b.eid=T);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,N.xO)(b).slice(1)}`}function Mu(){return Mu=(0,d.Z)(function*(y){const p=yield Om(y),g=Bt().gapi;return se(g,y,"internal-error"),p.open({where:document.body,url:Zo(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Su,dontclear:!0},b=>new Promise(function(){var T=(0,d.Z)(function*(O,W){yield b.restyle({setHideOnLeave:!1});const ae=ve(y,"network-request-failed"),Ue=Bt().setTimeout(()=>{W(ae)},pb.get());function et(){Bt().clearTimeout(Ue),O(b)}b.ping(et).then(et,()=>{W(ae)})});return function(O,W){return T.apply(this,arguments)}}()))}),Mu.apply(this,arguments)}const Hc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Gc(y,p,g,b,T,O){se(y.config.authDomain,y,"auth-domain-config-required"),se(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:T};if(p instanceof Us){p.setDefaultLanguage(y.languageCode),W.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ue,et]of Object.entries(O||{}))W[Ue]=et}if(p instanceof Hr){const Ue=p.getScopes().filter(et=>""!==et);Ue.length>0&&(W.scopes=Ue.join(","))}y.tenantId&&(W.tid=y.tenantId);const ae=W;for(const Ue of Object.keys(ae))void 0===ae[Ue]&&delete ae[Ue];return`${function uh({config:y}){return y.emulator?Kn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(ae).slice(1)}`}const gs="webStorageSupport";class Ru extends class mp{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return We("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ru(p)}_finalizeEnroll(p,g,b){return function xc(y,p){return Wt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function ml(y,p){return Wt(y,"POST","/v2/accounts/mfaSignIn:finalize",Xt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _p=(()=>{class y{constructor(){}static assertion(g){return Ru._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var qc="@firebase/auth",yp="0.19.12";class vp{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var T;p((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Al(){return window}function Ml(){return(Ml=(0,d.Z)(function*(y,p,g){var b;const{BuildInfo:T}=Al();te(p.sessionId,"AuthEvent did not contain a session ID");const O=yield _b(p.sessionId),W={};return Qn()?W.ibi=T.packageName:In()?W.apn=T.packageName:Se(y,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=O,Gc(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function Mi(){return(Mi=(0,d.Z)(function*(y){const{BuildInfo:p}=Al(),g={};Qn()?g.iosBundleId=p.packageName:In()?g.androidPackageName=p.packageName:Se(y,"operation-not-supported-in-this-environment"),yield Uc(y,g)})).apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(y,p,g){const{cordova:b}=Al();let T=()=>{};try{yield new Promise((O,W)=>{let ae=null;function Ue(){var ut;O();const An=null===(ut=b.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof An&&An(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function et(){ae||(ae=window.setTimeout(()=>{W(ve(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&et()}p.addPassiveListener(Ue),document.addEventListener("resume",et,!1),In()&&document.addEventListener("visibilitychange",vt,!1),T=()=>{p.removePassiveListener(Ue),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",vt,!1),ae&&window.clearTimeout(ae)}})}finally{T()}})).apply(this,arguments)}function _b(y){return dh.apply(this,arguments)}function dh(){return(dh=(0,d.Z)(function*(y){const p=yb(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yb(y){if(te(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function Wc(y){(0,le._registerComponent)(new ee.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),{apiKey:O,authDomain:W}=b.options;return((ae,Ue)=>{se(O&&!O.includes(":"),"invalid-api-key",{appName:ae.name}),se(!(null==W?void 0:W.includes(":")),"argument-error",{appName:ae.name});const et={apiKey:O,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:da(y)},vt=new ti(ae,Ue,et);return function _e(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ie);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(vt,g),vt})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ee.wA("auth-internal",p=>{const g=Pe(p.getProvider("auth").getImmediate());return new vp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(qc,yp,function ku(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(qc,yp,"esm2017")}("Browser");class Kc extends Si{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function Lm(y){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(y){const p=yield Zc()._get(fh(y));return p&&(yield Zc()._remove(fh(y))),p})).apply(this,arguments)}function Vm(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Zc(){return ie(yr)}function fh(y){return de("authEvent",y.config.apiKey,y.name)}function Aa(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,N.zd)(g.join("?"))}function Dp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function Rl(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Tp(y=(0,N.z$)()){return!("file:"!==Rl()&&"ionic:"!==Rl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rr(){try{const y=self.localStorage,p=va();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Ma(y=(0,N.z$)()){return function vb(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function uD(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return kl()&&(0,N.hl)()}return!1}function kl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qc(){return(function Um(){return"http:"===Rl()||"https:"===Rl()}()||(0,N.ru)()||Tp())&&!function Sp(){return(0,N.b$)()||(0,N.UG)()}()&&Rr()&&!kl()}function Xc(){return Tp()&&"undefined"!=typeof document}function xa(){return(xa=(0,d.Z)(function*(){return!!Xc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const xi={LOCAL:"local",NONE:"none",SESSION:"session"},Ol=se,yh="persistence";function Pl(y){return ed.apply(this,arguments)}function ed(){return(ed=(0,d.Z)(function*(y){yield y._initializationPromise;const p=vh(),g=de(yh,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function vh(){var y;try{return(null===(y=function Jc(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Hm=se;class ms{constructor(){this.browserResolver=ie(class Sa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wi,this._completeRedirectFn=Rn}_openPopup(p,g,b,T){var O=this;return(0,d.Z)(function*(){var W;te(null===(W=O.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ae=Gc(p,g,b,Fe(),T);return function Qo(y,p,g,b=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let ae="";const Ue=Object.assign(Object.assign({},Hc),{width:b.toString(),height:T.toString(),top:O,left:W}),et=(0,N.z$)().toLowerCase();g&&(ae=pr(et)?"_blank":g),yt(et)&&(p=p||"http://localhost",Ue.scrollbars="yes");const vt=Object.entries(Ue).reduce((An,[_s,rd])=>`${An}${_s}=${rd},`,"");if(function qa(y=(0,N.z$)()){var p;return Qn(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(et)&&"_self"!==ae)return function lh(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ae),new xu(null);const ut=window.open(p||"",ae,vt);se(ut,y,"popup-blocked");try{ut.focus()}catch(An){}return new xu(ut)}(p,ae,va())})()}_openRedirect(p,g,b,T){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(p),function ap(y){Bt().location.href=y}(Gc(p,g,b,Fe(),T)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:O}=this.eventManagers[g];return T?Promise.resolve(T):(te(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const b=yield function gb(y){return Mu.apply(this,arguments)}(p),T=new Si(p);return b.register("authEvent",O=>(se(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=b,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(gs,{type:gs},T=>{var O;const W=null===(O=null==T?void 0:T[0])||void 0===O?void 0:O[gs];void 0!==W&&g(!!W),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function xm(y){return Io.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return ss()||Jt()||Qn()}}),this.cordovaResolver=ie(class gh{constructor(){this._redirectPersistence=Wi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rn}_initialize(p){var g=this;return(0,d.Z)(function*(){const b=p._key();let T=g.eventManagers.get(b);return T||(T=new Kc(p),g.eventManagers.set(b,T),g.attachCallbackListeners(p,T)),T})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,T){var O=this;return(0,d.Z)(function*(){!function Ep(y){var p,g,b,T,O,W,ae,Ue,et,vt;const ut=Al();se("function"==typeof(null===(p=null==ut?void 0:ut.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(g=null==ut?void 0:ut.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(O=null===(T=null===(b=null==ut?void 0:ut.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Ue=null===(ae=null===(W=null==ut?void 0:ut.cordova)||void 0===W?void 0:W.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(vt=null===(et=null==ut?void 0:ut.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield O._initialize(p);yield W.initialized(),W.resetRedirect(),function Bc(){ci.clear()}(),yield O._originValidation(p);const ae=function hh(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Vm(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(p,b,T);yield function Fm(y,p){return Zc()._set(fh(y),p)}(p,ae);const Ue=yield function mb(y,p,g){return Ml.apply(this,arguments)}(p,ae,g),et=yield function Ou(y){const{cordova:p}=Al();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let T=null;b?p.plugins.browsertab.openUrl(y):T=p.InAppBrowser.open(y,function co(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Ue);return function ch(y,p,g){return xl.apply(this,arguments)}(p,W,et)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bp(y){return Mi.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:T,BuildInfo:O}=Al(),W=setTimeout((0,d.Z)(function*(){yield Lm(p),g.onEvent(Dp())}),500),ae=function(){var vt=(0,d.Z)(function*(ut){clearTimeout(W);const An=yield Lm(p);let _s=null;An&&(null==ut?void 0:ut.url)&&(_s=function Cp(y,p){var g,b;const T=function Yc(y){const p=Aa(y),g=p.link?decodeURIComponent(p.link):void 0,b=Aa(g).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Aa(T).link||T||b||g||y}(p);if(T.includes("/__/auth/callback")){const O=Aa(T),W=O.firebaseError?function Nu(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ae=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ue=ae?ve(ae):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(An,ut.url)),g.onEvent(_s||Dp())});return function(An){return vt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ae);const Ue=T,et=`${O.packageName.toLowerCase()}://`;Al().handleOpenURL=function(){var vt=(0,d.Z)(function*(ut){if(ut.toLowerCase().startsWith(et)&&ae({url:ut}),"function"==typeof Ue)try{Ue(ut)}catch(An){console.error(An)}});return function(ut){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Wi,this._completeRedirectFn=Rn}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,T){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,b,T)})()}_openRedirect(p,g,b,T){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,b,T)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Xc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function On(){return xa.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Mp(y){return y.unwrap()}function bh(y){return $m(y)}function $m(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Mr.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=fa;break;case"facebook.com":b=po;break;case"github.com":b=wc;break;case"twitter.com":b=Xa;break;default:const{oauthIdToken:T,oauthAccessToken:O,oauthTokenSecret:W,pendingToken:ae,nonce:Ue}=p;return O||W||T||ae?ae?g.startsWith("saml.")?go._create(g,ae):ls._fromParams({providerId:g,signInMethod:g,pendingToken:ae,idToken:T,accessToken:O}):new Vo(g).credential({idToken:T,accessToken:O,rawNonce:Ue}):null}return y instanceof N.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function kr(y,p){return p.catch(g=>{throw g instanceof N.ZR&&function Rp(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Gm(y,function hl(y,p){var g;const b=(0,N.m9)(y),T=p;return se(p.customData.operationType,b,"argument-error"),se(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),ya._fromError(b,T)}(y,p));else if(b){const T=$m(p),O=p;T&&(O.credential=T,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:bh(g),additionalUserInfo:_r(g),user:Xo.getOrCreate(T)}})}function kp(y,p){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,d.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>kr(y,g.confirm(b))}})).apply(this,arguments)}class Gm{constructor(p,g){this.resolver=g,this.auth=function xp(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return kr(Mp(this.auth),this.resolver.resolveSignIn(p))}}class Xo{constructor(p){this._delegate=p,this.multiFactor=function Rc(y){const p=(0,N.m9)(y);return $o.has(p)||$o.set(p,hs._fromUser(p)),$o.get(p)}(p)}static getOrCreate(p){return Xo.USER_MAP.has(p)||Xo.USER_MAP.set(p,new Xo(p)),Xo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return kr(g.auth,wi(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,d.Z)(function*(){return kp(b.auth,function vl(y,p,g){return wo.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return kr(g.auth,function Lc(y,p,g){return Ia.apply(this,arguments)}(g._delegate,p,ms))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Pl(Pe(g.auth)),function rt(y,p,g){return function Dt(y,p,g){return Yt.apply(this,arguments)}(y,p,g)}(g._delegate,p,ms)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return kr(g.auth,$s(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return kp(this.auth,function oh(y,p,g){return bl.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return kr(this.auth,function no(y,p,g){return Da.apply(this,arguments)}(this._delegate,p,ms))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Pl(Pe(g.auth)),function re(y,p,g){return function Re(y,p,g){return Qe.apply(this,arguments)}(y,p,g)}(g._delegate,p,ms)})()}sendEmailVerification(p){return function Ci(y,p){return au.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function pa(y,p){return eu.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function cu(y,p){return du((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Tc(y,p){return du((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function bu(y,p){return ps.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ho(y,p){return uu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function cl(y,p,g){return dl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xo.USER_MAP=new WeakMap;const td=se;let Op=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;td(T,"invalid-api-key",{appName:g.name}),td(T,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?ms:void 0;this._delegate=b.initialize({options:{persistence:qm(T,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function pn(y,p,g){const b=Pe(y);se(b._canInitEmulator,b,"emulator-config-failed"),se(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),O=or(p),{host:W,port:ae}=function Ns(y){const p=or(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const O=T[1];return{host:O,port:Pn(b.substr(O.length+1))}}{const[O,W]=b.split(":");return{host:O,port:Pn(W)}}}(p);b.config.emulator={url:`${O}//${W}${null===ae?"":`:${ae}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:ae,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function zi(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function nu(y,p){return De.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Vt(this._delegate,g)}confirmPasswordReset(g,b){return function al(y,p,g){return tu.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var T=this;return(0,d.Z)(function*(){return kr(T._delegate,function jo(y,p,g){return Gr.apply(this,arguments)}(T._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ul(y,p){return Ws.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function ou(y,p){const g=fo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){td(Qc(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function St(y,p){return er.apply(this,arguments)}(g._delegate,ms);return b?kr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Ip(y,p){Pe(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,T){const{next:O,error:W,complete:ae}=zm(g,b,T);return this._delegate.onAuthStateChanged(O,W,ae)}onIdTokenChanged(g,b,T){const{next:O,error:W,complete:ae}=zm(g,b,T);return this._delegate.onIdTokenChanged(O,W,ae)}sendSignInLinkToEmail(g,b){return function su(y,p,g){return Ic.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function sl(y,p,g){return ol.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,d.Z)(function*(){let T;switch(function jm(y,p){Ol(Object.values(xi).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Ol(p!==xi.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Ol(p===xi.NONE,y,"unsupported-persistence-type"):kl()?Ol(p===xi.NONE||p===xi.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Ol(p===xi.NONE||Rr(),y,"unsupported-persistence-type")}(b._delegate,g),g){case xi.SESSION:T=Wi;break;case xi.LOCAL:T=(yield ie(Ki)._isAvailable())?Ki:yr;break;case xi.NONE:T=q;break;default:return Se("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return kr(this._delegate,function el(y){return Cc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return kr(this._delegate,xn(this._delegate,g))}signInWithCustomToken(g){return kr(this._delegate,function Gs(y,p){return zs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return kr(this._delegate,function iu(y,p,g){return xn((0,N.m9)(y),Jl.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return kr(this._delegate,function ll(y,p,g){return qs.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return kp(this._delegate,function hp(y,p,g){return Sn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,d.Z)(function*(){return td(Qc(),b._delegate,"operation-not-supported-in-this-environment"),kr(b._delegate,function Co(y,p,g){return Dl.apply(this,arguments)}(b._delegate,g,ms))})()}signInWithRedirect(g){var b=this;return(0,d.Z)(function*(){return td(Qc(),b._delegate,"operation-not-supported-in-this-environment"),yield Pl(b._delegate),function k(y,p,g){return function V(y,p,g){return K.apply(this,arguments)}(y,p,g)}(b._delegate,g,ms)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function bn(y,p){return Uo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=xi,y})();function zm(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const T=b;return{next:W=>T(W&&Xo.getOrCreate(W)),error:p,complete:g}}function qm(y,p){const g=function Ap(y,p){const g=vh();if(!g)return[];const b=de(yh,y,p);switch(g.getItem(b)){case xi.NONE:return[q];case xi.LOCAL:return[Ki,Wi];case xi.SESSION:return[Wi];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(Ki)&&g.push(Ki),"undefined"!=typeof window)for(const b of[yr,Wi])g.includes(b)||g.push(b);return g.includes(q)||g.push(q),g}class wh{constructor(){this.providerId="phone",this._delegate=new Mr(Mp(Q.Z.auth()))}static credential(p,g){return Mr.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}wh.PHONE_SIGN_IN_METHOD=Mr.PHONE_SIGN_IN_METHOD,wh.PROVIDER_ID=Mr.PROVIDER_ID;const Wm=se;class Km{constructor(p,g,b=Q.Z.app()){var T;Wm(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new sh(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bb(y){y.INTERNAL.registerComponent(new ee.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Op(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Jl,FacebookAuthProvider:po,GithubAuthProvider:wc,GoogleAuthProvider:fa,OAuthProvider:Vo,SAMLAuthProvider:ri,PhoneAuthProvider:wh,PhoneMultiFactorGenerator:_p,RecaptchaVerifier:Km,TwitterAuthProvider:Xa,Auth:Op,AuthCredential:an,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}(Q.Z)},8306:(ot,Ie,P)=>{P.d(Ie,{y:()=>$});var d=P(930),Q=P(727),N=P(8822),le=P(4671);var ee=P(2416),fe=P(576),ce=P(2806);let $=(()=>{class Me{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const pe=new Me;return pe.source=this,pe.operator=Ve,pe}subscribe(Ve,pe,we){const Je=function qe(Me){return Me&&Me instanceof d.Lv||function J(Me){return Me&&(0,fe.m)(Me.next)&&(0,fe.m)(Me.error)&&(0,fe.m)(Me.complete)}(Me)&&(0,Q.Nn)(Me)}(Ve)?Ve:new d.Hp(Ve,pe,we);return(0,ce.x)(()=>{const{operator:Ze,source:Se}=this;Je.add(Ze?Ze.call(Je,Se):Se?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(pe){Ve.error(pe)}}forEach(Ve,pe){return new(pe=G(pe))((we,Je)=>{const Ze=new d.Hp({next:Se=>{try{Ve(Se)}catch(ve){Je(ve),Ze.unsubscribe()}},error:Je,complete:we});this.subscribe(Ze)})}_subscribe(Ve){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Ve)}[N.L](){return this}pipe(...Ve){return function me(Me){return 0===Me.length?le.y:1===Me.length?Me[0]:function(Ve){return Me.reduce((pe,we)=>we(pe),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=G(Ve))((pe,we)=>{let Je;this.subscribe(Ze=>Je=Ze,Ze=>we(Ze),()=>pe(Je))})}}return Me.create=Oe=>new Me(Oe),Me})();function G(Me){var Oe;return null!==(Oe=null!=Me?Me:ee.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(ot,Ie,P)=>{P.d(Ie,{x:()=>ee});var d=P(8306),Q=P(727);const le=(0,P(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(8737),me=P(2806);let ee=(()=>{class ce extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const J=new fe(this,this);return J.operator=G,J}_throwIfClosed(){if(this.closed)throw new le}next(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(G)}})}error(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:J}=this;for(;J.length;)J.shift().error(G)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:J,isStopped:qe,observers:Me}=this;return J||qe?Q.Lc:(this.currentObservers=null,Me.push(G),new Q.w0(()=>{this.currentObservers=null,(0,ne.P)(Me,G)}))}_checkFinalizedStatuses(G){const{hasError:J,thrownError:qe,isStopped:Me}=this;J?G.error(qe):Me&&G.complete()}asObservable(){const G=new d.y;return G.source=this,G}}return ce.create=($,G)=>new fe($,G),ce})();class fe extends ee{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===J||J.call(G,$)}error($){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===J||J.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,J;return null!==(J=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==J?J:Q.Lc}}},930:(ot,Ie,P)=>{P.d(Ie,{Hp:()=>Ve,Lv:()=>J});var d=P(576),Q=P(727),N=P(2416),le=P(7849),ne=P(5032);const me=ce("C",void 0,void 0);function ce(Se,ve,Ee){return{kind:Se,value:ve,error:Ee}}var $=P(3410),G=P(2806);class J extends Q.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Q.Nn)(ve)&&ve.add(this)):this.destination=Ze}static create(ve,Ee,$e){return new Ve(ve,Ee,$e)}next(ve){this.isStopped?Je(function fe(Se){return ce("N",Se,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Je(function ee(Se){return ce("E",void 0,Se)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Je(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Me(Se,ve){return qe.call(Se,ve)}class Oe{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(ve)}catch($e){pe($e)}}error(ve){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(ve)}catch($e){pe($e)}else pe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ee){pe(Ee)}}}class Ve extends J{constructor(ve,Ee,$e){let je;if(super(),(0,d.m)(ve)||!ve)je={next:null!=ve?ve:void 0,error:null!=Ee?Ee:void 0,complete:null!=$e?$e:void 0};else{let se;this&&N.v.useDeprecatedNextContext?(se=Object.create(ve),se.unsubscribe=()=>this.unsubscribe(),je={next:ve.next&&Me(ve.next,se),error:ve.error&&Me(ve.error,se),complete:ve.complete&&Me(ve.complete,se)}):je=ve}this.destination=new Oe(je)}}function pe(Se){N.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Se):(0,le.h)(Se)}function Je(Se,ve){const{onStoppedNotification:Ee}=N.v;Ee&&$.z.setTimeout(()=>Ee(Se,ve))}const Ze={closed:!0,next:ne.Z,error:function we(Se){throw Se},complete:ne.Z}},727:(ot,Ie,P)=>{P.d(Ie,{Lc:()=>me,w0:()=>ne,Nn:()=>ee});var d=P(576);const N=(0,P(3888).d)(ce=>function(G){ce(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((J,qe)=>`${qe+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var le=P(8737);class ne{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Me of G)Me.remove(this);else G.remove(this);const{initialTeardown:J}=this;if((0,d.m)(J))try{J()}catch(Me){$=Me instanceof N?Me.errors:[Me]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Me of qe)try{fe(Me)}catch(Oe){$=null!=$?$:[],Oe instanceof N?$=[...$,...Oe.errors]:$.push(Oe)}}if($)throw new N($)}}add($){var G;if($&&$!==this)if(this.closed)fe($);else{if($ instanceof ne){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,le.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,le.P)(G,$),$ instanceof ne&&$._removeParent(this)}}ne.EMPTY=(()=>{const ce=new ne;return ce.closed=!0,ce})();const me=ne.EMPTY;function ee(ce){return ce instanceof ne||ce&&"closed"in ce&&(0,d.m)(ce.remove)&&(0,d.m)(ce.add)&&(0,d.m)(ce.unsubscribe)}function fe(ce){(0,d.m)(ce)?ce():ce.unsubscribe()}},2416:(ot,Ie,P)=>{P.d(Ie,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ot,Ie,P)=>{P.d(Ie,{E:()=>Q});const Q=new(P(8306).y)(ne=>ne.complete())},8996:(ot,Ie,P)=>{P.d(Ie,{D:()=>ve});var d=P(8421),Q=P(5363),N=P(9468),me=P(8306),fe=P(2202),ce=P(576),$=P(9672);function J(Ee,$e){if(!Ee)throw new Error("Iterable cannot be null");return new me.y(je=>{(0,$.f)(je,$e,()=>{const se=Ee[Symbol.asyncIterator]();(0,$.f)(je,$e,()=>{se.next().then(We=>{We.done?je.complete():je.next(We.value)})},0,!0)})})}var qe=P(3670),Me=P(8239),Oe=P(1144),Ve=P(6495),pe=P(2206),we=P(4532),Je=P(3260);function ve(Ee,$e){return $e?function Se(Ee,$e){if(null!=Ee){if((0,qe.c)(Ee))return function le(Ee,$e){return(0,d.Xf)(Ee).pipe((0,N.R)($e),(0,Q.Q)($e))}(Ee,$e);if((0,Oe.z)(Ee))return function ee(Ee,$e){return new me.y(je=>{let se=0;return $e.schedule(function(){se===Ee.length?je.complete():(je.next(Ee[se++]),je.closed||this.schedule())})})}(Ee,$e);if((0,Me.t)(Ee))return function ne(Ee,$e){return(0,d.Xf)(Ee).pipe((0,N.R)($e),(0,Q.Q)($e))}(Ee,$e);if((0,pe.D)(Ee))return J(Ee,$e);if((0,Ve.T)(Ee))return function G(Ee,$e){return new me.y(je=>{let se;return(0,$.f)(je,$e,()=>{se=Ee[fe.h](),(0,$.f)(je,$e,()=>{let We,te;try{({value:We,done:te}=se.next())}catch(ue){return void je.error(ue)}te?je.complete():je.next(We)},0,!0)}),()=>(0,ce.m)(null==se?void 0:se.return)&&se.return()})}(Ee,$e);if((0,Je.L)(Ee))return function Ze(Ee,$e){return J((0,Je.Q)(Ee),$e)}(Ee,$e)}throw(0,we.z)(Ee)}(Ee,$e):(0,d.Xf)(Ee)}},8421:(ot,Ie,P)=>{P.d(Ie,{Xf:()=>qe});var d=P(655),Q=P(1144),N=P(8239),le=P(8306),ne=P(3670),me=P(2206),ee=P(4532),fe=P(6495),ce=P(3260),$=P(576),G=P(7849),J=P(8822);function qe(Se){if(Se instanceof le.y)return Se;if(null!=Se){if((0,ne.c)(Se))return function Me(Se){return new le.y(ve=>{const Ee=Se[J.L]();if((0,$.m)(Ee.subscribe))return Ee.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,Q.z)(Se))return function Oe(Se){return new le.y(ve=>{for(let Ee=0;Ee<Se.length&&!ve.closed;Ee++)ve.next(Se[Ee]);ve.complete()})}(Se);if((0,N.t)(Se))return function Ve(Se){return new le.y(ve=>{Se.then(Ee=>{ve.closed||(ve.next(Ee),ve.complete())},Ee=>ve.error(Ee)).then(null,G.h)})}(Se);if((0,me.D)(Se))return we(Se);if((0,fe.T)(Se))return function pe(Se){return new le.y(ve=>{for(const Ee of Se)if(ve.next(Ee),ve.closed)return;ve.complete()})}(Se);if((0,ce.L)(Se))return function Je(Se){return we((0,ce.Q)(Se))}(Se)}throw(0,ee.z)(Se)}function we(Se){return new le.y(ve=>{(function Ze(Se,ve){var Ee,$e,je,se;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,d.KL)(Se);!($e=yield Ee.next()).done;)if(ve.next($e.value),ve.closed)return}catch(We){je={error:We}}finally{try{$e&&!$e.done&&(se=Ee.return)&&(yield se.call(Ee))}finally{if(je)throw je.error}}ve.complete()})})(Se,ve).catch(Ee=>ve.error(Ee))})}},6451:(ot,Ie,P)=>{P.d(Ie,{T:()=>me});var d=P(8189),Q=P(8421),N=P(515),le=P(3269),ne=P(8996);function me(...ee){const fe=(0,le.yG)(ee),ce=(0,le._6)(ee,1/0),$=ee;return $.length?1===$.length?(0,Q.Xf)($[0]):(0,d.J)(ce)((0,ne.D)($,fe)):N.E}},5403:(ot,Ie,P)=>{P.d(Ie,{x:()=>Q});var d=P(930);function Q(le,ne,me,ee,fe){return new N(le,ne,me,ee,fe)}class N extends d.Lv{constructor(ne,me,ee,fe,ce,$){super(ne),this.onFinalize=ce,this.shouldUnsubscribe=$,this._next=me?function(G){try{me(G)}catch(J){ne.error(J)}}:super._next,this._error=fe?function(G){try{fe(G)}catch(J){ne.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(G){ne.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(ot,Ie,P)=>{P.d(Ie,{U:()=>N});var d=P(4482),Q=P(5403);function N(le,ne){return(0,d.e)((me,ee)=>{let fe=0;me.subscribe((0,Q.x)(ee,ce=>{ee.next(le.call(ne,ce,fe++))}))})}},8189:(ot,Ie,P)=>{P.d(Ie,{J:()=>N});var d=P(5577),Q=P(4671);function N(le=1/0){return(0,d.z)(Q.y,le)}},5577:(ot,Ie,P)=>{P.d(Ie,{z:()=>fe});var d=P(4004),Q=P(8421),N=P(4482),le=P(9672),ne=P(5403),ee=P(576);function fe(ce,$,G=1/0){return(0,ee.m)($)?fe((J,qe)=>(0,d.U)((Me,Oe)=>$(J,Me,qe,Oe))((0,Q.Xf)(ce(J,qe))),G):("number"==typeof $&&(G=$),(0,N.e)((J,qe)=>function me(ce,$,G,J,qe,Me,Oe,Ve){const pe=[];let we=0,Je=0,Ze=!1;const Se=()=>{Ze&&!pe.length&&!we&&$.complete()},ve=$e=>we<J?Ee($e):pe.push($e),Ee=$e=>{Me&&$.next($e),we++;let je=!1;(0,Q.Xf)(G($e,Je++)).subscribe((0,ne.x)($,se=>{null==qe||qe(se),Me?ve(se):$.next(se)},()=>{je=!0},void 0,()=>{if(je)try{for(we--;pe.length&&we<J;){const se=pe.shift();Oe?(0,le.f)($,Oe,()=>Ee(se)):Ee(se)}Se()}catch(se){$.error(se)}}))};return ce.subscribe((0,ne.x)($,ve,()=>{Ze=!0,Se()})),()=>{null==Ve||Ve()}}(J,qe,ce,G)))}},5363:(ot,Ie,P)=>{P.d(Ie,{Q:()=>le});var d=P(9672),Q=P(4482),N=P(5403);function le(ne,me=0){return(0,Q.e)((ee,fe)=>{ee.subscribe((0,N.x)(fe,ce=>(0,d.f)(fe,ne,()=>fe.next(ce),me),()=>(0,d.f)(fe,ne,()=>fe.complete(),me),ce=>(0,d.f)(fe,ne,()=>fe.error(ce),me)))})}},3099:(ot,Ie,P)=>{P.d(Ie,{B:()=>me});var d=P(8996),Q=P(5698),N=P(7579),le=P(930),ne=P(4482);function me(fe={}){const{connector:ce=(()=>new N.x),resetOnError:$=!0,resetOnComplete:G=!0,resetOnRefCountZero:J=!0}=fe;return qe=>{let Me=null,Oe=null,Ve=null,pe=0,we=!1,Je=!1;const Ze=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Se=()=>{Ze(),Me=Ve=null,we=Je=!1},ve=()=>{const Ee=Me;Se(),null==Ee||Ee.unsubscribe()};return(0,ne.e)((Ee,$e)=>{pe++,!Je&&!we&&Ze();const je=Ve=null!=Ve?Ve:ce();$e.add(()=>{pe--,0===pe&&!Je&&!we&&(Oe=ee(ve,J))}),je.subscribe($e),Me||(Me=new le.Hp({next:se=>je.next(se),error:se=>{Je=!0,Ze(),Oe=ee(Se,$,se),je.error(se)},complete:()=>{we=!0,Ze(),Oe=ee(Se,G),je.complete()}}),(0,d.D)(Ee).subscribe(Me))})(qe)}}function ee(fe,ce,...$){return!0===ce?(fe(),null):!1===ce?null:ce(...$).pipe((0,Q.q)(1)).subscribe(()=>fe())}},9468:(ot,Ie,P)=>{P.d(Ie,{R:()=>Q});var d=P(4482);function Q(N,le=0){return(0,d.e)((ne,me)=>{me.add(N.schedule(()=>ne.subscribe(me),le))})}},5698:(ot,Ie,P)=>{P.d(Ie,{q:()=>le});var d=P(515),Q=P(4482),N=P(5403);function le(ne){return ne<=0?()=>d.E:(0,Q.e)((me,ee)=>{let fe=0;me.subscribe((0,N.x)(ee,ce=>{++fe<=ne&&(ee.next(ce),ne<=fe&&ee.complete())}))})}},8505:(ot,Ie,P)=>{P.d(Ie,{b:()=>ne});var d=P(576),Q=P(4482),N=P(5403),le=P(4671);function ne(me,ee,fe){const ce=(0,d.m)(me)||ee||fe?{next:me,error:ee,complete:fe}:me;return ce?(0,Q.e)(($,G)=>{var J;null===(J=ce.subscribe)||void 0===J||J.call(ce);let qe=!0;$.subscribe((0,N.x)(G,Me=>{var Oe;null===(Oe=ce.next)||void 0===Oe||Oe.call(ce,Me),G.next(Me)},()=>{var Me;qe=!1,null===(Me=ce.complete)||void 0===Me||Me.call(ce),G.complete()},Me=>{var Oe;qe=!1,null===(Oe=ce.error)||void 0===Oe||Oe.call(ce,Me),G.error(Me)},()=>{var Me,Oe;qe&&(null===(Me=ce.unsubscribe)||void 0===Me||Me.call(ce)),null===(Oe=ce.finalize)||void 0===Oe||Oe.call(ce)}))}):le.y}},4408:(ot,Ie,P)=>{P.d(Ie,{o:()=>ne});var d=P(727);class Q extends d.w0{constructor(ee,fe){super()}schedule(ee,fe=0){return this}}const N={setInterval(me,ee,...fe){const{delegate:ce}=N;return(null==ce?void 0:ce.setInterval)?ce.setInterval(me,ee,...fe):setInterval(me,ee,...fe)},clearInterval(me){const{delegate:ee}=N;return((null==ee?void 0:ee.clearInterval)||clearInterval)(me)},delegate:void 0};var le=P(8737);class ne extends Q{constructor(ee,fe){super(ee,fe),this.scheduler=ee,this.work=fe,this.pending=!1}schedule(ee,fe=0){if(this.closed)return this;this.state=ee;const ce=this.id,$=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId($,ce,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId($,this.id,fe),this}requestAsyncId(ee,fe,ce=0){return N.setInterval(ee.flush.bind(ee,this),ce)}recycleAsyncId(ee,fe,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return fe;N.clearInterval(fe)}execute(ee,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ee,fe);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,fe){let $,ce=!1;try{this.work(ee)}catch(G){ce=!0,$=G||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ee,scheduler:fe}=this,{actions:ce}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ce,this),null!=ee&&(this.id=this.recycleAsyncId(fe,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(ot,Ie,P)=>{P.d(Ie,{v:()=>N});var d=P(6063);class Q{constructor(ne,me=Q.now){this.schedulerActionCtor=ne,this.now=me}schedule(ne,me=0,ee){return new this.schedulerActionCtor(this,ne).schedule(ee,me)}}Q.now=d.l.now;class N extends Q{constructor(ne,me=Q.now){super(ne,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:me}=this;if(this._active)return void me.push(ne);let ee;this._active=!0;do{if(ee=ne.execute(ne.state,ne.delay))break}while(ne=me.shift());if(this._active=!1,ee){for(;ne=me.shift();)ne.unsubscribe();throw ee}}}},4986:(ot,Ie,P)=>{P.d(Ie,{P:()=>le,z:()=>N});var d=P(4408);const N=new(P(7565).v)(d.o),le=N},6063:(ot,Ie,P)=>{P.d(Ie,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(ot,Ie,P)=>{P.d(Ie,{z:()=>d});const d={setTimeout(Q,N,...le){const{delegate:ne}=d;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout(Q,N,...le):setTimeout(Q,N,...le)},clearTimeout(Q){const{delegate:N}=d;return((null==N?void 0:N.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(ot,Ie,P)=>{P.d(Ie,{h:()=>Q});const Q=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ot,Ie,P)=>{P.d(Ie,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ot,Ie,P)=>{P.d(Ie,{_6:()=>me,jO:()=>le,yG:()=>ne});var d=P(576),Q=P(3532);function N(ee){return ee[ee.length-1]}function le(ee){return(0,d.m)(N(ee))?ee.pop():void 0}function ne(ee){return(0,Q.K)(N(ee))?ee.pop():void 0}function me(ee,fe){return"number"==typeof N(ee)?ee.pop():fe}},8737:(ot,Ie,P)=>{function d(Q,N){if(Q){const le=Q.indexOf(N);0<=le&&Q.splice(le,1)}}P.d(Ie,{P:()=>d})},3888:(ot,Ie,P)=>{function d(Q){const le=Q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}P.d(Ie,{d:()=>d})},2806:(ot,Ie,P)=>{P.d(Ie,{O:()=>le,x:()=>N});var d=P(2416);let Q=null;function N(ne){if(d.v.useDeprecatedSynchronousErrorHandling){const me=!Q;if(me&&(Q={errorThrown:!1,error:null}),ne(),me){const{errorThrown:ee,error:fe}=Q;if(Q=null,ee)throw fe}}else ne()}function le(ne){d.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ne)}},9672:(ot,Ie,P)=>{function d(Q,N,le,ne=0,me=!1){const ee=N.schedule(function(){le(),me?Q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Q.add(ee),!me)return ee}P.d(Ie,{f:()=>d})},4671:(ot,Ie,P)=>{function d(Q){return Q}P.d(Ie,{y:()=>d})},1144:(ot,Ie,P)=>{P.d(Ie,{z:()=>d});const d=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(ot,Ie,P)=>{P.d(Ie,{D:()=>Q});var d=P(576);function Q(N){return Symbol.asyncIterator&&(0,d.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(ot,Ie,P)=>{function d(Q){return"function"==typeof Q}P.d(Ie,{m:()=>d})},3670:(ot,Ie,P)=>{P.d(Ie,{c:()=>N});var d=P(8822),Q=P(576);function N(le){return(0,Q.m)(le[d.L])}},6495:(ot,Ie,P)=>{P.d(Ie,{T:()=>N});var d=P(2202),Q=P(576);function N(le){return(0,Q.m)(null==le?void 0:le[d.h])}},8239:(ot,Ie,P)=>{P.d(Ie,{t:()=>Q});var d=P(576);function Q(N){return(0,d.m)(null==N?void 0:N.then)}},3260:(ot,Ie,P)=>{P.d(Ie,{L:()=>le,Q:()=>N});var d=P(655),Q=P(576);function N(ne){return(0,d.FC)(this,arguments,function*(){const ee=ne.getReader();try{for(;;){const{value:fe,done:ce}=yield(0,d.qq)(ee.read());if(ce)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(fe)}}finally{ee.releaseLock()}})}function le(ne){return(0,Q.m)(null==ne?void 0:ne.getReader)}},3532:(ot,Ie,P)=>{P.d(Ie,{K:()=>Q});var d=P(576);function Q(N){return N&&(0,d.m)(N.schedule)}},4482:(ot,Ie,P)=>{P.d(Ie,{A:()=>Q,e:()=>N});var d=P(576);function Q(le){return(0,d.m)(null==le?void 0:le.lift)}function N(le){return ne=>{if(Q(ne))return ne.lift(function(me){try{return le(me,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ot,Ie,P)=>{function d(){}P.d(Ie,{Z:()=>d})},7849:(ot,Ie,P)=>{P.d(Ie,{h:()=>N});var d=P(2416),Q=P(3410);function N(le){Q.z.setTimeout(()=>{const{onUnhandledError:ne}=d.v;if(!ne)throw le;ne(le)})}},4532:(ot,Ie,P)=>{function d(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ie,{z:()=>d})},655:(ot,Ie,P)=>{function le(te,ue){var ie={};for(var Ce in te)Object.prototype.hasOwnProperty.call(te,Ce)&&ue.indexOf(Ce)<0&&(ie[Ce]=te[Ce]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var _e=0;for(Ce=Object.getOwnPropertySymbols(te);_e<Ce.length;_e++)ue.indexOf(Ce[_e])<0&&Object.prototype.propertyIsEnumerable.call(te,Ce[_e])&&(ie[Ce[_e]]=te[Ce[_e]])}return ie}function fe(te,ue,ie,Ce){return new(ie||(ie=Promise))(function(Fe,It){function Qt(qt){try{ze(Ce.next(qt))}catch(Kn){It(Kn)}}function on(qt){try{ze(Ce.throw(qt))}catch(Kn){It(Kn)}}function ze(qt){qt.done?Fe(qt.value):function _e(Fe){return Fe instanceof ie?Fe:new ie(function(It){It(Fe)})}(qt.value).then(Qt,on)}ze((Ce=Ce.apply(te,ue||[])).next())})}function pe(te){return this instanceof pe?(this.v=te,this):new pe(te)}function we(te,ue,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,Ce=ie.apply(te,ue||[]),Fe=[];return _e={},It("next"),It("throw"),It("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function It(Dn){Ce[Dn]&&(_e[Dn]=function(nn){return new Promise(function(Ei,Xt){Fe.push([Dn,nn,Ei,Xt])>1||Qt(Dn,nn)})})}function Qt(Dn,nn){try{!function on(Dn){Dn.value instanceof pe?Promise.resolve(Dn.value.v).then(ze,qt):Kn(Fe[0][2],Dn)}(Ce[Dn](nn))}catch(Ei){Kn(Fe[0][3],Ei)}}function ze(Dn){Qt("next",Dn)}function qt(Dn){Qt("throw",Dn)}function Kn(Dn,nn){Dn(nn),Fe.shift(),Fe.length&&Qt(Fe[0][0],Fe[0][1])}}function Ze(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,ue=te[Symbol.asyncIterator];return ue?ue.call(te):(te=function J(te){var ue="function"==typeof Symbol&&Symbol.iterator,ie=ue&&te[ue],Ce=0;if(ie)return ie.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Ce>=te.length&&(te=void 0),{value:te&&te[Ce++],done:!te}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ie={},Ce("next"),Ce("throw"),Ce("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function Ce(Fe){ie[Fe]=te[Fe]&&function(It){return new Promise(function(Qt,on){!function _e(Fe,It,Qt,on){Promise.resolve(on).then(function(ze){Fe({value:ze,done:Qt})},It)}(Qt,on,(It=te[Fe](It)).done,It.value)})}}}P.d(Ie,{FC:()=>we,KL:()=>Ze,_T:()=>le,mG:()=>fe,qq:()=>pe})},5e3:(ot,Ie,P)=>{P.d(Ie,{$8M:()=>_l,$Z:()=>M0,AFp:()=>cw,AaK:()=>fe,BQk:()=>ag,CHM:()=>ru,CRH:()=>Iy,CZH:()=>Fy,CqO:()=>k0,DdM:()=>fy,EJc:()=>pw,EiD:()=>Aa,EpF:()=>R0,F$t:()=>P0,F4k:()=>V_,FYo:()=>zt,FiY:()=>Ti,G48:()=>YS,Gf:()=>Ig,GfV:()=>PE,Gpc:()=>G,Hsn:()=>Bh,Ikx:()=>iE,JOm:()=>ae,JVY:()=>mp,L6k:()=>Ru,LAX:()=>qc,LFG:()=>rt,LSH:()=>mh,Lbi:()=>OS,MGl:()=>Uh,NdJ:()=>Qi,OlP:()=>Cn,Oqu:()=>Y0,PXZ:()=>bw,Q6J:()=>P_,QGY:()=>L_,Qsj:()=>rS,R0b:()=>ko,RDi:()=>us,Rgc:()=>xo,SBq:()=>Jh,Sil:()=>LS,Suo:()=>YE,TTD:()=>po,TgZ:()=>Fh,VKq:()=>py,VLi:()=>yw,WFA:()=>Lh,X6Q:()=>ZS,XFs:()=>ct,Xpm:()=>Lt,Y36:()=>Nh,YKP:()=>VE,YNc:()=>II,Yjl:()=>pr,Yz7:()=>nn,ZZ4:()=>Xy,_Bn:()=>ME,_UZ:()=>F_,_Vd:()=>Xh,_c5:()=>kw,_uU:()=>Z0,aQg:()=>Rw,c2e:()=>sO,cJS:()=>Xt,cg1:()=>oE,d8E:()=>sE,dDg:()=>_w,deG:()=>cp,dqk:()=>Gt,eBb:()=>_p,eFA:()=>Ng,ekj:()=>W_,f3M:()=>Yt,g9A:()=>dw,h0i:()=>Wu,hGG:()=>CO,hij:()=>fg,iGM:()=>ZE,ifc:()=>Kt,ip1:()=>uw,kL8:()=>Gh,lG2:()=>Jt,mCW:()=>Ml,n5z:()=>Vn,oAB:()=>X,oxw:()=>ug,pB0:()=>yp,q3G:()=>kn,q4F:()=>NE,qLn:()=>kr,qOj:()=>p0,qZA:()=>og,qzn:()=>Sa,s9C:()=>U_,sBO:()=>Sw,sIi:()=>So,s_b:()=>Rd,soG:()=>Og,tBr:()=>Zi,tb:()=>hw,tp0:()=>Ai,uIk:()=>Pa,vHH:()=>Oe,vpe:()=>Mo,wAp:()=>bt,xp6:()=>MD,yhl:()=>zc,ynx:()=>bd,z2F:()=>zy,z3N:()=>gs,zSh:()=>d_,zs3:()=>ta});var d=P(7579),Q=P(727),N=P(8306),le=P(6451),ne=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function ee(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=me({__forward_ref__:me});function G(s){return s.__forward_ref__=G,s.toString=function(){return fe(this())},s}function J(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===G}class Oe extends Error{constructor(o,l){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}function ve(s,o){const l=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${we(s)} found${l}`)}function on(s,o){null==s&&function ze(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wt(s){return rr(s,$i)||rr(s,rs)}function rr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ir(s){return s&&(s.hasOwnProperty(Tr)||s.hasOwnProperty(is))?s[Tr]:null}const $i=me({\u0275prov:me}),Tr=me({\u0275inj:me}),rs=me({ngInjectableDef:me}),is=me({ngInjectorDef:me});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Vr;function $n(s){const o=Vr;return Vr=s,o}function ei(s,o,l){const u=Wt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&ct.Optional?null:void 0!==o?o:void ve(fe(s),"Injector")}function vn(s){return{toString:s}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),Kt=(()=>{return(s=Kt||(Kt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Kt;var s})();const it="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,ir="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=it||"undefined"!=typeof global&&global||wt||ir,sr={},ht=[],fr=me({\u0275cmp:me}),Ut=me({\u0275dir:me}),Ye=me({\u0275pipe:me}),Ae=me({\u0275mod:me}),Xe=me({\u0275fac:me}),ft=me({__NG_ELEMENT_ID__:me});let jt=0;function Lt(s){return vn(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Kt.Emulated,id:"c",styles:s.styles||ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return u.id+=jt++,u.inputs=yt(s.inputs,l),u.outputs=yt(s.outputs),m&&m.forEach(E=>E(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(B):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,u})}function B(s){return Zt(s)||function In(s){return s[Ut]||null}(s)}function q(s){return function Rt(s){return s[Ye]||null}(s)}const de={};function X(s){return vn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ht,declarations:s.declarations||ht,imports:s.imports||ht,exports:s.exports||ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function yt(s,o){if(null==s)return sr;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=u,o&&(o[h]=m)}return l}const Jt=Lt;function pr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Zt(s){return s[fr]||null}function fn(s,o){const l=s[Ae]||null;if(!l&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return l}function ni(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ur(s){return Array.isArray(s)&&!0===s[1]}function gc(s){return 0!=(8&s.flags)}function Vs(s){return 2==(2&s.flags)}function Za(s){return 1==(1&s.flags)}function jr(s){return null!==s.template}function mc(s){return 0!=(512&s[2])}function Hr(s,o){return s.hasOwnProperty(Xe)?s[Xe]:null}class Vo{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function po(){return fa}function fa(s){return s.type.prototype.ngOnChanges&&(s.setInput=ip),wc}function wc(){const s=js(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===sr)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ip(s,o,l,u){const h=js(s)||function ri(s,o){return s[go]=o}(s,{previous:sr,current:null}),m=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],C=v[E];m[E]=new Vo(C&&C.currentValue,o,v===sr),s[u]=o}po.ngInherit=!0;const go="__ngSimpleChanges__";function js(s){return s[go]||null}let nl;function us(s){nl=s}function yn(s){return!!s.listen}const Bo={createRenderer:(s,o)=>function pa(){return void 0!==nl?nl:"undefined"!=typeof document?document:void 0}()};function un(s){for(;Array.isArray(s);)s=s[0];return s}function _o(s,o){return un(o[s])}function gr(s,o){return un(o[s.index])}function ga(s,o){return s.data[o]}function mr(s,o){const l=o[s];return ni(l)?l:l[0]}function $s(s){return 4==(4&s[2])}function cs(s){return 128==(128&s[2])}function $r(s,o){return null==o?null:s[o]}function Gs(s){s[18]=0}function zs(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const pt={lFrame:vo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function al(){return pt.bindingsEnabled}function De(){return pt.lFrame.lView}function Vt(){return pt.lFrame.tView}function ru(s){return pt.lFrame.contextLView=s,s[8]}function bn(){let s=Uo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Uo(){return pt.lFrame.currentTNode}function Gr(s,o){const l=pt.lFrame;l.currentTNode=s,l.isParent=o}function iu(){return pt.lFrame.isParent}function su(){pt.lFrame.isParent=!1}function ll(){return pt.isInCheckNoChangesMode}function qs(s){pt.isInCheckNoChangesMode=s}function lr(){const s=pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ws(){return pt.lFrame.bindingIndex++}function dl(s,o){const l=pt.lFrame;l.bindingIndex=l.bindingRootIndex=s,_a(o)}function _a(s){pt.lFrame.currentDirectiveIndex=s}function Ho(s){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function uu(){return pt.lFrame.currentQueryIndex}function cu(s){pt.lFrame.currentQueryIndex=s}function Tc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function du(s,o,l){if(l&ct.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&ct.Host||(h=Tc(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const u=pt.lFrame=Sc();return u.currentTNode=o,u.lView=s,!0}function yo(s){const o=Sc(),l=s[1];pt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Sc(){const s=pt.lFrame,o=null===s?null:s.child;return null===o?vo(s):o}function vo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ac(){const s=pt.lFrame;return pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Mc=Ac;function bo(){const s=Ac();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function _r(){return pt.lFrame.selectedIndex}function Zs(s){pt.lFrame.selectedIndex=s}function Tn(){const s=pt.lFrame;return ga(s.tView,s.selectedIndex)}function ds(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:R}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function ya(s,o,l){xc(s,o,3,l)}function hl(s,o,l,u){(3&s[2])===l&&xc(s,o,l,u)}function Fn(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function xc(s,o,l,u){const m=null!=u?u:-1,v=o.length-1;let E=0;for(let C=void 0!==u?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=u&&E>=u)break}else o[C]<0&&(s[18]+=65536),(E<m||-1==m)&&(sp(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function sp(s,o,l,u){const h=l[u]<0,m=l[u+1],E=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class $o{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function _u(s,o,l){const u=yn(s);let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const v=l[h++],E=l[h++],C=l[h++];u?s.setAttribute(o,E,C,v):o.setAttributeNS(v,E,C)}else{const v=m,E=l[++h];wn(v)?u&&s.setProperty(o,v,E):u?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function Wi(s){return 3===s||4===s||6===s}function wn(s){return 64===s.charCodeAt(0)}function zr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||va(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function va(s,o,l,u,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===l){if(null===u)return void(null!==h&&(s[m+1]=h));if(u===s[m+1])return void(s[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==u&&s.splice(m++,0,u),null!==h&&s.splice(m++,0,h)}function fl(s){return-1!==s}function Bt(s){return 32767&s}function vr(s,o){let l=function ap(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let ba=!0;function fs(s){const o=ba;return ba=s,o}let gl=0;function qo(s,o){const l=Qs(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Ys(u.data,s),Ys(o,null),Ys(u.blueprint,null));const h=oi(s,o),m=s.injectorIndex;if(fl(h)){const v=Bt(h),E=vr(h,o),C=E[1].data;for(let M=0;M<8;M++)o[m+M]=E[v+M]|C[v+M]}return o[m+8]=h,m}function Ys(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Qs(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function oi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(u=2===v?m.declTNode:1===v?h[6]:null,null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function Eo(s,o,l){!function si(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(ft)&&(u=l[ft]),null==u&&(u=l[ft]=gl++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function qr(s,o,l){if(l&ct.Optional)return s;ve(o,"NodeInjector")}function wa(s,o,l,u){if(l&ct.Optional&&void 0===u&&(u=null),0==(l&(ct.Self|ct.Host))){const h=s[9],m=$n(void 0);try{return h?h.get(o,u,l&ct.Optional):ei(o,u,l&ct.Optional)}finally{$n(m)}}return qr(u,o,l)}function gn(s,o,l,u=ct.Default,h){if(null!==s){const m=function Pc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ft)?s[ft]:void 0;return"number"==typeof o?o>=0?255&o:yu:o}(l);if("function"==typeof m){if(!du(o,s,u))return u&ct.Host?qr(h,l,u):wa(o,l,u,h);try{const v=m(u);if(null!=v||u&ct.Optional)return v;ve(l)}finally{Mc()}}else if("number"==typeof m){let v=null,E=Qs(s,o),C=-1,M=u&ct.Host?o[16][6]:null;for((-1===E||u&ct.SkipSelf)&&(C=-1===E?oi(s,o):o[E+8],-1!==C&&Xs(u,!1)?(v=o[1],E=Bt(C),o=vr(C,o)):E=-1);-1!==E;){const R=o[1];if(ml(m,E,R.data)){const F=lp(E,o,l,v,u,M);if(F!==Ln)return F}C=o[E+8],-1!==C&&Xs(u,o[1].data[E+8]===M)&&ml(m,E,o)?(v=R,E=Bt(C),o=vr(C,o)):E=-1}}}return wa(o,l,u,h)}const Ln={};function yu(){return new br(bn(),De())}function lp(s,o,l,u,h,m){const v=o[1],E=v.data[s+8],R=vu(E,v,l,null==u?Vs(E)&&ba:u!=v&&0!=(3&E.type),h&ct.Host&&m===E);return null!==R?Ki(o,v,R,E):Ln}function vu(s,o,l,u,h){const m=s.providerIndexes,v=o.data,E=1048575&m,C=s.directiveStart,R=m>>20,j=h?E+R:s.directiveEnd;for(let Y=u?E:E+R;Y<j;Y++){const ye=v[Y];if(Y<C&&l===ye||Y>=C&&ye.type===l)return Y}if(h){const Y=v[C];if(Y&&jr(Y)&&Y.type===l)return C}return null}function Ki(s,o,l,u){let h=s[l];const m=o.data;if(function Rc(s){return s instanceof $o}(h)){const v=h;v.resolving&&function Je(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${l}`)}(we(m[l]));const E=fs(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?$n(v.injectImpl):null;du(s,u,ct.Default);try{h=s[l]=v.factory(void 0,m,s,u),o.firstCreatePass&&l>=u.directiveStart&&function pu(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const v=fa(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==C&&$n(C),fs(E),v.resolving=!1,Mc()}}return h}function ml(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Xs(s,o){return!(s&ct.Self||s&ct.Host&&o)}class br{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return gn(this._tNode,this._lView,o,u,l)}}function Vn(s){return vn(()=>{const o=s.prototype.constructor,l=o[Xe]||gt(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const m=h[Xe]||gt(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function gt(s){return qe(s)?()=>{const o=gt(J(s));return o&&o()}:Hr(s)}function _l(s){return function Ea(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const m=l[h];if(Wi(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(bn(),s)}const eo="__parameters__";function li(s,o,l){return vn(()=>{const u=function yl(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const v=new h(...m);return E.annotation=v,E;function E(C,M,R){const F=C.hasOwnProperty(eo)?C[eo]:Object.defineProperty(C,eo,{value:[]})[eo];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Cn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=nn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cp=new Cn("AnalyzeForEntryComponents");function ur(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),ur(u,o)):o!==s&&o.push(u)}return o}function Kr(s,o){s.forEach(l=>Array.isArray(l)?Kr(l,o):o(l))}function bu(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ps(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Mr(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function xr(s,o,l){let u=Co(s,o);return u>=0?s[1|u]=l:(u=~u,function El(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function Cl(s,o){const l=Co(s,o);if(l>=0)return s[1|l]}function Co(s,o){return function no(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const m=u+(h-u>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:u=m+1}return~(h<<l)}(s,o,1)}const ro={},Il="__NG_DI_FLAG__",Bc="ngTempTokenPath",I=/\n/gm,V="__source",K=me({provide:String,useValue:me});let re;function Re(s){const o=re;return re=s,o}function Qe(s,o=ct.Default){if(void 0===re)throw new Oe(203,"");return null===re?ei(s,void 0,o):re.get(s,o&ct.Optional?null:void 0,o)}function rt(s,o=ct.Default){return(function Zn(){return Vr}()||Qe)(J(s),o)}const Yt=rt;function St(s){const o=[];for(let l=0;l<s.length;l++){const u=J(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Oe(900,"");let h,m=ct.Default;for(let v=0;v<u.length;v++){const E=u[v],C=Rn(E);"number"==typeof C?-1===C?h=E.token:m|=C:h=E}o.push(rt(h,m))}else o.push(rt(u))}return o}function er(s,o){return s[Il]=o,s.prototype[Il]=o,s}function Rn(s){return s[Il]}const Zi=er(li("Inject",s=>({token:s})),-1),Ti=er(li("Optional"),8),Ai=er(li("SkipSelf"),4);let Su;function Zo(s){var o;return(null===(o=function Au(){if(void 0===Su&&(Su=null,Gt.trustedTypes))try{Su=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Su}())||void 0===o?void 0:o.createHTML(s))||s}class Qo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class lh extends Qo{getTypeName(){return"HTML"}}class gp extends Qo{getTypeName(){return"Style"}}class $c extends Qo{getTypeName(){return"Script"}}class Gc extends Qo{getTypeName(){return"URL"}}class uh extends Qo{getTypeName(){return"ResourceURL"}}function gs(s){return s instanceof Qo?s.changingThisBreaksApplicationSecurity:s}function Sa(s,o){const l=zc(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function zc(s){return s instanceof Qo&&s.getTypeName()||null}function mp(s){return new lh(s)}function Ru(s){return new gp(s)}function _p(s){return new $c(s)}function qc(s){return new Gc(s)}function yp(s){return new uh(s)}class ku{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Zo(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Wc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Zo(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=Zo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Al=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,mb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ml(s){return(s=String(s)).match(Al)||s.match(mb)?s:"unsafe:"+s}function Mi(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Ou(...s){const o={};for(const l of s)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const ch=Mi("area,br,col,hr,img,wbr"),xl=Mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ep=Mi("rp,rt"),wp=Ou(ch,Ou(xl,Mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ou(Ep,Mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ou(Ep,xl)),Kc=Mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hh=Mi("srcset"),Pu=Ou(Kc,hh,Mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cp=Mi("script,style,template");class Vm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!wp.hasOwnProperty(l))return this.sanitizedSomething=!0,!Cp.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),v=m.name,E=v.toLowerCase();if(!Pu.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=m.value;Kc[E]&&(C=Ml(C)),hh[E]&&(s=C,C=(s=String(s)).split(",").map(o=>Ml(o.trim())).join(", ")),this.buf.push(" ",v,'="',Nu(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();wp.hasOwnProperty(l)&&!ch.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Nu(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Zc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fh=/([^\#-~ |!])/g;function Nu(s){return s.replace(/&/g,"&amp;").replace(Zc,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(fh,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yc;function Aa(s,o){let l=null;try{Yc=Yc||function vp(s){const o=new Wc(s);return function Nm(){try{return!!(new window.DOMParser).parseFromString(Zo(""),"text/html")}catch(s){return!1}}()?new ku(o):o}(s);let u=o?String(o):"";l=Yc.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=l.innerHTML,l=Yc.getInertBodyElement(u)}while(u!==m);return Zo((new Vm).sanitizeChildren(ph(l)||l))}finally{if(l){const u=ph(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function ph(s){return"content"in s&&function gh(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var kn=(()=>((kn=kn||{})[kn.NONE=0]="NONE",kn[kn.HTML=1]="HTML",kn[kn.STYLE=2]="STYLE",kn[kn.SCRIPT=3]="SCRIPT",kn[kn.URL=4]="URL",kn[kn.RESOURCE_URL=5]="RESOURCE_URL",kn))();function mh(s){const o=function Ma(){const s=De();return s&&s[12]}();return o?o.sanitize(kn.URL,s)||"":Sa(s,"URL")?gs(s):Ml(pe(s))}const Xc="__ngContext__";function On(s,o){s[Xc]=o}function Jc(s){const o=function xa(s){return s[Xc]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function bh(s){return s.ngOriginalError}function $m(s,...o){s.error(...o)}class kr{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=function Rp(s){return s&&s.ngErrorLogger||$m}(o);u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&bh(o);for(;l&&bh(l);)l=bh(l);return l||null}}const Km=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function g(s){return s instanceof Function?s():s}var ae=(()=>((ae=ae||{})[ae.Important=1]="Important",ae[ae.DashCase=2]="DashCase",ae))();function et(s,o){return undefined(s,o)}function An(s){const o=s[3];return Ur(o)?o[3]:o}function id(s){return Pp(s[13])}function sd(s){return Pp(s[4])}function Pp(s){for(;null!==s&&!Ur(s);)s=s[4];return s}function Ra(s,o,l,u,h){if(null!=u){let m,v=!1;Ur(u)?m=u:ni(u)&&(v=!0,u=u[0]);const E=un(u);0===s&&null!==l?null==h?pD(o,l,E):od(o,l,E,h||null,!0):1===s&&null!==l?od(o,l,E,h||null,!0):2===s?function ED(s,o,l){const u=Zm(s,o);u&&function jR(s,o,l,u){yn(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=m&&function GR(s,o,l,u,h){const m=l[7];m!==un(l)&&Ra(o,s,u,m,h);for(let E=10;E<l.length;E++){const C=l[E];Vp(C[1],C,s,o,u,m)}}(o,s,m,l,h)}}function Dh(s,o,l){if(yn(s))return s.createElement(o,l);{const u=null!==l?function tl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function cD(s,o){const l=s[9],u=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,zs(h,-1)),l.splice(u,1)}function Db(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&cD(h,u),o>0&&(s[l-1][4]=u[4]);const m=ps(s,10+o);!function wb(s,o){Vp(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=m[19];null!==v&&v.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function dD(s,o){if(!(256&o[2])){const l=o[11];yn(l)&&l.destroyNode&&Vp(s,o,l,3,null,null),function FR(s){let o=s[13];if(!o)return Ib(s[1],s);for(;o;){let l=null;if(ni(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)ni(o)&&Ib(o[1],o),o=o[3];null===o&&(o=s),ni(o)&&Ib(o[1],o),l=o&&o[4]}o=l}}(o)}}function Ib(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function UR(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof $o)){const m=l[u+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=h[m[v]],C=m[v+1];try{C.call(E)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function BR(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],E="function"==typeof v?v(o):un(o[v]),C=u[h=l[m+2]],M=l[m+3];"boolean"==typeof M?E.removeEventListener(l[m],C,M):M>=0?u[h=M]():u[h=-M].unsubscribe(),m+=2}else{const v=u[h=l[m+1]];l[m].call(v)}if(null!==u){for(let m=h+1;m<u.length;m++)u[m]();o[7]=null}}(s,o),1===o[1].type&&yn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Ur(o[3])){l!==o[3]&&cD(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function hD(s,o,l){return function fD(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===Kt.None||h===Kt.Emulated)return null}return gr(u,l)}(s,o.parent,l)}function od(s,o,l,u,h){yn(s)?s.insertBefore(o,l,u,h):o.insertBefore(l,u,h)}function pD(s,o,l){yn(s)?s.appendChild(o,l):o.appendChild(l)}function gD(s,o,l,u,h){null!==u?od(s,o,l,u,h):pD(s,o,l)}function Zm(s,o){return yn(s)?s.parentNode(o):o.parentNode}function mD(s,o,l){return yD(s,o,l)}let yD=function _D(s,o,l){return 40&s.type?gr(s,l):null};function Ym(s,o,l,u){const h=hD(s,u,o),m=o[11],E=mD(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)gD(m,h,l[C],E,!1);else gD(m,h,l,E,!1)}function Qm(s,o){if(null!==o){const l=o.type;if(3&l)return gr(o,s);if(4&l)return Sb(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return Qm(s,u);{const h=s[o.index];return Ur(h)?Sb(-1,h):un(h)}}if(32&l)return et(o,s)()||un(s[o.index]);{const u=bD(s,o);return null!==u?Array.isArray(u)?u[0]:Qm(An(s[16]),u):Qm(s,o.next)}}return null}function bD(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Sb(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return Qm(u,h)}return o[7]}function Ab(s,o,l,u,h,m,v){for(;null!=l;){const E=u[l.index],C=l.type;if(v&&0===o&&(E&&On(un(E),u),l.flags|=4),64!=(64&l.flags))if(8&C)Ab(s,o,l.child,u,h,m,!1),Ra(o,s,h,E,m);else if(32&C){const M=et(l,u);let R;for(;R=M();)Ra(o,s,h,R,m);Ra(o,s,h,E,m)}else 16&C?wD(s,o,u,l,h,m):Ra(o,s,h,E,m);l=v?l.projectionNext:l.next}}function Vp(s,o,l,u,h,m){Ab(l,u,s.firstChild,o,h,m,!1)}function wD(s,o,l,u,h,m){const v=l[16],C=v[6].projection[u.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)Ra(o,s,h,C[M],m);else Ab(s,o,C,v[3],h,m,!0)}function CD(s,o,l){yn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Mb(s,o,l){yn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function DD(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||s.charCodeAt(h+m)<=32)return h}l=h+1}}const ID="ng-template";function qR(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==DD(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function TD(s){return 4===s.type&&s.value!==ID}function WR(s,o,l){return o===(4!==s.type||l?s.value:ID)}function KR(s,o,l){let u=4;const h=s.attrs||[],m=function QR(s){for(let o=0;o<s.length;o++)if(Wi(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!WR(s,C,l)||""===C&&1===o.length){if(To(u))return!1;v=!0}}else{const M=8&u?C:o[++E];if(8&u&&null!==s.attrs){if(!qR(s.attrs,M,l)){if(To(u))return!1;v=!0}continue}const F=ZR(8&u?"class":C,h,TD(s),l);if(-1===F){if(To(u))return!1;v=!0;continue}if(""!==M){let j;j=F>m?"":h[F+1].toLowerCase();const Y=8&u?j:null;if(Y&&-1!==DD(Y,M,0)||2&u&&M!==j){if(To(u))return!1;v=!0}}}}else{if(!v&&!To(u)&&!To(C))return!1;if(v&&To(C))continue;v=!1,u=C|1&u}}return To(u)||v}function To(s){return 0==(1&s)}function ZR(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function XR(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function SD(s,o,l=!1){for(let u=0;u<o.length;u++)if(KR(s,o[u],l))return!0;return!1}function JR(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function AD(s,o){return s?":not("+o.trim()+")":o}function ek(s){let o=s[0],l=1,u=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&u){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!To(v)&&(o+=AD(m,h),h=""),u=v,m=m||!To(u);l++}return""!==h&&(o+=AD(m,h)),o}const Pt={};function MD(s){xD(Vt(),De(),_r()+s,ll())}function xD(s,o,l,u){if(!u)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&ya(o,m,l)}else{const m=s.preOrderHooks;null!==m&&hl(o,m,0,l)}Zs(l)}function Xm(s,o){return s<<17|o<<2}function Jo(s){return s>>17&32767}function xb(s){return 2|s}function Nl(s){return(131068&s)>>2}function Rb(s,o){return-131069&s|o<<2}function kb(s){return 1|s}function n_(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],m=l[u+1];if(-1!==m){const v=s.data[m];cu(h),v.contentQueries(2,o[m],m)}}}function Up(s,o,l,u,h,m,v,E,C,M){const R=o.blueprint.slice();return R[0]=h,R[2]=140|u,Gs(R),R[3]=R[15]=s,R[8]=l,R[10]=v||s&&s[10],R[11]=E||s&&s[11],R[12]=C||s&&s[12]||null,R[9]=M||s&&s[9]||null,R[6]=m,R[16]=2==o.type?s[16]:R,R}function ud(s,o,l,u,h){let m=s.data[o];if(null===m)m=function Bb(s,o,l,u,h){const m=Uo(),v=iu(),C=s.data[o]=function $b(s,o,l,u,h,m){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,l,u,h),function au(){return pt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=u,m.attrs=h;const v=function jo(){const s=pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Gr(m,!0),m}function Ih(s,o,l,u){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function jp(s,o,l){yo(o);try{const u=s.viewQuery;null!==u&&Kp(1,u,l);const h=s.template;null!==h&&UD(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&n_(s,o),s.staticViewQueries&&Kp(2,s.viewQuery,l);const m=s.components;null!==m&&function BD(s,o){for(let l=0;l<o.length;l++)ka(s,o[l])}(o,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,bo()}}function Th(s,o,l,u){const h=o[2];if(256==(256&h))return;yo(o);const m=ll();try{Gs(o),function ul(s){return pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&UD(s,o,l,2,u);const v=3==(3&h);if(!m)if(v){const M=s.preOrderCheckHooks;null!==M&&ya(o,M,null)}else{const M=s.preOrderHooks;null!==M&&hl(o,M,0,null),Fn(o,0)}if(function vk(s){for(let o=id(s);null!==o;o=sd(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],m=h[3];0==(1024&h[2])&&zs(m,1),h[2]|=1024}}}(o),function nI(s){for(let o=id(s);null!==o;o=sd(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];cs(u)&&Th(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&n_(s,o),!m)if(v){const M=s.contentCheckHooks;null!==M&&ya(o,M)}else{const M=s.contentHooks;null!==M&&hl(o,M,1),Fn(o,1)}!function dk(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)Zs(~h);else{const m=h,v=l[++u],E=l[++u];dl(v,m),E(2,o[m])}}}finally{Zs(-1)}}(s,o);const E=s.components;null!==E&&function hk(s,o){for(let l=0;l<o.length;l++)Wb(s,o[l])}(o,E);const C=s.viewQuery;if(null!==C&&Kp(2,C,u),!m)if(v){const M=s.viewCheckHooks;null!==M&&ya(o,M)}else{const M=s.viewHooks;null!==M&&hl(o,M,2),Fn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,zs(o[3],-1))}finally{bo()}}function fk(s,o,l,u){const h=o[10],m=!ll(),v=$s(o);try{m&&!v&&h.begin&&h.begin(),v&&jp(s,o,u),Th(s,o,l,u)}finally{m&&!v&&h.end&&h.end()}}function UD(s,o,l,u,h){const m=_r(),v=2&u;try{Zs(-1),v&&o.length>20&&xD(s,o,20,ll()),l(u,h)}finally{Zs(m)}}function jD(s,o,l){if(gc(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function Hp(s,o,l){!al()||(function KD(s,o,l,u){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||qo(l,o),On(u,o);const v=l.initialInputs;for(let E=h;E<m;E++){const C=s.data[E],M=jr(C);M&&eI(o,l,C);const R=Ki(o,s,E,l);On(R,o),null!==v&&yk(0,E-h,R,C,0,v),M&&(mr(l.index,o)[8]=R)}}(s,o,l,gr(l,o)),128==(128&l.flags)&&function zb(s,o,l){const u=l.directiveStart,h=l.directiveEnd,v=l.index,E=function lu(){return pt.lFrame.currentDirectiveIndex}();try{Zs(v);for(let C=u;C<h;C++){const M=s.data[C],R=o[C];_a(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Fu(M,R)}}finally{Zs(-1),_a(E)}}(s,o,l))}function r_(s,o,l=gr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const v=u[m+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function Ub(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=$p(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function $p(s,o,l,u,h,m,v,E,C,M){const R=20+u,F=R+h,j=function HD(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:Pt);return l}(R,F),Y="function"==typeof M?M():M;return j[1]={type:s,blueprint:j,template:l,queries:null,viewQuery:E,declTNode:o,data:j.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Y,incompleteFirstPass:!1}}function i_(s,o,l,u){const h=iI(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&l_(s).push(u,h.length-1))}function Gb(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function ys(s,o,l,u,h,m,v,E){const C=gr(o,l);let R,M=o.inputs;!E&&null!=M&&(R=M[u])?(Zp(s,l,R,u,h),Vs(o)&&function zD(s,o){const l=mr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function GD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,yn(m)?m.setProperty(C,u,h):wn(u)||(C.setProperty?C.setProperty(u,h):C[u]=h))}function Gp(s,o,l,u){let h=!1;if(al()){const m=function ZD(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];SD(l,v.selectors,!1)&&(h||(h=[]),Eo(qo(l,o),s,v.type),jr(v)?(YD(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===u?null:{"":-1};if(null!==m){h=!0,XD(l,s.data.length,m.length);for(let R=0;R<m.length;R++){const F=m[R];F.providersResolver&&F.providersResolver(F)}let E=!1,C=!1,M=Ih(s,o,m.length,null);for(let R=0;R<m.length;R++){const F=m[R];l.mergedAttrs=zr(l.mergedAttrs,F.hostAttrs),JD(s,l,o,M,F),_k(M,F,v),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const j=F.type.prototype;!E&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),M++}!function $D(s,o){const u=o.directiveEnd,h=s.data,m=o.attrs,v=[];let E=null,C=null;for(let M=o.directiveStart;M<u;M++){const R=h[M],F=R.inputs,j=null===m||TD(o)?null:qb(F,m);v.push(j),E=Gb(F,M,E),C=Gb(R.outputs,M,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=C}(s,l)}v&&function QD(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new Oe(-301,!1);u.push(o[h],m)}}}(l,u,v)}return l.mergedAttrs=zr(l.mergedAttrs,l.attrs),h}function s_(s,o,l,u,h,m){const v=m.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function WD(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=C&&E.push(C),E.push(u,h,v)}}function Fu(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function YD(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function _k(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;jr(o)&&(l[""]=s)}}function XD(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function JD(s,o,l,u,h){s.data[u]=h;const m=h.factory||(h.factory=Hr(h.type)),v=new $o(m,jr(h),null);s.blueprint[u]=v,l[u]=v,s_(s,o,0,u,Ih(s,l,h.hostVars,Pt),h)}function eI(s,o,l){const u=gr(o,s),h=Ub(l),m=s[10],v=cd(s,Up(s,h,null,l.onPush?64:16,u,o,m,m.createRenderer(u,l),null,null));s[o.index]=v}function vs(s,o,l,u,h,m){const v=gr(s,o);!function zp(s,o,l,u,h,m,v){if(null==m)yn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const E=null==v?pe(m):v(m,u||"",h);yn(s)?s.setAttribute(o,h,E,l):l?o.setAttributeNS(l,h,E):o.setAttribute(h,E)}}(o[11],v,m,s.value,l,u,h)}function yk(s,o,l,u,h,m){const v=m[o];if(null!==v){const E=u.setInput;for(let C=0;C<v.length;){const M=v[C++],R=v[C++],F=v[C++];null!==E?u.setInput(l,F,M,R):l[R]=F}}}function qb(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function qp(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function Wb(s,o){const l=mr(o,s);if(cs(l)){const u=l[1];80&l[2]?Th(u,l,u.template,l[8]):l[5]>0&&o_(l)}}function o_(s){for(let u=id(s);null!==u;u=sd(u))for(let h=10;h<u.length;h++){const m=u[h];if(1024&m[2]){const v=m[1];Th(v,m,v.template,m[8])}else m[5]>0&&o_(m)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=mr(l[u],s);cs(h)&&h[5]>0&&o_(h)}}function ka(s,o){const l=mr(o,s),u=l[1];(function Kb(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),jp(u,l,l[8])}function cd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Wp(s){for(;s;){s[2]|=64;const o=An(s);if(mc(s)&&!o)return s;s=o}return null}function Sh(s,o,l){const u=o[10];u.begin&&u.begin();try{Th(s,o,s.template,l)}catch(h){throw u_(o,h),h}finally{u.end&&u.end()}}function rI(s){!function ea(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Jc(l),h=u[1];fk(h,u,h.template,l)}}(s[8])}function Kp(s,o,l){cu(0),o(s,l)}const Yb=(()=>Promise.resolve(null))();function iI(s){return s[7]||(s[7]=[])}function l_(s){return s.cleanup||(s.cleanup=[])}function dd(s,o,l){return(null===s||jr(s))&&(l=function Dc(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function u_(s,o){const l=s[9],u=l?l.get(kr,null):null;u&&u.handleError(o)}function Zp(s,o,l,u,h){for(let m=0;m<l.length;){const v=l[m++],E=l[m++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,u,E):C[E]=h}}function kt(s,o,l){const u=_o(o,s);!function Np(s,o,l){yn(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function Lu(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?m=E:1==m?h=ce(h,E):2==m&&(u=ce(u,E+": "+o[++v]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}const c_=new Cn("INJECTOR",-1);class Xb{get(o,l=ro){if(l===ro){const u=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw u.name="NullInjectorError",u}return l}}const d_=new Cn("Set Injector scope."),Ah={},oI={};let h_;function Jb(){return void 0===h_&&(h_=new Xb),h_}function e0(s,o=null,l=null,u){const h=aI(s,o,l,u);return h._resolveInjectorDefTypes(),h}function aI(s,o=null,l=null,u){return new lI(s,l,o||Jb(),u)}class lI{constructor(o,l,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&Kr(l,E=>this.processProvider(E,o,l)),Kr([o],E=>this.processInjectorType(E,[],m)),this.records.set(c_,hd(void 0,this));const v=this.records.get(d_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:fe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=ro,u=ct.Default){this.assertNotDestroyed();const h=Re(this),m=$n(void 0);try{if(!(u&ct.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function mI(s){return"function"==typeof s||"object"==typeof s&&s instanceof Cn}(o)&&Wt(o);E=C&&this.injectableDefInScope(C)?hd(f_(o),Ah):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(u&ct.Self?Jb():this.parent).get(o,l=u&ct.Optional&&l===ro?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Bc]=v[Bc]||[]).unshift(fe(o)),h)throw v;return function Do(s,o,l,u){const h=s[Bc];throw o[V]&&h.unshift(o[V]),s.message=function Tl(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}h=`{${m.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[Bc]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{$n(m),Re(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(fe(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,l,u){if(!(o=J(o)))return!1;let h=Ir(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,E=-1!==u.indexOf(v);if(void 0!==m&&(h=Ir(m)),null==h)return!1;if(null!=h.imports&&!E){let R;u.push(v);try{Kr(h.imports,F=>{this.processInjectorType(F,l,u)&&(void 0===R&&(R=[]),R.push(F))})}finally{}if(void 0!==R)for(let F=0;F<R.length;F++){const{ngModule:j,providers:Y}=R[F];Kr(Y,ye=>this.processProvider(ye,j,Y||ht))}}this.injectorDefTypes.add(v);const C=Hr(v)||(()=>new v);this.records.set(v,hd(C,Ah));const M=h.providers;if(null!=M&&!E){const R=o;Kr(M,F=>this.processProvider(F,R,M))}return void 0!==m&&void 0!==o.providers}processProvider(o,l,u){let h=fd(o=J(o))?o:J(o&&o.provide);const m=function cI(s,o,l){return n0(s)?hd(void 0,s.useValue):hd(t0(s),Ah)}(o);if(fd(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=hd(void 0,Ah,!0),v.factory=()=>St(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,l){return l.value===Ah&&(l.value=oI,l.value=l.factory()),"object"==typeof l.value&&l.value&&function gI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=J(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function f_(s){const o=Wt(s),l=null!==o?o.factory:Hr(s);if(null!==l)return l;if(s instanceof Cn)throw new Oe(204,!1);if(s instanceof Function)return function uI(s){const o=s.length;if(o>0)throw Mr(o,"?"),new Oe(204,!1);const l=function Jr(s){const o=s&&(s[$i]||s[rs]);if(o){const l=function Os(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Oe(204,!1)}function t0(s,o,l){let u;if(fd(s)){const h=J(s);return Hr(h)||f_(h)}if(n0(s))u=()=>J(s.useValue);else if(function hI(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...St(s.deps||[]));else if(function dI(s){return!(!s||!s.useExisting)}(s))u=()=>rt(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function pI(s){return!!s.deps}(s))return Hr(h)||f_(h);u=()=>new h(...St(s.deps))}return u}function hd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function n0(s){return null!==s&&"object"==typeof s&&K in s}function fd(s){return"function"==typeof s}let ta=(()=>{class s{static create(l,u){var h;if(Array.isArray(l))return e0({name:""},u,l,"");{const m=null!==(h=l.name)&&void 0!==h?h:"";return e0({name:m},l.parent,l.providers,m)}}}return s.THROW_IF_NOT_FOUND=ro,s.NULL=new Xb,s.\u0275prov=nn({token:s,providedIn:"any",factory:()=>rt(c_)}),s.__NG_ELEMENT_ID__=-1,s})();function EI(s,o){ds(Jc(s)[1],bn())}function p0(s){let o=function v_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(jr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");h=o.\u0275dir}if(h){if(l){u.push(h);const v=s;v.inputs=Mh(s.inputs),v.declaredInputs=Mh(s.declaredInputs),v.outputs=Mh(s.outputs);const E=h.hostBindings;E&&DI(s,E);const C=h.viewQuery,M=h.contentQueries;if(C&&CI(s,C),M&&m0(s,M),ee(s.inputs,h.inputs),ee(s.declaredInputs,h.declaredInputs),ee(s.outputs,h.outputs),jr(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(s),E===p0&&(l=!1)}}o=Object.getPrototypeOf(o)}!function g0(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=zr(h.hostAttrs,l=zr(l,h.hostAttrs))}}(u)}function Mh(s){return s===sr?{}:s===ht?[]:s}function CI(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function m0(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,m)=>{o(u,h,m),l(u,h,m)}:o}function DI(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let Vu=null;function Bu(){if(!Vu){const s=Gt.Symbol;if(s&&s.iterator)Vu=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Vu=u)}}}return Vu}function So(s){return!!C_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Bu()in s)}function C_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ki(s,o,l){return s[o]=l}function Bn(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Pa(s,o,l,u){const h=De();return Bn(h,Ws(),o)&&(Vt(),vs(Tn(),h,s,o,l,u)),Pa}function gd(s,o,l,u){return Bn(s,Ws(),l)?o+pe(l)+u:Pt}function II(s,o,l,u,h,m,v,E){const C=De(),M=Vt(),R=s+20,F=M.firstCreatePass?function Dk(s,o,l,u,h,m,v,E,C){const M=o.consts,R=ud(o,s,4,v||null,$r(M,E));Gp(o,l,R,$r(M,C)),ds(o,R);const F=R.tViews=$p(2,R,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,R),F.queries=o.queries.embeddedTView(R)),R}(R,M,C,o,l,u,h,m,v):M.data[R];Gr(F,!1);const j=C[11].createComment("");Ym(M,C,j,F),On(j,C),cd(C,C[R]=qp(j,C,j,F)),Za(F)&&Hp(M,C,F),null!=v&&r_(C,F,E)}function Nh(s,o=ct.Default){const l=De();return null===l?rt(s,o):gn(bn(),l,J(s),o)}function M0(){throw new Error("invalid")}function P_(s,o,l){const u=De();return Bn(u,Ws(),o)&&ys(Vt(),Tn(),u,s,o,u[11],l,!1),P_}function N_(s,o,l,u,h){const v=h?"class":"style";Zp(s,l,o.inputs[v],v,u)}function Fh(s,o,l,u){const h=De(),m=Vt(),v=20+s,E=h[11],C=h[v]=Dh(E,o,function Sm(){return pt.lFrame.currentNamespace}()),M=m.firstCreatePass?function UI(s,o,l,u,h,m,v){const E=o.consts,M=ud(o,s,2,h,$r(E,m));return Gp(o,l,M,$r(E,v)),null!==M.attrs&&Lu(M,M.attrs,!1),null!==M.mergedAttrs&&Lu(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,m,h,0,o,l,u):m.data[v];Gr(M,!0);const R=M.mergedAttrs;null!==R&&_u(E,C,R);const F=M.classes;null!==F&&Mb(E,C,F);const j=M.styles;return null!==j&&CD(E,C,j),64!=(64&M.flags)&&Ym(m,h,C,M),0===function ma(){return pt.lFrame.elementDepthCount}()&&On(C,h),function sl(){pt.lFrame.elementDepthCount++}(),Za(M)&&(Hp(m,h,M),jD(m,M,h)),null!==u&&r_(h,M),Fh}function og(){let s=bn();iu()?su():(s=s.parent,Gr(s,!1));const o=s;!function ol(){pt.lFrame.elementDepthCount--}();const l=Vt();return l.firstCreatePass&&(ds(l,s),gc(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function kc(s){return 0!=(16&s.flags)}(o)&&N_(l,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function op(s){return 0!=(32&s.flags)}(o)&&N_(l,o,De(),o.stylesWithoutHost,!1),og}function F_(s,o,l,u){return Fh(s,o,l,u),og(),F_}function bd(s,o,l){const u=De(),h=Vt(),m=s+20,v=h.firstCreatePass?function HI(s,o,l,u,h){const m=o.consts,v=$r(m,u),E=ud(o,s,8,"ng-container",v);return null!==v&&Lu(E,v,!0),Gp(o,l,E,$r(m,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(m,h,u,o,l):h.data[m];Gr(v,!0);const E=u[m]=u[11].createComment("");return Ym(h,u,E,v),On(E,u),Za(v)&&(Hp(h,u,v),jD(h,v,u)),null!=l&&r_(u,v),bd}function ag(){let s=bn();const o=Vt();return iu()?su():(s=s.parent,Gr(s,!1)),o.firstCreatePass&&(ds(o,s),gc(s)&&o.queries.elementEnd(s)),ag}function R0(){return De()}function L_(s){return!!s&&"function"==typeof s.then}function V_(s){return!!s&&"function"==typeof s.subscribe}const k0=V_;function Qi(s,o,l,u){const h=De(),m=Vt(),v=bn();return lg(m,h,h[11],v,s,o,!!l,u),Qi}function Lh(s,o){const l=bn(),u=De(),h=Vt();return lg(h,u,dd(Ho(h.data),l,u),l,s,o,!1),Lh}function lg(s,o,l,u,h,m,v,E){const C=Za(u),R=s.firstCreatePass&&l_(s),F=o[8],j=iI(o);let Y=!0;if(3&u.type||E){const He=gr(u,o),tt=E?E(He):He,Te=j.length,_t=E?en=>E(un(en[u.index])):u.index;if(yn(l)){let en=null;if(!E&&C&&(en=function Vh(s,o,l,u){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===u){const E=o[7],C=h[m+2];return E.length>C?E[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,u.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=m,en.__ngLastListenerFn__=m,Y=!1;else{m=B_(u,o,F,m,!1);const mn=l.listen(tt,h,m);j.push(m,mn),R&&R.push(h,_t,Te,Te+1)}}else m=B_(u,o,F,m,!0),tt.addEventListener(h,m,v),j.push(m),R&&R.push(h,_t,Te,v)}else m=B_(u,o,F,m,!1);const ye=u.outputs;let Ne;if(Y&&null!==ye&&(Ne=ye[h])){const He=Ne.length;if(He)for(let tt=0;tt<He;tt+=2){const oo=o[Ne[tt]][Ne[tt+1]].subscribe(m),Pd=j.length;j.push(m,oo),R&&R.push(h,u.index,Pd,-(Pd+1))}}}function O0(s,o,l,u){try{return!1!==l(u)}catch(h){return u_(s,h),!1}}function B_(s,o,l,u,h){return function m(v){if(v===Function)return u;const E=2&s.flags?mr(s.index,o):o;0==(32&o[2])&&Wp(E);let C=O0(o,0,u,v),M=m.__ngNextListenerFn__;for(;M;)C=O0(o,0,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function ug(s=1){return function Ks(s){return(pt.lFrame.contextLView=function hu(s,o){for(;s>0;)o=o[15],s--;return o}(s,pt.lFrame.contextLView))[8]}(s)}function $I(s,o){let l=null;const u=function YR(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?SD(s,m,!0):JR(u,m))return h}else l=h}return l}function P0(s){const o=De()[16][6];if(!o.projection){const u=o.projection=Mr(s?s.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const v=s?$I(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:u[v]=m,h[v]=m),m=m.next}}}function Bh(s,o=0,l){const u=De(),h=Vt(),m=ud(h,20+s,16,null,l||null);null===m.projection&&(m.projection=o),su(),64!=(64&m.flags)&&function $R(s,o,l){wD(o[11],0,o,l,hD(s,l,o),mD(l.parent||o[6],l,o))}(h,u,m)}function U_(s,o,l){return Uh(s,"",o,"",l),U_}function Uh(s,o,l,u,h){const m=De(),v=gd(m,o,l,u);return v!==Pt&&ys(Vt(),Tn(),m,s,v,m[11],h,!1),Uh}function V0(s,o,l,u,h){const m=s[l+1],v=null===o;let E=u?Jo(m):Nl(m),C=!1;for(;0!==E&&(!1===C||v);){const R=s[E+1];G_(s[E],o)&&(C=!0,s[E+1]=u?kb(R):xb(R)),E=u?Jo(R):Nl(R)}C&&(s[l+1]=u?xb(m):kb(m))}function G_(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Co(s,o)>=0}function W_(s,o){return function Ao(s,o,l,u){const h=De(),m=Vt(),v=function Ci(s){const o=pt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);m.firstUpdatePass&&function XI(s,o,l,u){const h=s.data;if(null===h[l+1]){const m=h[_r()],v=function QI(s,o){return o>=s.expandoStartIndex}(s,l);(function hg(s,o){return 0!=(s.flags&(o?16:32))})(m,u)&&null===o&&!v&&(o=!1),o=function Mk(s,o,l,u){const h=Ho(s);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=dg(l=W0(null,s,o,l,u),o.attrs,u),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=W0(h,s,o,l,u),null===m){let C=function xk(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==Nl(u))return s[Jo(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=W0(null,s,o,C[1],u),C=dg(C,o.attrs,u),function Rk(s,o,l,u){s[Jo(l?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else m=function q0(s,o,l){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=dg(u,s[m].hostAttrs,l);return dg(u,o.attrs,l)}(s,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,u),function cg(s,o,l,u,h,m){let v=m?o.classBindings:o.styleBindings,E=Jo(v),C=Nl(v);s[u]=l;let R,M=!1;if(Array.isArray(l)){const F=l;R=F[1],(null===R||Co(F,R)>0)&&(M=!0)}else R=l;if(h)if(0!==C){const j=Jo(s[E+1]);s[u+1]=Xm(j,E),0!==j&&(s[j+1]=Rb(s[j+1],u)),s[E+1]=function rk(s,o){return 131071&s|o<<17}(s[E+1],u)}else s[u+1]=Xm(E,0),0!==E&&(s[E+1]=Rb(s[E+1],u)),E=u;else s[u+1]=Xm(C,0),0===E?E=u:s[C+1]=Rb(s[C+1],u),C=u;M&&(s[u+1]=xb(s[u+1])),V0(s,R,u,!0),V0(s,R,u,!1),function zI(s,o,l,u,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Co(m,o)>=0&&(l[u+1]=kb(l[u+1]))}(o,R,s,u,m),v=Xm(E,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,u)}}(m,s,v,u),o!==Pt&&Bn(h,v,o)&&function eT(s,o,l,u,h,m,v,E){if(!(3&o.type))return;const C=s.data,M=C[E+1];K_(function OD(s){return 1==(1&s)}(M)?tT(C,o,l,h,Nl(M),v):void 0)||(K_(m)||function kD(s){return 2==(2&s)}(M)&&(m=tT(C,null,l,h,E,v)),function zR(s,o,l,u,h){const m=yn(s);if(o)h?m?s.addClass(l,u):l.classList.add(u):m?s.removeClass(l,u):l.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:ae.DashCase;if(null==h)m?s.removeStyle(l,u,v):l.style.removeProperty(u);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=ae.Important),m?s.setStyle(l,u,h,v):l.style.setProperty(u,h,E?"important":"")}}}(u,v,_o(_r(),l),h,m))}(m,m.data[_r()],h,h[11],s,h[v+1]=function nT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(gs(s)))),s}(o,l),u,v)}(s,o,null,!0),W_}function W0(s,o,l,u,h){let m=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(m=o[E],u=dg(u,m.hostAttrs,h),m!==s);)E++;return null!==s&&(l.directiveStylingLast=E),u}function dg(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),xr(s,v,!!l||o[++m]))}return void 0===s?null:s}function tT(s,o,l,u,h,m){const v=null===o;let E;for(;h>0;){const C=s[h],M=Array.isArray(C),R=M?C[1]:C,F=null===R;let j=l[h+1];j===Pt&&(j=F?ht:void 0);let Y=F?Cl(j,u):R===u?j:void 0;if(M&&!K_(Y)&&(Y=Cl(C,u)),K_(Y)&&(E=Y,v))return E;const ye=s[h+1];h=v?Jo(ye):Nl(ye)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(E=Cl(C,u))}return E}function K_(s){return void 0!==s}function Z0(s,o=""){const l=De(),u=Vt(),h=s+20,m=u.firstCreatePass?ud(u,h,1,o,null):u.data[h],v=l[h]=function Ch(s,o){return yn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);Ym(u,l,v,m),Gr(m,!1)}function Y0(s){return fg("",s,""),Y0}function fg(s,o,l){const u=De(),h=gd(u,s,o,l);return h!==Pt&&kt(u,_r(),h),fg}function iE(s,o,l){const u=De();return Bn(u,Ws(),o)&&ys(Vt(),Tn(),u,s,o,u[11],l,!0),iE}function sE(s,o,l){const u=De();if(Bn(u,Ws(),o)){const m=Vt(),v=Tn();ys(m,v,u,s,o,dd(Ho(m.data),v,u),l,!0)}return sE}const Ed=void 0;var Uk=["en",[["a","p"],["AM","PM"],Ed],[["AM","PM"],Ed,Ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ed,"{1} 'at' {0}",Ed],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bk(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let $h={};function oE(s){const o=function wT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=aE(o);if(l)return l;const u=o.split("-")[0];if(l=aE(u),l)return l;if("en"===u)return Uk;throw new Error(`Missing locale data for the locale "${s}".`)}function Gh(s){return oE(s)[bt.PluralCase]}function aE(s){return s in $h||($h[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),$h[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const cr="en-US";let zh=cr;function oy(s,o,l,u,h){if(s=J(s),Array.isArray(s))for(let m=0;m<s.length;m++)oy(s[m],o,l,u,h);else{const m=Vt(),v=De();let E=fd(s)?s:J(s.provide),C=t0(s);const M=bn(),R=1048575&M.providerIndexes,F=M.directiveStart,j=M.providerIndexes>>20;if(fd(s)||!s.multi){const Y=new $o(C,h,Nh),ye=yg(E,o,h?R:R+j,F);-1===ye?(Eo(qo(M,v),m,E),Va(m,s,o.length),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(Y),v.push(Y)):(l[ye]=Y,v[ye]=Y)}else{const Y=yg(E,o,R+j,F),ye=yg(E,o,R,R+j),Ne=Y>=0&&l[Y],He=ye>=0&&l[ye];if(h&&!He||!h&&!Ne){Eo(qo(M,v),m,E);const tt=function AE(s,o,l,u,h){const m=new $o(s,l,Nh);return m.multi=[],m.index=o,m.componentProviders=0,Yr(m,h,u&&!l),m}(h?ay:Ba,l.length,h,u,C);!h&&He&&(l[ye].providerFactory=tt),Va(m,s,o.length,0),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(tt),v.push(tt)}else Va(m,s,Y>-1?Y:ye,Yr(l[h?ye:Y],C,!h&&u));!h&&u&&He&&l[ye].componentProviders++}}}function Va(s,o,l,u){const h=fd(o),m=function fI(s){return!!s.useClass}(o);if(h||m){const C=(m?J(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=M.indexOf(l);-1===R?M.push(l,[u,C]):M[R+1].push(u,C)}else M.push(l,C)}}}function Yr(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function yg(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function Ba(s,o,l,u){return qu(this.multi,[])}function ay(s,o,l,u){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ki(l,l[1],this.providerFactory.index,u);m=E.slice(0,v),qu(h,m);for(let C=v;C<E.length;C++)m.push(E[C])}else m=[],qu(h,m);return m}function qu(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function ME(s,o=[]){return l=>{l.providersResolver=(u,h)=>function SE(s,o,l){const u=Vt();if(u.firstCreatePass){const h=jr(s);oy(l,u.data,u.blueprint,h,!0),oy(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class xE{}class kE{resolveComponentFactory(o){throw function JT(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Xh=(()=>{class s{}return s.NULL=new kE,s})();function eS(){return Td(bn(),De())}function Td(s,o){return new Jh(gr(s,o))}let Jh=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=eS,s})();function tS(s){return s instanceof Jh?s.nativeElement:s}class zt{}let rS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function OE(){const s=De(),l=mr(bn().index,s);return function Sd(s){return s[11]}(ni(l)?l:s)}(),s})(),ly=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class PE{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const NE=new PE("13.3.5"),uy={};function Ds(s,o,l,u,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&u.push(un(m)),Ur(m))for(let E=10;E<m.length;E++){const C=m[E],M=C[1].firstChild;null!==M&&Ds(C[1],C,M,u)}const v=l.type;if(8&v)Ds(s,o,l.child,u);else if(32&v){const E=et(l,o);let C;for(;C=E();)u.push(C)}else if(16&v){const E=bD(o,l);if(Array.isArray(E))u.push(...E);else{const C=An(o[16]);Ds(C[1],C,E,u,!0)}}l=h?l.projectionNext:l.next}return u}class Ad{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Ds(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ur(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Db(o,u),ps(l,u))}this._attachedToViewContainer=!1}dD(this._lView[1],this._lView)}onDestroy(o){i_(this._lView[1],this._lView,null,o)}markForCheck(){Wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Sh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function a_(s,o,l){qs(!0);try{Sh(s,o,l)}finally{qs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Cb(s,o){Vp(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class FE extends Ad{constructor(o){super(o),this._view=o}detectChanges(){rI(this._view)}checkNoChanges(){!function bk(s){qs(!0);try{rI(s)}finally{qs(!1)}}(this._view)}get context(){return null}}class cy extends Xh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Zt(o);return new dy(l,this.ngModule)}}function iS(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class dy extends xE{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function tk(s){return s.map(ek).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return iS(this.componentDef.inputs)}get outputs(){return iS(this.componentDef.outputs)}create(o,l,u,h){const m=(h=h||this.ngModule)?function sa(s,o){return{get:(l,u,h)=>{const m=s.get(l,uy,h);return m!==uy||u===uy?m:o.get(l,u,h)}}}(o,h.injector):o,v=m.get(zt,Bo),E=m.get(ly,null),C=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",R=u?function Hb(s,o,l){if(yn(s))return s.selectRootElement(o,l===Kt.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):Dh(v.createRenderer(null,this.componentDef),M,function Qr(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),F=this.componentDef.onPush?576:528,j=function y_(s,o){return{components:[],scheduler:s||Km,clean:Yb,playerHandler:o||null,flags:0}}(),Y=$p(0,null,null,1,0,null,null,null,null,null),ye=Up(null,Y,j,F,null,null,v,C,E,m);let Ne,He;yo(ye);try{const tt=function Vl(s,o,l,u,h,m){const v=l[1];l[20]=s;const C=ud(v,20,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(Lu(C,M,!0),null!==s&&(_u(h,s,M),null!==C.classes&&Mb(h,s,C.classes),null!==C.styles&&CD(h,s,C.styles)));const R=u.createRenderer(s,o),F=Up(l,Ub(o),null,o.onPush?64:16,l[20],C,u,R,m||null,null);return v.firstCreatePass&&(Eo(qo(C,l),v,o.type),YD(v,C),XD(C,l.length,1)),cd(l,F),l[20]=F}(R,this.componentDef,ye,v,C);if(R)if(u)_u(C,R,["ng-version",NE.full]);else{const{attrs:Te,classes:_t}=function nk(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++u]):8===h&&l.push(m);else{if(!To(h))break;h=m}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Te&&_u(C,R,Te),_t&&_t.length>0&&Mb(C,R,_t.join(" "))}if(He=ga(Y,20),void 0!==l){const Te=He.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const en=l[_t];Te.push(null!=en?Array.from(en):null)}}Ne=function __(s,o,l,u,h){const m=l[1],v=function mk(s,o,l){const u=bn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),JD(s,u,o,Ih(s,o,1,null),l));const h=Ki(o,s,u.directiveStart,u);On(h,o);const m=gr(u,o);return m&&On(m,o),h}(m,l,o);if(u.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=bn();o.contentQueries(1,v,C.directiveStart)}const E=bn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Zs(E.index),s_(l[1],E,0,E.directiveStart,E.directiveEnd,o),Fu(o,v)),v}(tt,this.componentDef,ye,j,[EI]),jp(Y,ye,null)}finally{bo()}return new LE(this.componentType,Ne,Td(He,ye),ye,He)}}class LE extends class XT{}{constructor(o,l,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new FE(h),this.componentType=o}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Wu{}class VE{}const Ku=new Map;class $l extends Wu{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cy(this);const u=fn(o);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=aI(o,l,[{provide:Wu,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver}],fe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=ta.THROW_IF_NOT_FOUND,u=ct.Default){return o===ta||o===Wu||o===c_?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class hy extends VE{constructor(o){super(),this.moduleType=o,null!==fn(o)&&function Zu(s){const o=new Set;!function l(u){const h=fn(u,!0),m=h.id;null!==m&&(function ef(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${fe(o)} vs ${fe(o.name)}`)}(m,Ku.get(m),u),Ku.set(m,u));const v=g(h.imports);for(const E of v)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new $l(this.moduleType,o)}}function fy(s,o,l){const u=lr()+s,h=De();return h[u]===Pt?ki(h,u,l?o.call(l):o()):function pd(s,o){return s[o]}(h,u)}function py(s,o,l,u){return function my(s,o,l,u,h,m){const v=o+l;return Bn(s,v,h)?ki(s,v+1,m?u.call(m,h):u(h)):function xd(s,o){const l=s[o];return l===Pt?void 0:l}(s,v+1)}(De(),lr(),s,o,l,u)}function Gl(s){return o=>{setTimeout(s,void 0,o)}}const Mo=class Ua extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var h,m,v;let E=o,C=l||(()=>null),M=u;if(o&&"object"==typeof o){const F=o;E=null===(h=F.next)||void 0===h?void 0:h.bind(F),C=null===(m=F.error)||void 0===m?void 0:m.bind(F),M=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(C=Gl(C),E&&(E=Gl(E)),M&&(M=Gl(M)));const R=super.subscribe({next:E,error:C,complete:M});return o instanceof Q.w0&&o.add(R),R}};function GE(){return this._results[Bu()]()}class yy{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Bu(),u=yy.prototype;u[l]||(u[l]=GE)}get changes(){return this._changes||(this._changes=new Mo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=ur(o);(this._changesDetected=!function bl(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],m=o[u];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xo=(()=>{class s{}return s.__NG_ELEMENT_ID__=wg,s})();const zE=xo,mS=class extends zE{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=Up(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(l)),jp(l,u,o),new Ad(u)}};function wg(){return rf(bn(),De())}function rf(s,o){return 4&s.type?new mS(o,s,Td(s,o)):null}let Rd=(()=>{class s{}return s.__NG_ELEMENT_ID__=qE,s})();function qE(){return KE(bn(),De())}const vy=Rd,Cg=class extends vy{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Td(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){const o=oi(this._hostTNode,this._hostLView);if(fl(o)){const l=vr(o,this._hostLView),u=Bt(o);return new br(l[1].data[u+8],l)}return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=WE(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const h=o.createEmbeddedView(l||{});return this.insert(h,u),h}createComponent(o,l,u,h,m){const v=o&&!function wo(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const F=l||{};E=F.index,u=F.injector,h=F.projectableNodes,m=F.ngModuleRef}const C=v?o:new dy(Zt(o)),M=u||this.parentInjector;if(!m&&null==C.ngModule){const j=(v?M:this.parentInjector).get(Wu,null);j&&(m=j)}const R=C.create(M,h,void 0,m);return this.insert(R.hostView,E),R}insert(o,l){const u=o._lView,h=u[1];if(function rl(s){return Ur(s[3])}(u)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const F=u[3],j=new Cg(F,F[6],F[3]);j.detach(j.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function LR(s,o,l,u){const h=10+u,m=l.length;u>0&&(l[h-1][4]=o),u<m-10?(o[4]=l[h],bu(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function VR(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,u,v,m);const E=Sb(m,v),C=u[11],M=Zm(C,v[7]);return null!==M&&function Lp(s,o,l,u,h,m){u[0]=h,u[6]=o,Vp(s,u,l,1,h,m)}(h,v[6],C,u,M,E),o.attachToViewContainerRef(),bu(Qu(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=WE(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Db(this._lContainer,l);u&&(ps(Qu(this._lContainer),l),dD(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=Db(this._lContainer,l);return u&&null!=ps(Qu(this._lContainer),l)?new Ad(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function WE(s){return s[8]}function Qu(s){return s[8]||(s[8]=[])}function KE(s,o){let l;const u=o[s.index];if(Ur(u))l=u;else{let h;if(8&s.type)h=un(u);else{const m=o[11];h=m.createComment("");const v=gr(s,o);od(m,Zm(m,v),h,function HR(s,o){return yn(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=l=qp(u,o,h,s),cd(o,l)}return new Cg(l,s,o)}class Xu{constructor(o){this.queryList=o,this.matches=null}clone(){return new Xu(this.queryList)}setDirty(){this.queryList.setDirty()}}class sf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<u;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new sf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Tg(o,l).matches&&this.queries[l].setDirty()}}class Ey{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class Dg{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==l?l.push(m):l=[m])}return null!==l?new Dg(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class wy{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new wy(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,l,Cy(l,m)),this.matchTNodeWithReadOption(o,l,vu(l,o,m,!1,!1))}else u===xo?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,vu(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Jh||h===Rd||h===xo&&4&l.type)this.addMatch(l.index,-2);else{const m=vu(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Cy(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function bS(s,o,l,u){return-1===l?function vS(s,o){return 11&s.type?Td(s,o):4&s.type?rf(s,o):null}(o,s):-2===l?function ES(s,o,l){return l===Jh?Td(o,s):l===xo?rf(o,s):l===Rd?KE(o,s):void 0}(s,o,u):Ki(s,s[1],l,o)}function Dy(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const m=s.data,v=l.matches,E=[];for(let C=0;C<v.length;C+=2){const M=v[C];E.push(M<0?null:bS(o,m[M],v[C+1],l.metadata.read))}h.matches=E}return h.matches}function kd(s,o,l,u){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=Dy(s,o,h,l);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)u.push(v[E/2]);else{const M=m[E+1],R=o[-C];for(let F=10;F<R.length;F++){const j=R[F];j[17]===j[3]&&kd(j[1],j,M,u)}if(null!==R[9]){const F=R[9];for(let j=0;j<F.length;j++){const Y=F[j];kd(Y[1],Y,M,u)}}}}}return u}function ZE(s){const o=De(),l=Vt(),u=uu();cu(u+1);const h=Tg(l,u);if(s.dirty&&$s(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?kd(l,o,u,[]):Dy(l,o,h,u);s.reset(m,tS),s.notifyOnChanges()}return!0}return!1}function Ig(s,o,l){const u=Vt();u.firstCreatePass&&(JE(u,new Ey(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),XE(u,De(),o)}function YE(s,o,l,u){const h=Vt();if(h.firstCreatePass){const m=bn();JE(h,new Ey(o,l,u),m.index),function wS(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}XE(h,De(),l)}function Iy(){return function QE(s,o){return s[19].queries[o].queryList}(De(),uu())}function XE(s,o,l){const u=new yy(4==(4&l));i_(s,o,u,u.destroy),null===o[19]&&(o[19]=new sf),o[19].queries.push(new Xu(u))}function JE(s,o,l){null===s.queries&&(s.queries=new Dg),s.queries.track(new wy(o,l))}function Tg(s,o){return s.queries.getByIndex(o)}function kg(...s){}const uw=new Cn("Application Initializer");let Fy=(()=>{class s{constructor(l){this.appInits=l,this.resolve=kg,this.reject=kg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(L_(m))l.push(m);else if(k0(m)){const v=new Promise((E,C)=>{m.subscribe({complete:E,error:C})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(rt(uw,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cw=new Cn("AppId",{providedIn:"root",factory:function Ly(){return`${Vy()}${Vy()}${Vy()}`}});function Vy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dw=new Cn("Platform Initializer"),OS=new Cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hw=new Cn("appBootstrapListener");let sO=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Og=new Cn("LocaleId",{providedIn:"root",factory:()=>Yt(Og,ct.Optional|ct.SkipSelf)||function fw(){return"undefined"!=typeof $localize&&$localize.locale||cr}()}),pw=new Cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class FS{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let LS=(()=>{class s{compileModuleSync(l){return new hy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),m=g(fn(l).declarations).reduce((v,E)=>{const C=Zt(E);return C&&v.push(new dy(C)),v},[]);return new FS(u,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const By=(()=>Promise.resolve(0))();function Uy(s){"undefined"==typeof Zone?By.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ko{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mo(!1),this.onMicrotaskEmpty=new Mo(!1),this.onStable=new Mo(!1),this.onError=new Mo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function VS(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function US(s){const o=()=>{!function BS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Hy(s),s.isCheckStableRunning=!0,Pg(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Hy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,m,v,E)=>{try{return mw(s),l.invokeTask(h,m,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),$y(s)}},onInvoke:(l,u,h,m,v,E,C)=>{try{return mw(s),l.invoke(h,m,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),$y(s)}},onHasTask:(l,u,h,m)=>{l.hasTask(h,m),u===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Hy(s),Pg(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,u,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ko.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ko.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,jy,kg,kg);try{return m.runTask(v,l,u)}finally{m.cancelTask(v)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const jy={};function Pg(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Hy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function mw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function $y(s){s._nesting--,Pg(s)}class jS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mo,this.onMicrotaskEmpty=new Mo,this.onStable=new Mo,this.onError=new Mo}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}let _w=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ko.assertNotInAngularZone(),Uy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uy(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(rt(ko))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),Xi=(()=>{class s{constructor(){this._applications=new Map,pf.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return pf.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class HS{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function yw(s){pf=s}let pf=new HS,ja=null;const tc=new Cn("AllowMultipleToken"),vw=new Cn("PlatformOnDestroy");class bw{constructor(o,l){this.name=o,this.token=l}}function Ng(s,o,l=[]){const u=`Platform: ${o}`,h=new Cn(u);return(m=[])=>{let v=Gy();if(!v||v.injector.get(tc,!1)){const E=[...l,...m,{provide:h,useValue:!0}];s?s(E):function Ew(s){if(ja&&!ja.get(tc,!1))throw new Oe(400,"");ja=s;const o=s.get(ww),l=s.get(dw,null);l&&l.forEach(u=>u())}(function nc(s=[],o){return ta.create({name:o,providers:[{provide:d_,useValue:"platform"},{provide:vw,useValue:()=>ja=null},...s]})}(E,u))}return function uO(s){const o=Gy();if(!o)throw new Oe(401,"");return o}()}}function Gy(){var s;return null!==(s=null==ja?void 0:ja.get(ww))&&void 0!==s?s:null}let ww=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const E=function Cw(s,o){let l;return l="noop"===s?new jS:("zone.js"===s?void 0:s)||new ko({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:ko,useValue:E}];return E.run(()=>{const M=ta.create({providers:C,parent:this.injector,name:l.moduleType.name}),R=l.create(M),F=R.injector.get(kr,null);if(!F)throw new Oe(402,"");return E.runOutsideAngular(()=>{const j=E.onError.subscribe({next:Y=>{F.handleError(Y)}});R.onDestroy(()=>{Fg(this._modules,R),j.unsubscribe()})}),function WS(s,o,l){try{const u=l();return L_(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(F,E,()=>{const j=R.injector.get(Fy);return j.runInitializers(),j.donePromise.then(()=>(function lE(s){on(s,"Expected localeId to be defined"),"string"==typeof s&&(zh=s.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Og,cr)||cr),this._moduleDoBootstrap(R),R))})})}bootstrapModule(l,u=[]){const h=Dw({},u);return function $S(s,o,l){const u=new hy(l);return Promise.resolve(u)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const u=l.injector.get(zy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Oe(403,"");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(vw,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(rt(ta))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Dw(s,o){return Array.isArray(o)?o.reduce(Dw,s):Object.assign(Object.assign({},s),o)}let zy=(()=>{class s{constructor(l,u,h,m){this._zone=l,this._injector=u,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new N.y(C=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{ko.assertNotInAngularZone(),Uy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{ko.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{M.unsubscribe(),R.unsubscribe()}});this.isStable=(0,le.T)(v,E.pipe((0,ne.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Oe(405,"");let h;h=l instanceof xE?l:this._injector.get(Xh).resolveComponentFactory(l),this.componentTypes.push(h.componentType);const m=function zS(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Wu),E=h.create(ta.NULL,[],u||h.selector,m),C=E.location.nativeElement,M=E.injector.get(_w,null),R=M&&E.injector.get(Xi);return M&&R&&R.registerApplication(C,M),E.onDestroy(()=>{this.detachView(E.hostView),Fg(this.components,E),R&&R.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Fg(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(hw,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(rt(ko),rt(ta),rt(kr),rt(Fy))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fg(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let Tw=!0,Lg=!1;function ZS(){return Lg=!0,Tw}function YS(){if(Lg)throw new Error("Cannot enable prod mode after platform setup.");Tw=!1}let Sw=(()=>{class s{}return s.__NG_ELEMENT_ID__=JS,s})();function JS(s){return function Aw(s,o,l){if(Vs(s)&&!l){const u=mr(s.index,o);return new Ad(u,u)}return 47&s.type?new Ad(o[16],o):null}(bn(),De(),16==(16&s))}class Mw{constructor(){}supports(o){return So(o)}create(o){return new yO(o)}}const xw=(s,o)=>o;class yO{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||xw}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,m=null;for(;l||u;){const v=!u||l&&l.currentIndex<rA(u,h,m)?l:u,E=rA(v,h,m),C=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const M=E-h,R=C-h;if(M!=R){for(let j=0;j<M;j++){const Y=j<m.length?m[j]:m[j]=0,ye=Y+j;R<=ye&&ye<M&&(m[j]=Y+1)}m[v.previousIndex]=R-M}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!So(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)m=o[E],v=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,m,v,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,E),u=!0),l=l._next}else h=0,function Jp(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Bu()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new vO(l,u),m,h),o}_verifyReinsertion(o,l,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new nA),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nA),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class vO{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bO{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class nA{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new bO,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rA(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class iA{constructor(){}supports(o){return o instanceof Map||C_(o)}create(){return new sA}}class sA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||C_(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const u=new oA(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class oA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aA(){return new Xy([new Mw])}let Xy=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||aA()),deps:[[s,new Ai,new Ti]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new Oe(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:aA}),s})();function uA(){return new Rw([new iA])}let Rw=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||uA()),deps:[[s,new Ai,new Ti]]}}find(l){const u=this.factories.find(m=>m.supports(l));if(u)return u;throw new Oe(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:uA}),s})();const kw=Ng(null,"core",[]);let CO=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(rt(zy))},s.\u0275mod=X({type:s}),s.\u0275inj=Xt({}),s})()},3942:(ot,Ie,P)=>{P.d(Ie,{Z:()=>Oe});var d=P(2090),Q=P(4859),N=P(9681),le=P(1877);class ne{constructor(pe,we){this._delegate=pe,this.firebase=we,(0,N._addComponent)(pe,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(pe,we=N._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(pe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(Je=Ze.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:we})}_removeServiceInstance(pe,we=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(we)}_addComponent(pe){(0,N._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,N._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ce(){const Ve=function fe(Ve){const pe={},we={__esModule:!0,initializeApp:function Se(je,se={}){const We=N.initializeApp(je,se);if((0,d.r3)(pe,We.name))return pe[We.name];const te=new Ve(We,we);return pe[We.name]=te,te},app:Ze,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ee(je){const se=je.name,We=se.replace("-compat","");if(N._registerComponent(je)&&"PUBLIC"===je.type){const te=(ue=Ze())=>{if("function"!=typeof ue[We])throw ee.create("invalid-app-argument",{appName:se});return ue[We]()};void 0!==je.serviceProps&&(0,d.ZB)(te,je.serviceProps),we[We]=te,Ve.prototype[We]=function(...ue){return this._getService.bind(this,se).apply(this,je.multipleInstances?ue:[])}}return"PUBLIC"===je.type?we[We]:null},removeApp:function Je(je){delete pe[je]},useAsService:function $e(je,se){return"serverAuth"===se?null:se},modularAPIs:N}};function Ze(je){if(!(0,d.r3)(pe,je=je||N._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:je});return pe[je]}return we.default=we,Object.defineProperty(we,"apps",{get:function ve(){return Object.keys(pe).map(je=>pe[je])}}),Ze.App=Ve,we}(ne);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function pe(we){(0,d.ZB)(Ve,we)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ve}(),G=new le.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=$;!function Me(Ve){(0,N.registerVersion)("@firebase/app-compat","0.1.23",Ve)}()},9681:(ot,Ie,P)=>{P.r(Ie),P.d(Ie,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Ir,_DEFAULT_ENTRY_NAME:()=>Qt,_addComponent:()=>Kn,_addOrOverwriteComponent:()=>Dn,_apps:()=>ze,_clearComponents:()=>Wt,_components:()=>qt,_getProvider:()=>Ei,_registerComponent:()=>nn,_removeServiceInstance:()=>Xt,deleteApp:()=>is,getApp:()=>Tr,getApps:()=>rs,initializeApp:()=>$i,onLog:()=>Zn,registerVersion:()=>Vr,setLogLevel:()=>$n});var d=P(5861),Q=P(4859),N=P(1877),le=P(2090);class ne{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function me(Ye){const Ae=Ye.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(Xe)){const ft=Xe.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Xe=>Xe).join(" ")}}const ee="@firebase/app",ce=new N.Yd("@firebase/app"),Qt="[DEFAULT]",on={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,qt=new Map;function Kn(Ye,Ae){try{Ye.container.addComponent(Ae)}catch(Xe){ce.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Ye.name}`,Xe)}}function Dn(Ye,Ae){Ye.container.addOrOverwriteComponent(Ae)}function nn(Ye){const Ae=Ye.name;if(qt.has(Ae))return ce.debug(`There were multiple attempts to register component ${Ae}.`),!1;qt.set(Ae,Ye);for(const Xe of ze.values())Kn(Xe,Ye);return!0}function Ei(Ye,Ae){const Xe=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),Ye.container.getProvider(Ae)}function Xt(Ye,Ae,Xe=Qt){Ei(Ye,Ae).clearInstance(Xe)}function Wt(){qt.clear()}const Jr=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Os{constructor(Ae,Xe,ft){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const Ir="9.7.0";function $i(Ye,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const Xe=Object.assign({name:Qt,automaticDataCollectionEnabled:!1},Ae),ft=Xe.name;if("string"!=typeof ft||!ft)throw Jr.create("bad-app-name",{appName:String(ft)});const jt=ze.get(ft);if(jt){if((0,le.vZ)(Ye,jt.options)&&(0,le.vZ)(Xe,jt.config))return jt;throw Jr.create("duplicate-app",{appName:ft})}const Lt=new Q.H0(ft);for(const B of qt.values())Lt.addComponent(B);const H=new Os(Ye,Xe,Lt);return ze.set(ft,H),H}function Tr(Ye=Qt){const Ae=ze.get(Ye);if(!Ae)throw Jr.create("no-app",{appName:Ye});return Ae}function rs(){return Array.from(ze.values())}function is(Ye){return ct.apply(this,arguments)}function ct(){return(ct=(0,d.Z)(function*(Ye){const Ae=Ye.name;ze.has(Ae)&&(ze.delete(Ae),yield Promise.all(Ye.container.getProviders().map(Xe=>Xe.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function Vr(Ye,Ae,Xe){var ft;let jt=null!==(ft=on[Ye])&&void 0!==ft?ft:Ye;Xe&&(jt+=`-${Xe}`);const Lt=jt.match(/\s|\//),H=Ae.match(/\s|\//);if(Lt||H){const B=[`Unable to register library "${jt}" with version "${Ae}":`];return Lt&&B.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),Lt&&H&&B.push("and"),H&&B.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ce.warn(B.join(" "))}nn(new Q.wA(`${jt}-version`,()=>({library:jt,version:Ae}),"VERSION"))}function Zn(Ye,Ae){if(null!==Ye&&"function"!=typeof Ye)throw Jr.create("invalid-log-argument");(0,N.Am)(Ye,Ae)}function $n(Ye){(0,N.Ub)(Ye)}const vn="firebase-heartbeat-store";let Yn=null;function Ps(){return Yn||(Yn=(0,le.X3)("firebase-heartbeat-database",1,(Ye,Ae)=>{0===Ae&&Ye.createObjectStore(vn)}).catch(Ye=>{throw Jr.create("storage-open",{originalErrorMessage:Ye.message})})),Yn}function Kt(){return(Kt=(0,d.Z)(function*(Ye){try{return(yield Ps()).transaction(vn).objectStore(vn).get(ir(Ye))}catch(Ae){throw Jr.create("storage-get",{originalErrorMessage:Ae.message})}})).apply(this,arguments)}function it(Ye,Ae){return wt.apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(Ye,Ae){try{const ft=(yield Ps()).transaction(vn,"readwrite");return yield ft.objectStore(vn).put(Ae,ir(Ye)),ft.complete}catch(Xe){throw Jr.create("storage-set",{originalErrorMessage:Xe.message})}})).apply(this,arguments)}function ir(Ye){return`${Ye.name}!${Ye.options.appId}`}class uo{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new ht(Xe),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var Ae=this;return(0,d.Z)(function*(){const ft=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=hr();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Ae._heartbeatsCache.heartbeats.some(Lt=>Lt.date===jt))return Ae._heartbeatsCache.heartbeats.push({date:jt,agent:ft}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Lt=>{const H=new Date(Lt.date).valueOf();return Date.now()-H<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,d.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const Xe=hr(),{heartbeatsToSend:ft,unsentEntries:jt}=function sr(Ye,Ae=1024){const Xe=[];let ft=Ye.slice();for(const jt of Ye){const Lt=Xe.find(H=>H.agent===jt.agent);if(Lt){if(Lt.dates.push(jt.date),fr(Xe)>Ae){Lt.dates.pop();break}}else if(Xe.push({agent:jt.agent,dates:[jt.date]}),fr(Xe)>Ae){Xe.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:ft}}(Ae._heartbeatsCache.heartbeats),Lt=(0,le.L)(JSON.stringify({version:2,heartbeats:ft}));return Ae._heartbeatsCache.lastSentHeartbeatDate=Xe,jt.length>0?(Ae._heartbeatsCache.heartbeats=jt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Lt})()}}function hr(){return(new Date).toISOString().substring(0,10)}class ht{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,d.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function ua(Ye){return Kt.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var Xe=this;return(0,d.Z)(function*(){var ft;if(yield Xe._canUseIndexedDBPromise){const Lt=yield Xe.read();return it(Xe.app,{lastSentHeartbeatDate:null!==(ft=Ae.lastSentHeartbeatDate)&&void 0!==ft?ft:Lt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var Xe=this;return(0,d.Z)(function*(){var ft;if(yield Xe._canUseIndexedDBPromise){const Lt=yield Xe.read();return it(Xe.app,{lastSentHeartbeatDate:null!==(ft=Ae.lastSentHeartbeatDate)&&void 0!==ft?ft:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...Ae.heartbeats]})}})()}}function fr(Ye){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function Ut(Ye){nn(new Q.wA("platform-logger",Ae=>new ne(Ae),"PRIVATE")),nn(new Q.wA("heartbeat",Ae=>new uo(Ae),"PRIVATE")),Vr(ee,"0.7.22",Ye),Vr(ee,"0.7.22","esm2017"),Vr("fire-js","")}("")},4859:(ot,Ie,P)=>{P.d(Ie,{H0:()=>fe,wA:()=>N});var d=P(5861),Q=P(2090);class N{constructor($,G,J){this.name=$,this.instanceFactory=G,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class ne{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const J=new Q.BH;if(this.instancesDeferred.set(G,J),this.isInitialized(G)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:G});qe&&J.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const J=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),qe=null!==(G=null==$?void 0:$.optional)&&void 0!==G&&G;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Me){if(qe)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ee(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch(G){}for(const[G,J]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(G);try{const Me=this.getOrInitializeService({instanceIdentifier:qe});J.resolve(Me)}catch(Me){}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,d.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...G.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:J,options:G});for(const[Me,Oe]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Me)&&Oe.resolve(qe);return qe}onInit($,G){var J;const qe=this.normalizeInstanceIdentifier(G),Me=null!==(J=this.onInitCallbacks.get(qe))&&void 0!==J?J:new Set;Me.add($),this.onInitCallbacks.set(qe,Me);const Oe=this.instances.get(qe);return Oe&&$(Oe,qe),()=>{Me.delete($)}}invokeOnInitCallbacks($,G){const J=this.onInitCallbacks.get(G);if(J)for(const qe of J)try{qe($,G)}catch(Me){}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=$,ce===le?void 0:ce),options:G}),this.instances.set($,J),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch(qe){}var ce;return J||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new ne($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ot,Ie,P)=>{P.d(Ie,{Am:()=>ce,Ub:()=>fe,Yd:()=>ee,in:()=>Q});const d=[];var Q=(()=>{return($=Q||(Q={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Q;var $})();const N={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},le=Q.INFO,ne={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},me=($,G,...J)=>{if(G<$.logLevel)return;const qe=(new Date).toISOString(),Me=ne[G];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Me](`[${qe}]  ${$.name}:`,...J)};class ee{constructor(G){this.name=G,this._logLevel=le,this._logHandler=me,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in Q))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?N[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...G),this._logHandler(this,Q.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...G),this._logHandler(this,Q.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...G),this._logHandler(this,Q.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...G),this._logHandler(this,Q.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...G),this._logHandler(this,Q.ERROR,...G)}}function fe($){d.forEach(G=>{G.setLogLevel($)})}function ce($,G){for(const J of d){let qe=null;G&&G.level&&(qe=N[G.level]),J.userLogHandler=null===$?null:(Me,Oe,...Ve)=>{const pe=Ve.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Je){return null}}).filter(we=>we).join(" ");Oe>=(null!=qe?qe:Me.logLevel)&&$({level:Q[Oe].toLowerCase(),message:pe,args:Ve,type:Me.name})}}}},5861:(ot,Ie,P)=>{function d(N,le,ne,me,ee,fe,ce){try{var $=N[fe](ce),G=$.value}catch(J){return void ne(J)}$.done?le(G):Promise.resolve(G).then(me,ee)}function Q(N){return function(){var le=this,ne=arguments;return new Promise(function(me,ee){var fe=N.apply(le,ne);function ce(G){d(fe,me,ee,ce,$,"next",G)}function $(G){d(fe,me,ee,ce,$,"throw",G)}ce(void 0)})}}P.d(Ie,{Z:()=>Q})}},ot=>{ot(ot.s=6498)}]);